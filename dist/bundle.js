(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{console.log("[ConnectionManager] Checking connection...");const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(console.log("[ConnectionManager] Response status:",e.status),e.ok){const t=await e.json();return console.log("[ConnectionManager] Connected users:",t.connected),this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return console.log("[ConnectionManager] Response not OK, status:",e.status),this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("[ConnectionManager] Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.image("Titulo","assets/Bocetos/Inicio.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){const e=this.game&&this.game.musicaMenu;e&&e.isPlaying?this.musicaMenu=e:(this.sound.stopAll(),this.musicaMenu=this.sound.add("Musica_menu"),this.musicaMenu.play({loop:!0,volume:.5}),this.game.musicaMenu=this.musicaMenu),this.add.image(0,0,"Titulo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.text(380,200,"MOLE",{fontSize:"72px",color:"#892327",fontStyle:"bold",fontFamily:"roboto"}).setOrigin(.5),this.add.text(600,200,"HOLE",{fontSize:"72px",color:"#253754",fontFamily:"roboto"}).setOrigin(.5);const s=this.add.text(500,320,"Local 2 Jugadores",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#00fff7ff")).on("pointerout",()=>s.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("GameScene")}),o=this.add.text(500,420,"CrÃ©ditos",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>o.setColor("#00fff7ff")).on("pointerout",()=>o.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("CreditScene")}),i=this.add.text(500,470,"Ajustes",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setColor("#00fff7ff")).on("pointerout",()=>i.setColor("#892327")).on("pointerdown",()=>{this.scene.start("SettingsScene",{from:"menu"})}),n=this.add.text(500,520,"Leaderboards",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>n.setColor("#00fff7ff")).on("pointerout",()=>n.setColor("#892327")).on("pointerdown",()=>{this.scene.start("LeaderboardsScene")});this.playerInfoText=this.add.text(850,30,"",{fontSize:"18px",color:"#ffffff"}).setOrigin(1,0),this.loginBtn=this.add.text(850,60,"Iniciar sesiÃ³n",{fontSize:"16px",color:"#ffd27f"}).setOrigin(1,0).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.loginBtn.setColor("#fff")).on("pointerout",()=>this.loginBtn.setColor("#ffd27f")).on("pointerdown",()=>this.openLoginModal()),this.loadStoredUser();const r=this.add.text(500,370,"Multijugador en LÃ­nea",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>r.setColor("#00fff7ff")).on("pointerout",()=>r.setColor("#892327")).on("pointerdown",()=>{if(!localStorage.getItem("playerUser"))return alert("Necesitas iniciar sesiÃ³n para jugar en lÃ­nea"),void this.openLoginModal();this.scene.start("LobbyScene")});this.connectionText=this.add.text(500,580,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener),this.events.once("shutdown",()=>this.closeLoginModal())}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}loadStoredUser(){try{const e=localStorage.getItem("playerUser");if(!e)return;const t=JSON.parse(e);this.showUser(t)}catch(e){console.warn("[MenuScene] Error loading stored user:",e)}}showUser(e){this.player=e,this.playerInfoText.setText(`Jugador: ${e.name}`),this.loginBtn.setText("Cerrar sesiÃ³n"),this.loginBtn.off("pointerdown"),this.loginBtn.on("pointerdown",()=>this.logout())}logout(){localStorage.removeItem("playerUser"),this.player=null,this.playerInfoText.setText(""),this.loginBtn.setText("Iniciar sesiÃ³n"),this.loginBtn.off("pointerdown"),this.loginBtn.on("pointerdown",()=>this.openLoginModal())}openLoginModal(){if(this._loginModalOpen)return;this._loginModalOpen=!0;try{this.input.enabled=!1}catch(e){}const e=document.createElement("div");Object.assign(e.style,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"99999",pointerEvents:"auto"});const t=t=>{t.target===e&&(t.stopPropagation(),t.preventDefault())};e.addEventListener("pointerdown",t,!0),e.addEventListener("mousedown",t,!0);const s=t=>{t.target===e&&this.closeLoginModal()};e.addEventListener("click",s,!0),this._domBackgroundClickHandler=s;const o=document.createElement("div");Object.assign(o.style,{width:"420px",padding:"18px",background:"#0b1220",border:"2px solid #1f6feb",borderRadius:"8px",color:"#dff4ff",fontFamily:"sans-serif",boxSizing:"border-box",overflow:"hidden"});const i=document.createElement("div");i.textContent="Login / Nickname",Object.assign(i.style,{fontSize:"20px",marginBottom:"8px",textAlign:"center"});const n=(e,t="text")=>{const s=document.createElement("div");s.style.margin="8px 0";const o=document.createElement("div");o.textContent=e,o.style.marginBottom="6px",o.style.color="#dff4ff";const i=document.createElement("input");return i.type=t,Object.assign(i.style,{width:"100%",padding:"8px 10px",fontSize:"14px",borderRadius:"6px",border:"1px solid #234",background:"#123",color:"#ffffff",boxSizing:"border-box",outline:"none"}),s.appendChild(o),s.appendChild(i),{wrapper:s,input:i}},r=n("Email:","email"),a=n("Nickname:","text"),l=document.createElement("div");Object.assign(l.style,{color:"#ff8888",minHeight:"18px",marginTop:"6px"});const h=document.createElement("div");h.style.display="flex",h.style.justifyContent="space-between",h.style.marginTop="12px";const d=document.createElement("button");d.textContent="Entrar",Object.assign(d.style,{padding:"8px 14px",background:"#00ff00",border:"none",borderRadius:"6px",cursor:"pointer"});const c=document.createElement("button");c.textContent="Cancelar",Object.assign(c.style,{padding:"8px 14px",background:"#ff8888",border:"none",borderRadius:"6px",cursor:"pointer"}),h.appendChild(d),h.appendChild(c),o.appendChild(i),o.appendChild(r.wrapper),o.appendChild(a.wrapper),o.appendChild(l),o.appendChild(h),e.appendChild(o),document.body.appendChild(e),this._domModal=e,this._domEmailInput=r.input,this._domNameInput=a.input,this._domFeedback=l,this._domEmailInput.focus();const p=async()=>{await this.submitLoginDom()},u=()=>{this.closeLoginModal()},f=e=>{"Enter"===e.key&&p(),"Escape"===e.key&&u()};this._domSubmitHandler=p,this._domCancelHandler=u,this._domKeyHandler=f,this._domStopPointer=t,d.addEventListener("click",p),c.addEventListener("click",u),document.addEventListener("keydown",f),this._domEnterBtn=d,this._domCancelBtn=c}closeLoginModal(){if(this._loginModalOpen){this._loginModalOpen=!1;try{this.input.enabled=!0}catch(e){}try{this._domEnterBtn&&this._domSubmitHandler&&this._domEnterBtn.removeEventListener("click",this._domSubmitHandler)}catch(e){}try{this._domCancelBtn&&this._domCancelHandler&&this._domCancelBtn.removeEventListener("click",this._domCancelHandler)}catch(e){}try{this._domKeyHandler&&document.removeEventListener("keydown",this._domKeyHandler)}catch(e){}try{this._domModal&&this._domStopPointer&&(this._domModal.removeEventListener("pointerdown",this._domStopPointer,!0),this._domModal.removeEventListener("mousedown",this._domStopPointer,!0))}catch(e){}try{this._domModal&&this._domBackgroundClickHandler&&this._domModal.removeEventListener("click",this._domBackgroundClickHandler,!0)}catch(e){}this._domModal&&this._domModal.parentNode&&this._domModal.parentNode.removeChild(this._domModal),this._domModal=null,this._domEmailInput=null,this._domNameInput=null,this._domFeedback=null,this._domEnterBtn=null,this._domCancelBtn=null,this._domKeyHandler=null,this._domSubmitHandler=null,this._domCancelHandler=null,this._domStopPointer=null}}async submitLoginDom(){if(!this._domEmailInput||!this._domNameInput||!this._domFeedback)return;const e=this._domEmailInput.value.trim(),t=this._domNameInput.value.trim();if(e&&t)try{this._domFeedback.textContent="Enviando...";const s=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,name:t})});if(!s.ok){const e=await s.json().catch(()=>({}));return void(this._domFeedback.textContent=e.error||"Error al loguear")}const o=await s.json();localStorage.setItem("playerUser",JSON.stringify(o)),this.showUser(o),this._domFeedback.textContent="Â¡Bienvenido!",setTimeout(()=>this.closeLoginModal(),600)}catch(e){console.error("[MenuScene] Error en login DOM:",e),this._domFeedback.textContent="Error de red"}else this._domFeedback.textContent="Email y nickname son requeridos"}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class o extends Phaser.GameObjects.Image{constructor(e,t,s,o){super(e,s,o,"Martillo"),this.scene=e,this.id=t,this.setOrigin(.5,.35),this.setScale(1),this.setDepth(5),e.add.existing(this),this.isHitting=!1,this.hitOffset=45,e.input.on("pointermove",e=>{this.isHitting||this.scene.thermometerEffectActive||(this.x=e.x,this.y=e.y)})}hit(){if(this.isHitting)return;this.isHitting=!0;const e=this.x,t=this.y,s=this.angle,o=Phaser.Math.DegToRad(s+90),i=this.hitOffset,n=Math.cos(o)*i,r=Math.sin(o)*i;this.scene.tweens.add({targets:this,x:e+n,y:t+r,angle:s+18,duration:80,ease:"Power2.In",onComplete:()=>{this.scene.tweens.add({targets:this,x:e,y:t,angle:s,duration:140,ease:"Back.Out",onComplete:()=>{this.isHitting=!1}})}})}}class i{constructor(e,t,s,o){this.id=t,this.scene=e,this.isActive=!1,this.popUpDuration=1e3,this.health=1,this.holes=[],this.currentHoleIndex=0,this.moveCooldown=700,this._lastMoveTime=0,this.sprite=this.scene.physics.add.sprite(s,o,"bojack"),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.sprite.setVisible(!1),this.sprite.setScale(.5),this.sprite.setOrigin(.5),this.sprite.setDepth(2),this._onHitCallback=()=>this.hit(),this._pointerRegistered=!1,this.sprite.disableInteractive()}setHoles(e=[]){this.holes=e,this.holes.length&&(this.currentHoleIndex=0,this.moveToHole(this.currentHoleIndex))}moveToHole(e){if(!this.holes.length)return!1;const t=this.scene&&this.scene.time&&this.scene.time.now?this.scene.time.now:Date.now();if(t-this._lastMoveTime<this.moveCooldown)return!1;this._lastMoveTime=t,this.currentHoleIndex=Phaser.Math.Wrap(e,0,this.holes.length);const s=this.holes[this.currentHoleIndex];return this.sprite.setPosition(s.x,s.y),this.isActive&&this.hide(),!0}moveIndex(e){this.holes.length&&this.moveToHole(this.currentHoleIndex+e)}popUp(){if(!this.isActive){this.moveToHole(this.currentHoleIndex),this.isActive=!0,this.health=1,this._wasHit=!1,this.sprite.setVisible(!0),this.sprite.setInteractive({useHandCursor:!0}),this._pointerRegistered||(this.sprite.on("pointerdown",this._onHitCallback),this._pointerRegistered=!0);try{this.scene.events.emit("topoPopped",{id:this.id,holeIndex:this.currentHoleIndex,x:this.sprite.x,y:this.sprite.y,timestamp:this.scene.time?this.scene.time.now:Date.now()})}catch(e){console.warn("Emit topoPopped failed",e)}this.scene.time.delayedCall(this.popUpDuration,()=>{this.hide()})}}hide(){if(this.isActive&&(this.isActive=!1,this.sprite.setVisible(!1),this.sprite.disableInteractive(),!this._wasHit))try{this.scene.events.emit("topoMissed",{id:this.id,holeIndex:this.currentHoleIndex})}catch(e){console.warn("Emit topoMissed failed",e)}}hit(){return!!this.isActive&&(this._wasHit=!0,this.health-=1,this.sprite.setTint(16711680),this.scene.time.delayedCall(100,()=>{this.sprite.clearTint()}),this.health<=0&&(this.hide(),!0))}reset(){this.health=1,this.isActive=!1,this.sprite.setVisible(!1),this.sprite.clearTint()}}const n="clock",r="thermometer";class a extends e.Scene{constructor(){super("GameScene")}init(){this.timeLeft=60,this.isGameOver=!1,this.puntosPlayer1=0,this.puntosPlayer2=0,this.powerupAmount=20,this.powerupMaxStoredP1=3,this.powerupMaxStoredP2=3,this.powerupStoredP1=[],this.powerupStoredP2=[],this.powerupsUsedP1=0,this.powerupsUsedP2=0,this.powerup=null,this.powerupHoleIndex=-1,this.powerupDuration=5e3,this.powerupSpawnMin=4e3,this.powerupSpawnMax=12e3,this.thermometerEffectActive=!1,this.pinBlocked=!1,this.thermometerTimer=null,this.topoTimer=null,this.gameTimer=null}preload(){this.load.image("fondo","assets/fondo_game.png"),this.load.image("Martillo","assets/mazo.png"),this.load.image("bojack","assets/pin.png"),this.load.image("Pingolpeado","assets/pingolpeado.png"),this.load.image("reloj","assets/reloj.png"),this.load.image("agujero","assets/agujero.png"),this.load.image("termometro","assets/termometro.png"),this.load.audio("Musica_nivel","assets/Sonidos para_red/Hydrogen.mp3"),this.load.audio("Castor","assets/Sonidos para_red/Castor.mp3"),this.load.audio("Golpe","assets/Sonidos para_red/Golpe.mp3"),this.load.audio("Sonido_martillo","assets/Sonidos para_red/Martillo_juez.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3"),this.load.audio("Frio","assets/Sonidos para_red/Tembleque.mp3")}create(){this.add.rectangle(500,300,1e3,600,1710638),this.add.image(0,0,"fondo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.image(200,480,"agujero").setScale(.5),this.add.image(320,320,"agujero").setScale(.5),this.add.image(440,480,"agujero").setScale(.5),this.add.image(560,320,"agujero").setScale(.5),this.add.image(680,480,"agujero").setScale(.5),this.add.image(800,320,"agujero").setScale(.5),this.musicaNivel=this.sound.add("Musica_nivel"),this.musicaNivel.play({loop:!0,volume:.5}),this.input.mouse.disableContextMenu(),this.game.canvas.style.cursor="none",this.martillo=new o(this,"Martillo",this.input.activePointer.x,this.input.activePointer.y),this.scorePlayer1=this.add.text(80,50,"Pom: 0",{fontSize:"32px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.scorePlayer2=this.add.text(850,50,"Pin: 0",{fontSize:"32px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.timerText=this.add.text(this.scale.width-20,this.scale.height-20,this.formatTime(this.timeLeft),{fontSize:"40px",fontStyle:"bold",color:"#ffffffff",fontFamily:"Arial"}).setOrigin(1,1),this.powerupTextP1=this.add.text(80,80,`P1 Powerups: ${this.powerupStoredP1}/${this.powerupMaxStoredP1}`,{fontSize:"16px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.powerupTextP2=this.add.text(this.scale.width+20,80,`P2 Powerups: ${this.powerupStoredP2}/${this.powerupMaxStoredP2}`,{fontSize:"16px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(1.5,0),this.keys=this.input.keyboard.addKeys({one:e.Input.Keyboard.KeyCodes.ONE,two:e.Input.Keyboard.KeyCodes.TWO,three:e.Input.Keyboard.KeyCodes.THREE,four:e.Input.Keyboard.KeyCodes.FOUR,five:e.Input.Keyboard.KeyCodes.FIVE,six:e.Input.Keyboard.KeyCodes.SIX,esc:e.Input.Keyboard.KeyCodes.ESC,space:e.Input.Keyboard.KeyCodes.SPACE}),this.events.on("resume",this.onResume,this),this.createTopos(),this.scheduleNextPowerup(),this.events.off("topoPopped"),this.events.on("topoPopped",(e={})=>{this.isGameOver||this.powerup&&this.powerupHoleIndex===e.holeIndex&&this.pickupPowerupByPlayer(2)}),this.events.off("topoMissed"),this.events.on("topoMissed",(e={})=>{this.isGameOver||this.pinBlocked||(this.puntosPlayer2+=1,this.updateScoreUI())}),this.input.on("pointerdown",e=>this.handlePointerDown(e)),this.gameTimer=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{this.isGameOver||(this.timeLeft--,this.timerText.setText(this.formatTime(this.timeLeft)),this.timeLeft<=0&&this.endRound())}}),this.updateScoreUI(),this.updatePowerupUI()}handlePointerDown(t){if(this.isGameOver)return;const s=0===t.button||t.event&&0===t.event.button,o=2===t.button||t.event&&2===t.event.button;if(this.powerup&&this.powerup.sprite){const e=this.powerup.sprite.getBounds();if(e&&e.contains(t.x,t.y)){if(s)return void this.pickupPowerupByPlayer(1);if(o)return void(this.topo&&this.powerupHoleIndex===this.topo.currentHoleIndex&&this.pickupPowerupByPlayer(2))}}if(o)this.usePowerupByPlayer(1);else if(s){if(this.martillo&&this.martillo.hit(),!this.topo||!this.topo.sprite)return;const s=this.topo.sprite.getBounds();if(new e.Geom.Rectangle(s.x+.25*s.width,s.y+.25*s.height,.5*s.width,.5*s.height).contains(t.x,t.y)&&this.topo.isActive)return this.puntosPlayer1+=1,this.updateScoreUI(),this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),void this.cameras.main.shake(200,.01);this.pinBlocked||(this.puntosPlayer2+=1,this.updateScoreUI(),this.sound.play("Sonido_martillo"))}}createTopos(){this.topoHoles=[{x:200,y:480},{x:320,y:320},{x:440,y:480},{x:560,y:320},{x:680,y:480},{x:800,y:320}],this.topo=new i(this,0,this.topoHoles[0].x,this.topoHoles[0].y),this.topo.setHoles(this.topoHoles),this.topo.sprite.setInteractive(),this.topo.sprite.on("pointerdown",(e,t,s,o)=>{try{o&&o.stopPropagation&&o.stopPropagation()}catch(e){}this.isGameOver||this.topo.isActive&&!this.pinBlocked&&(this.puntosPlayer1+=1,this.updateScoreUI(),this.martillo&&this.martillo.hit(),"function"==typeof this.topo.hit?this.topo.hit():this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),this.cameras.main.shake(200,.01))}),this.topoTimer=this.time.addEvent({delay:1500,loop:!0,callback:()=>{this.isGameOver||this.topo.isActive||this.topo.popUp()}})}scheduleNextPowerup(){if(this.isGameOver)return;if(this.powerup)return;if(this.powerupMaxStoredP1<=0)return;if(this.powerupMaxStoredP2<=0)return;const t=e.Math.Between(this.powerupSpawnMin,this.powerupSpawnMax);this.time.delayedCall(t,()=>{this.isGameOver||this.spawnPowerupAtRandomHole()})}spawnPowerupAtRandomHole(){if(!this.topoHoles||!this.topoHoles.length)return;if(this.powerup)return;const t=e.Math.Between(0,this.topoHoles.length-1),s=this.topoHoles[t],o=[n,r];let i;this.currentPowerupType=o[e.Math.Between(0,o.length-1)];let a=.15;this.currentPowerupType===n?i="reloj":this.currentPowerupType===r&&(i="termometro",a=.3),this.powerup=this.add.image(s.x,s.y-10,i).setScale(a).setDepth(8),this.powerupHoleIndex=t,this.powerup.setInteractive({useHandCursor:!0}),this.powerup.on("pointerdown",e=>{this.isGameOver||(0===e.button||e.event&&0===e.event.button)&&(this.pickupPowerupByPlayer(1),this.sound.play("Boton"))}),this.tweens.add({targets:this.powerup,y:s.y-16,duration:600,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.time.delayedCall(this.powerupDuration,()=>{this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1,this.scheduleNextPowerup())})}pickupPowerupByPlayer(e){if(!this.powerup)return!1;if(this.isGameOver)return!1;if(this.currentPowerupType===r&&2!==e)return!1;if(1===e){if(this.powerupsUsedP1>=3)return!1;if(this.powerupStoredP1.length>=this.powerupMaxStoredP1)return!1;this.powerupStoredP1.push(this.currentPowerupType)}else{if(this.powerupsUsedP2>=3)return!1;if(this.powerupStoredP2.length>=this.powerupMaxStoredP2)return!1;this.powerupStoredP2.push(this.currentPowerupType)}return this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1),this.scheduleNextPowerup(),!0}usePowerupByPlayer(e){if(this.isGameOver)return!1;let t;if(1===e){if(this.powerupStoredP1.length<=0)return!1;t=this.powerupStoredP1.pop(),this.powerupMaxStoredP1>0&&this.powerupMaxStoredP1--,this.powerupMaxStoredP1>0&&this.powerupMaxStoredP1--}else{if(this.powerupStoredP2.length<=0)return!1;t=this.powerupStoredP2.pop(),this.powerupMaxStoredP2>0&&this.powerupMaxStoredP2--}if(t===n)this.timeLeft+=this.powerupAmount,this.timerText.setText(this.formatTime(this.timeLeft));else if(t===r){this.thermometerEffectActive=!0,this.pinBlocked=!0,this.gameTimer.paused=!0,this.sound.play("Frio");const e=this.add.rectangle(this.scale.width/2,this.scale.height/2,this.scale.width,this.scale.height,8900331,.4).setDepth(10);this.thermometerTimer=this.time.addEvent({delay:1e3,repeat:3,callback:()=>{this.puntosPlayer2+=2,this.updateScoreUI()}}),this.time.delayedCall(4e3,()=>{this.thermometerEffectActive=!1,this.pinBlocked=!1,this.gameTimer.paused=!1,this.thermometerTimer&&(this.thermometerTimer.destroy(),this.thermometerTimer=null),e&&e.destroy()})}return this.cameras.main.flash(150,100,255,100),this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),1===e?this.powerupsUsedP1++:this.powerupsUsedP2++,!0}updateScoreUI(){this.scorePlayer1&&this.scorePlayer1.setText(`Pom: ${this.puntosPlayer1}`),this.scorePlayer2&&this.scorePlayer2.setText(`Pin: ${this.puntosPlayer2}`)}updatePowerupUI(){this.powerupTextP1&&this.powerupTextP1.setText(`P1 Powerups: ${this.powerupStoredP1.length}/${this.powerupMaxStoredP1}`),this.powerupTextP2&&this.powerupTextP2.setText(`P2 Powerups: ${this.powerupStoredP2.length}/${this.powerupMaxStoredP2}`)}formatTime(e){return`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}update(){this.isGameOver||(this.topo&&(this.keys.one.isDown&&this.topo.moveToHole(0),this.keys.two.isDown&&this.topo.moveToHole(1),this.keys.three.isDown&&this.topo.moveToHole(2),this.keys.four.isDown&&this.topo.moveToHole(3),this.keys.five.isDown&&this.topo.moveToHole(4),this.keys.six.isDown&&this.topo.moveToHole(5)),e.Input.Keyboard.JustDown(this.keys.esc)&&(this.isGameOver||(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())),e.Input.Keyboard.JustDown(this.keys.space)&&this.usePowerupByPlayer(2))}endRound(){this.isGameOver=!0,this.sound.stopAll(),this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto"),this.input.off("pointerdown"),this.martillo&&this.martillo.setVisible&&this.martillo.setVisible(!1),this.topoTimer&&this.topoTimer.remove(!1),this.gameTimer&&this.gameTimer.remove(!1),this.topo&&this.topo.sprite&&(this.topo.sprite.disableInteractive(),this.topo.hide());const t=this.scale.width/2,s=this.scale.height/2,o=this.add.rectangle(t,s,760,420,725536,.88).setOrigin(.5).setDepth(200);o.setStrokeStyle(4,2060267),o.scale=.85,this.tweens.add({targets:o,scale:1,duration:220,ease:"Back.Out"}),o.disableInteractive();let i="Empate";this.puntosPlayer1>this.puntosPlayer2?i="ðŸ†   Gana Jugador 1 (Pom)":this.puntosPlayer2>this.puntosPlayer1&&(i="ðŸ†   Gana Jugador 2 (Pin)"),this.add.text(t,s-130,i,{fontSize:"42px",fontStyle:"bold",color:"#ffffff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.rectangle(t,s-90,420,3,2060267).setOrigin(.5).setDepth(250),this.add.text(t,s-20,`P1 (Pom): ${this.puntosPlayer1}`,{fontSize:"26px",color:"#6c8bff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.text(t,s+20,`P2 (Pin): ${this.puntosPlayer2}`,{fontSize:"26px",color:"#ff6b6b",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.updateUserScore();const n=240,r=(t,s,o,i,r,a)=>{const l=this.add.rectangle(0,0,n,62,i).setOrigin(.5).setStrokeStyle(2,665408).setDepth(305),h=this.add.text(0,0,o,{fontSize:"22px",fontStyle:"bold",color:"#00131d",fontFamily:"Arial"}).setOrigin(.5).setDepth(306),d=this.add.rectangle(0,0,n,62,0,0).setOrigin(.5).setDepth(307).setInteractive(new e.Geom.Rectangle(-120,-31,n,62),e.Geom.Rectangle.Contains),c=this.add.container(t,s,[l,h,d]);return c.setSize(n,62),c.setInteractive(),c.setDepth(300),d.on("pointerover",()=>{l.setFillStyle(r),h.setColor("#ffffff"),this.tweens.killTweensOf(l),this.tweens.add({targets:l,scaleX:1.06,scaleY:1.06,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="pointer"}),d.on("pointerout",()=>{l.setFillStyle(i),h.setColor("#00131d"),this.tweens.killTweensOf(l),this.tweens.add({targets:l,scaleX:1,scaleY:1,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="auto"}),d.on("pointerdown",()=>{this.sound.get("Boton")&&this.sound.play("Boton",{volume:.5}),a()}),c},a=s+120;r(t-150,a,"Repetir",8970751,5222655,()=>this.scene.restart()),r(t+150,a,"MenÃº Principal",16767912,16758138,()=>this.scene.start("MenuScene"))}onResume(){this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="none"),this.input.on("pointerdown",e=>this.handlePointerDown(e))}async updateUserScore(){try{const e=localStorage.getItem("playerUser");if(!e)return;const t=JSON.parse(e),s=Math.max(t.maxScore||0,this.puntosPlayer1);if(s>t.maxScore){const e=await fetch(`/api/users/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,maxScore:s})});if(e.ok){const t=await e.json();localStorage.setItem("playerUser",JSON.stringify(t)),console.log("MaxScore updated to:",s)}}}catch(e){console.error("Error updating user score:",e)}}}class l extends e.Scene{constructor(){super("PauseScene")}create(e={}){const t=this.scale.width,s=this.scale.height,o=t/2,i=s/2;this._prevCursor=this.game&&this.game.canvas&&this.game.canvas.style?this.game.canvas.style.cursor:"",this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto");const n=this.add.rectangle(o,i,t,s,0,.6).setOrigin(.5);n.setInteractive(),n.setDepth(0);const r=this.add.rectangle(o,i,540,460,1118746).setStrokeStyle(3,52326).setOrigin(.5);r.setDepth(1),r.scale=.9,this.tweens.add({targets:r,scale:1,duration:180,ease:"Back.Out"}),this.add.text(o,i-180,"PAUSADO",{fontSize:"40px",fontStyle:"bold",color:"#00cc66",fontFamily:"Arial"}).setOrigin(.5).setDepth(2),this.add.rectangle(o,i-140,340,3,52326).setOrigin(.5).setDepth(2);const a=this.createButton(o,i-40,"REANUDAR",52326,6750130),l=this.createButton(o,i+40,"MENÃš PRINCIPAL",16739179,16751258),h=this.createButton(o,i+120,"AJUSTES",16777215,13421772);a.setDepth(10),l.setDepth(10),h.setDepth(10),a.on("pointerdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),e.originalScene&&this.scene.resume(e.originalScene),this.scene.stop()}),l.on("pointerdown",()=>{e.originalScene&&this.scene.stop(e.originalScene),this.scene.start("MenuScene"),this.sound.stopAll()}),h.on("pointerdown",()=>{this.scene.start("SettingsScene",{from:"pause",originalScene:e.originalScene})}),this._escHandler=()=>a.emit("pointerdown"),this.input.keyboard.on("keydown-ESC",this._escHandler),this.events.once("shutdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),this._escHandler&&(this.input.keyboard.off("keydown-ESC",this._escHandler),this._escHandler=null)})}createButton(e,t,s,o,i){const n=`#${o.toString(16).padStart(6,"0")}`,r=`#${i.toString(16).padStart(6,"0")}`,a=this.add.rectangle(0,0,360,64,2040640).setStrokeStyle(2,o).setOrigin(.5),l=this.add.text(0,0,s,{fontSize:"22px",fontStyle:"bold",color:n,fontFamily:"Arial"}).setOrigin(.5),h=this.add.container(e,t,[a,l]);return h.setSize(360,64),h.setInteractive({useHandCursor:!0}),h.on("pointerover",()=>{a.setFillStyle(3093592),a.setStrokeStyle(3,i),l.setColor(r),l.setScale(1.05)}),h.on("pointerout",()=>{a.setFillStyle(2040640),a.setStrokeStyle(2,o),l.setColor(n),l.setScale(1)}),h.on("pointerdown",()=>{this.tweens.add({targets:h,scaleX:.98,scaleY:.98,duration:80,yoyo:!0})}),h}}class h extends e.Scene{constructor(){super("CreditScene")}preload(){this.load.image("Creditos","assets/fondoCreditos.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.add.image(0,0,"Creditos").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.sound.add("Musica_menu").play({loop:!0,volume:.5}),this.add.text(400,50,"CrÃ©ditos",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.credits=this.add.text(400,280,"\nDesarrolladores:\n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\n- Jaime Alonso del Real\n- David MartÃ­nez GarcÃ­a\nArte: \n- David MartÃ­nez GarcÃ­a\nSonidos y MÃºsica: \n- Jaime Alonso del Real\nTesteo: \n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\n\n\nGracias por jugar\n        ",{fontSize:"24px",color:"#ffffff",align:"center",wordWrap:{width:700}}).setOrigin(.5),this.tweens.add({targets:this.credits,y:this.credits.y-15,duration:1e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,delay:200}),this.localBtn=this.add.text(400,500,"Volver",{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("MenuScene")})}update(){}}class d extends e.Scene{constructor(){super("SettingsScene")}create(e={}){const t=this.scale.width/2,s=this.scale.height/2;this._returnTo=e.from||"menu",this._originalScene=e.originalScene||null,this.add.rectangle(t,s,this.scale.width,this.scale.height,0,.6);const o=Math.min(520,this.scale.width-80),i=t-o/2,n=s-210,r=this.add.graphics();r.fillStyle(0,.36),r.fillRoundedRect(i+6,n+8,o,420,16),r.fillGradientStyle(725536,725536,992312,992312,1),r.fillRoundedRect(i,n,o,420,16),r.lineStyle(2,2060267,.9),r.strokeRoundedRect(i,n,o,420,16),r.alpha=0,this.tweens.add({targets:r,alpha:1,duration:500,ease:"Cubic.Out"});const a=this.add.text(t,s-175,"AJUSTES",{fontSize:"40px",fontStyle:"bold",color:"#dff4ff",letterSpacing:3,align:"center"}).setOrigin(.5);a.setStroke("#7fd0ff",4),a.setShadow(2,2,"#000000",6,!1,!0),a.setScale(.95),this.tweens.add({targets:a,scale:1,duration:420,ease:"Back.Out"}),this.add.text(t-180,s-90,"Volumen",{fontSize:"22px",color:"#dff4ff",fontStyle:"bold"}).setOrigin(0,.5),this.createVolumeSlider(t-120,s-50,260),this.add.text(t,s+20,"CONTROLES\n\nðŸ–± Click izquierdo: Golpear\nðŸ–± Click derecho: Powerup P1\nâ£ Espacio: Powerup P2\n1-6: Mover topo\nESC: Pausa",{fontSize:"18px",color:"#cfe7ff",align:"center",fontStyle:"bold",lineSpacing:6}).setOrigin(.5,0);const l="pause"===this._returnTo?"Volver a Pausa":"Volver";this.localBtn=this.add.text(500,500,l,{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.cameras.main.fadeOut(180,10,10,10),this.time.delayedCall(200,()=>{"pause"===this._returnTo?this.scene.start("PauseScene",{originalScene:this._originalScene}):this.scene.start("MenuScene")})})}createVolumeSlider(t,s,o){const i=this.add.rectangle(t+o/2,s,o,8,2438479).setOrigin(.5),{musicaMenu:n,musicaNivel:r}=this.game||{},a=[n,r].filter(Boolean),l=e.Math.Clamp((a[0]&&a[0].volume)??this.sound.volume??1,0,1),h=this.add.rectangle(t,s,o*l,8,5222655).setOrigin(0,.5),d=this.add.circle(t+o*l,s,12,16777215).setStrokeStyle(3,2438479).setInteractive({draggable:!0}),c=this.add.text(t+o+14,s,Math.round(100*l)+"%",{fontSize:"18px",color:"#dff4ff"}).setOrigin(0,.5);this.input.setDraggable(d);const p=e=>{this.sound.volume=e,a.forEach(t=>{t&&"function"==typeof t.setVolume&&t.setVolume(e)}),n&&"function"==typeof n.setVolume&&n.setVolume(e),r&&"function"==typeof r.setVolume&&r.setVolume(e),h.width=o*e,c.setText(Math.round(100*e)+"%")};this.input.on("drag",(s,i,n)=>{i===d&&(n=e.Math.Clamp(n,t,t+o),i.x=n,p((n-t)/o))}),i.setInteractive({useHandCursor:!0}),i.on("pointerdown",s=>{const i=e.Math.Clamp(s.worldX-t,0,o),n=i/o;d.x=t+i,p(n)}),d.on("pointerover",()=>this.tweens.add({targets:d,scale:1.08,duration:120})),d.on("pointerout",()=>this.tweens.add({targets:d,scale:1,duration:120}))}createButton(e,t,s,o,i={}){const n=i.width||200,r=i.height||50,a=i.bgColor||8970751,l=i.textColor||"#00131d",h=this.add.container(e,t),d=this.add.rectangle(0,0,n,r,a).setOrigin(.5).setInteractive({useHandCursor:!0});d.setStrokeStyle(2,16777215,.08);const c=this.add.text(0,0,s,{fontSize:"20px",fontStyle:"bold",color:l}).setOrigin(.5);return h.add([d,c]),d.on("pointerover",()=>{this.tweens.add({targets:h,scale:1.04,duration:140,ease:"Power2"}),this.tweens.add({targets:d,alpha:.95,duration:140})}),d.on("pointerout",()=>{this.tweens.add({targets:h,scale:1,duration:120,ease:"Power2"}),this.tweens.add({targets:d,alpha:1,duration:120})}),d.on("pointerdown",()=>{this.tweens.add({targets:h,scale:.96,duration:80,yoyo:!0}),"function"==typeof o&&o()}),h}}class c extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScenes=[],Array.isArray(e.previousScenes)?this.previousScenes=e.previousScenes:e.previousScene&&(this.previousScenes=[e.previousScene])}create(){this.add.rectangle(500,300,1e3,600,0,.8),this.add.text(500,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0});try{this.sound.pauseAll()}catch(e){console.warn("[ConnectionLostScene] No se pudo pausar audio:",e)}this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener);try{this.sound.resumeAll()}catch(e){console.warn("[ConnectionLostScene] No se pudo reanudar audio:",e)}this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),Array.isArray(this.previousScenes)&&this.previousScenes.length>0&&this.previousScenes.forEach(e=>{try{e&&this.scene.get(e)&&this.scene.resume(e)}catch(t){console.warn(`[ConnectionLostScene] No se pudo reanudar escena ${e}:`,t)}})})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener);try{Array.isArray(this.previousScenes)&&this.previousScenes.length>0&&this.previousScenes.forEach(e=>{try{e&&this.scene.get(e)&&this.scene.resume(e)}catch(t){console.warn(`[ConnectionLostScene] No se pudo reanudar escena ${e} en shutdown:`,t)}}),this.sound.resumeAll()}catch(e){}}}class p extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.text(e/2,100,"Multijugador En lÃ­nea",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando al servidor...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancelar",{fontSize:"24px",color:"#ff6666",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000")}),s.on("pointerout",()=>{s.setColor("#ff6666")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent...");let e=null;try{const t=localStorage.getItem("playerUser");t&&(e=JSON.parse(t))}catch(e){console.warn("LobbyScene: error parsing stored player",e)}this.ws.send(JSON.stringify({type:"joinQueue",player:e})),e&&e.name&&this.add.text(this.cameras.main.width-20,20,`Jugador: ${e.name}`,{fontSize:"16px",color:"#ffffff"}).setOrigin(1,0)},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,initialBall:e.ball});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class u extends e.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.initialBall=e.initialBall,this.ball=null,this.isPaused=!1,this.gameEnded=!1,this.localPaddle=null,this.remotePaddle=null,this.localScore=0,this.remoteScore=0}create(){this.add.rectangle(400,300,800,600,1710638);for(let e=0;e<12;e++)this.add.rectangle(400,50*e+25,10,30,4473924);this.scoreLeft=this.add.text(100,50,"0",{fontSize:"48px",color:"#00ff00"}),this.scoreRight=this.add.text(700,50,"0",{fontSize:"48px",color:"#00ff00"});const e="player1"===this.playerRole?"You are Player 1 (Left)":"You are Player 2 (Right)";this.add.text(400,20,e,{fontSize:"16px",color:"#ffff00"}).setOrigin(.5),this.createBounds(),this.createBall(),this.setUpPlayers(),this.physics.add.collider(this.ball,this.localPaddle.sprite),this.physics.add.collider(this.ball,this.remotePaddle.sprite),this.physics.add.overlap(this.ball,this.leftGoal,this.scoreLeftGoal,null,this),this.physics.add.overlap(this.ball,this.rightGoal,this.scoreRightGoal,null,this),this.setupWebSocketListeners(),this.cursors=this.input.keyboard.createCursorKeys(),this.ball.setVelocity(this.initialBall.vx,this.initialBall.vy)}setUpPlayers(){"player1"===this.playerRole?(this.localPaddle=new Paddle(this,"player1",50,300),this.remotePaddle=new Paddle(this,"player2",750,300)):(this.localPaddle=new Paddle(this,"player2",750,300),this.remotePaddle=new Paddle(this,"player1",50,300))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"paddleUpdate":this.remotePaddle.sprite.y=e.y;break;case"scoreUpdate":this.localScore="player1"===this.playerRole?e.player1Score:e.player2Score,this.remoteScore="player1"===this.playerRole?e.player2Score:e.player1Score,this.scoreLeft.setText(e.player1Score.toString()),this.scoreRight.setText(e.player2Score.toString()),this.ball.setVelocity(0,0),this.ball.setPosition(400,300);break;case"ballRelaunch":this.ball.setPosition(e.ball.x,e.ball.y),this.ball.setVelocity(e.ball.vx,e.ball.vy);break;case"gameOver":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}scoreLeftGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"left"})}scoreRightGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"right"})}endGame(e,t,s){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause();const o="player1"===e&&"player1"===this.playerRole||"player2"===e&&"player2"===this.playerRole,i=o?"You Win!":"You Lose!",n=o?"#00ff00":"#ff0000";this.add.text(400,200,i,{fontSize:"64px",color:n}).setOrigin(.5),this.add.text(400,280,`Final Score: ${t} - ${s}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),this.createMenuButton()}handleDisconnection(){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause(),this.add.text(400,250,"Opponent Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball-multi",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball-multi"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.leftGoal=this.physics.add.sprite(0,300,null),this.leftGoal.setDisplaySize(10,600),this.leftGoal.body.setSize(10,600),this.leftGoal.setImmovable(!0),this.leftGoal.setVisible(!1),this.rightGoal=this.physics.add.sprite(800,300,null),this.rightGoal.setDisplaySize(10,600),this.rightGoal.body.setSize(10,600),this.rightGoal.setImmovable(!0),this.rightGoal.setVisible(!1)}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){if(this.gameEnded)return;let e=null;e=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":"stop","up"===e?this.localPaddle.sprite.setVelocityY(-300):"down"===e?this.localPaddle.sprite.setVelocityY(300):this.localPaddle.sprite.setVelocityY(0),this.sendMessage({type:"paddleMove",y:this.localPaddle.sprite.y})}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}class f extends e.Scene{constructor(){super("LeaderboardsScene")}preload(){this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.add.rectangle(500,300,1e3,600,1710638),this.add.text(500,50,"LEADERBOARDS",{fontSize:"48px",color:"#ffffff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(.5),this.loadingText=this.add.text(500,150,"Cargando rankings...",{fontSize:"24px",color:"#ffff00",fontFamily:"Arial"}).setOrigin(.5),this.rankingsContainer=this.add.container(500,200);const e=this.add.text(500,550,"Volver al MenÃº",{fontSize:"24px",color:"#00ff00",fontFamily:"Arial"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#ffffff")).on("pointerout",()=>e.setColor("#00ff00")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.scene.start("MenuScene")});this.loadRankings()}async loadRankings(){try{const e=await fetch("/api/users");if(!e.ok)throw new Error("Error al cargar usuarios");const t=(await e.json()).filter(e=>e.maxScore>0).sort((e,t)=>t.maxScore-e.maxScore).slice(0,10);if(this.rankingsContainer.removeAll(),0===t.length)return void this.loadingText.setText("No hay puntuaciones registradas");this.loadingText.setVisible(!1),t.forEach((e,t)=>{const s=30*t,o=t+1,i=this.add.text(0,s,`${o}. ${e.name}: ${e.maxScore}`,{fontSize:"20px",color:"#ffffff",fontFamily:"Arial"}).setOrigin(.5,0);this.rankingsContainer.add(i)})}catch(e){console.error("Error loading rankings:",e),this.loadingText.setText("Error al cargar rankings"),this.loadingText.setColor("#ff0000")}}}const m={type:e.AUTO,width:1e3,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,a,l,h,d,c,p,u,f],backgroundColor:"#1a1a2e"},g=new e.Game(m);t.addListener(e=>{if(!e.connected)try{const e=g.scene.getScene("ConnectionLostScene");if(e&&e.scene.isActive())return;const t=g.scene.getScenes(!0).filter(e=>e.scene&&e.scene.key&&"ConnectionLostScene"!==e.scene.key).map(e=>e.scene.key);t.forEach(e=>{try{g.scene.pause(e)}catch(t){console.warn(`[Main] Unable to pause scene ${e}:`,t)}}),g.scene.start("ConnectionLostScene",{previousScenes:t})}catch(e){console.error("[Main] Error handling connection loss:",e)}})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFrQixNQUFNLDBCQUEyQkEsR0FDekNuQyxLQUFLK2hCLFlBQVl6YixRQUFRLDRCQUN6QnRHLEtBQUsraEIsWUFBWS9jLFNBQVMsVUFDOUIsQ0FDSixFQ2xGSixNQUFNMmQsRUFBUyxDQUNYcFosS0FBTSxPQUNObEYsTUFBTyxJQUNQQyxPQUFRLElBQ1JzZSxPQUFRLGlCQUNSblUsUUFBUyxDQUNMb1UsUUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBRXZXLEVBQUcsR0FDZHdXLE9BQU8sSUFHZi9kLE1BQU8sQ0FBQ2hDLEVBQVdvTixFQUFXa0ksRUFBWWUsRUFBYUksRUFBZThDLEVBQXFCZSxFQUFZMkIsRUFBc0I0QyxHQUM3SGxFLGdCQUFpQixXQUdmbmEsRUFBTyxJQUFJLE9BQVlrZixHQUc3QjdpQixFQUFrQnNDLFlBQWFSLElBQzdCLElBQUtBLEVBQUtFLFVBQ1IsSUFFRSxNQUFNbWhCLEVBQVl4ZixFQUFLd0IsTUFBTWllLFNBQVMsdUJBQ3RDLEdBQUlELEdBQWFBLEVBQVVoZSxNQUFNb0IsV0FDL0IsT0FJRixNQUNNOGMsRUFEZTFmLEVBQUt3QixNQUFNbWUsV0FBVSxHQUV2Q2pJLE9BQU9rSSxHQUFLQSxFQUFFcGUsT0FBU29lLEVBQUVwZSxNQUFNK0YsS0FBdUIsd0JBQWhCcVksRUFBRXBlLE1BQU0rRixLQUM5Q3NZLElBQUlELEdBQUtBLEVBQUVwZSxNQUFNK0YsS0FFcEJtWSxFQUFheGdCLFFBQVFxSSxJQUNuQixJQUNFdkgsRUFBS3dCLE1BQU02UixNQUFNOUwsRUFDbkIsQ0FBRSxNQUFPckUsR0FDUDFGLFFBQVEyRixLQUFLLGdDQUFnQ29FLEtBQVFyRSxFQUN2RCxJQUlGbEQsRUFBS3dCLE1BQU1DLE1BQU0sc0JBQXVCLENBQUV3WCxlQUFnQnlHLEdBQzVELENBQUUsTUFBT3JYLEdBQ1A3SyxRQUFRa0IsTUFBTSx5Q0FBMEMySixFQUMxRCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY2UvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9lbnRpdGllcy9Qb20uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L2VudGl0aWVzL1Bpbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL1NldHRpbmdzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvTG9iYnlTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvTGVhZGVyYm9hcmRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcclxuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnW0Nvbm5lY3Rpb25NYW5hZ2VyXSBDaGVja2luZyBjb25uZWN0aW9uLi4uJyk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdbQ29ubmVjdGlvbk1hbmFnZXJdIFJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnW0Nvbm5lY3Rpb25NYW5hZ2VyXSBDb25uZWN0ZWQgdXNlcnM6JywgZGF0YS5jb25uZWN0ZWQpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW0Nvbm5lY3Rpb25NYW5hZ2VyXSBSZXNwb25zZSBub3QgT0ssIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0Nvbm5lY3Rpb25NYW5hZ2VyXSBFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hbmVqYXIgZGVzY29uZXhpw7NuXHJcbiAgICovXHJcbiAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IGZhbHNlLCBjb3VudDogMCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdHJhciB1biBsaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBxdWUgc2UgbGxhbWFyw6EgY3VhbmRvIGNhbWJpZSBlbCBlc3RhZG9cclxuICAgKi9cclxuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbGltaW5hciB1biBsaXN0ZW5lclxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSBlbGltaW5hclxyXG4gICAqL1xyXG4gIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciBhIHRvZG9zIGxvcyBsaXN0ZW5lcnNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBlc3RhZG8gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgbm90aWZ5TGlzdGVuZXJzKGRhdGEpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsIGRlIGNvbmV4acOzblxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0U3RhdHVzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXHJcbiAgICAgIGNvbm5lY3RlZENvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50LFxyXG4gICAgICBsYXN0Q2hlY2tUaW1lOiB0aGlzLmxhc3RDaGVja1RpbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY28gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgc3RhcnRQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICByZXR1cm47IC8vIFlhIGVzdMOhIGNvcnJpZW5kb1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXByb2JhciBpbm1lZGlhdGFtZW50ZVxyXG4gICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuXHJcbiAgICAvLyBMdWVnbyBjb21wcm9iYXIgY2FkYSBYIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9LCB0aGlzLmNoZWNrSW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZW5lciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICovXHJcbiAgc3RvcFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcclxuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWFyIGluc3RhbmNpYSBzaW5nbGV0b25cclxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG5cclxuICAgICAgICAvLyBJTcOBR0VORVNcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnVGl0dWxvJywgJ2Fzc2V0cy9Cb2NldG9zL0luaWNpby5wbmcnKTsgLy8gZm9uZG8odGl0dWxvKSBcclxuXHJcbiAgICAgICAgLy8gU09OSURPU1xyXG4gIHRoaXMubG9hZC5hdWRpbygnTXVzaWNhX21lbnUnLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvSXRzIFNhZmUgTm93Lm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdCb3RvbicsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9Cb3Rvbi5tcDMnKTsgIFxyXG59XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICAvLyBTT05JRE9TIC0gU2kgeWEgaGF5IG3DunNpY2EgZGUgbWVuw7ogc29uYW5kbywgcmV1dGlsaXphcmxhOyBzaSBubywgZGV0ZW5lciB5IGNyZWFybGFcclxuICAgICAgICAvLyBAdHMtaWdub3JlIC0gcHJvcGllZGFkIGFkanVudGEgYWwgb2JqZXRvIGdhbWUgZW4gdGllbXBvIGRlIGVqZWN1Y2nDs25cclxuICAgICAgICBjb25zdCBleGlzdGluZ011c2ljID0gdGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5tdXNpY2FNZW51O1xyXG4gICAgICAgIGlmIChleGlzdGluZ011c2ljICYmIGV4aXN0aW5nTXVzaWMuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWNhTWVudSA9IGV4aXN0aW5nTXVzaWM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWNhTWVudSA9IHRoaXMuc291bmQuYWRkKCdNdXNpY2FfbWVudScpO1xyXG4gICAgICAgICAgICB0aGlzLm11c2ljYU1lbnUucGxheSh7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gYcOxYWRpbW9zIHByb3BpZWRhZCBhbCBvYmpldG8gZ2FtZSBlbiB0aWVtcG8gZGUgZWplY3VjacOzblxyXG4gICAgICAgICAgICB0aGlzLmdhbWUubXVzaWNhTWVudSA9IHRoaXMubXVzaWNhTWVudTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ1RpdHVsbycpLnNldE9yaWdpbigwLCAwKTsgIC8vZm9uZG8odGl0dWxvKVxyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMzgwLCAyMDAsICdNT0xFJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzcycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM4OTIzMjcnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bydcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg2MDAsIDIwMCwgJ0hPTEUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzI1Mzc1NCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDMyMCwgJ0xvY2FsIDIgSnVnYWRvcmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bycsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBsb2NhbEJ0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9jYWxCdG4uc2V0Q29sb3IoJyM4OTIzMjcnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnQm90b24nKS5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgIGNvbnN0IGNyZWRpdEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MjAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjODkyMzI3JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGNyZWRpdEJ0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY3JlZGl0QnRuLnNldENvbG9yKCcjODkyMzI3JykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0U2NlbmUnKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICBjb25zdCBzZXR0aW5nc0J0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NzAsICdBanVzdGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bycsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBzZXR0aW5nc0J0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gc2V0dGluZ3NCdG4uc2V0Q29sb3IoJyM4OTIzMjcnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZXR0aW5nc1NjZW5lJywgeyBmcm9tOiAnbWVudScgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmRzQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUyMCwgJ0xlYWRlcmJvYXJkcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM4OTIzMjcnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbGVhZGVyYm9hcmRzQnRuLnNldENvbG9yKCcjMDBmZmY3ZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsZWFkZXJib2FyZHNCdG4uc2V0Q29sb3IoJyM4OTIzMjcnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMZWFkZXJib2FyZHNTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAtLS0gTE9HSU4gLyBOSUNLTkFNRSAtLS1cclxuICAgICAgICAvLyBBcmVhIHRvIHNob3cgbG9nZ2VkLWluIHVzZXIgb3IgYSBsb2dpbiBidXR0b25cclxuICAgICAgICB0aGlzLnBsYXllckluZm9UZXh0ID0gdGhpcy5hZGQudGV4dCg4NTAsIDMwLCAnJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDEsIDApO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ2luQnRuID0gdGhpcy5hZGQudGV4dCg4NTAsIDYwLCAnSW5pY2lhciBzZXNpw7NuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmQyN2YnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDEsIDApLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLmxvZ2luQnRuLnNldENvbG9yKCcjZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5sb2dpbkJ0bi5zZXRDb2xvcignI2ZmZDI3ZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLm9wZW5Mb2dpbk1vZGFsKCkpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYXIgdXN1YXJpbyBndWFyZGFkbyAoc2kgZXhpc3RlKVxyXG4gICAgICAgIHRoaXMubG9hZFN0b3JlZFVzZXIoKTtcclxuXHJcbiAgICAgICAgLypjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzkwLCAnTXVsdGlqdWdhZG9yIG9ubGluZSAobm8gZGlzcG9uaWJsZSknLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmNjY2NicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7Ki9cclxuXHJcblxyXG4gICAgICAgIC8vT05MSU5FXHJcblxyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzNzAsICdNdWx0aWp1Z2Fkb3IgZW4gTMOtbmVhJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bycsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjODkyMzI3JyxcclxuICAgICAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG9ubGluZUJ0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBvbmxpbmVCdG4uc2V0Q29sb3IoJyM4OTIzMjcnKSlcclxuICAgICAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWlyZSBsb2dpbiBiZWZvcmUgZ29pbmcgb25saW5lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGxheWVyVXNlcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdOZWNlc2l0YXMgaW5pY2lhciBzZXNpw7NuIHBhcmEganVnYXIgZW4gbMOtbmVhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkxvZ2luTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuIGFsIHNlcnZpZG9yXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDU4MCwgJ1NlcnZpZG9yOiBDb21wcm9iYW5kby4uLicsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENlcnJhciBtb2RhbCBzaSBsYSBlc2NlbmEgc2UgYXBhZ2FcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4gdGhpcy5jbG9zZUxvZ2luTW9kYWwoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvblRleHQgfHwgIXRoaXMuc2NlbmUgfHwgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ01lbnVTY2VuZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2Vydmlkb3I6ICR7ZGF0YS5jb3VudH0gdXN1YXJpbyhzKSBjb25lY3RhZG8ocylgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2Vydmlkb3I6IERlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIC8vIExvZ2luIG1vZGFsIGhlbHBlcnNcclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICBsb2FkU3RvcmVkVXNlcigpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BsYXllclVzZXInKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJhdykgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKHJhdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VXNlcih1c2VyKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNZW51U2NlbmVdIEVycm9yIGxvYWRpbmcgc3RvcmVkIHVzZXI6JywgZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNob3dVc2VyKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyID0gdXNlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5mb1RleHQuc2V0VGV4dChgSnVnYWRvcjogJHt1c2VyLm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luQnRuLnNldFRleHQoJ0NlcnJhciBzZXNpw7NuJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luQnRuLm9mZigncG9pbnRlcmRvd24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9naW5CdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5sb2dvdXQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvZ291dCgpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwbGF5ZXJVc2VyJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllckluZm9UZXh0LnNldFRleHQoJycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dpbkJ0bi5zZXRUZXh0KCdJbmljaWFyIHNlc2nDs24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9naW5CdG4ub2ZmKCdwb2ludGVyZG93bicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dpbkJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLm9wZW5Mb2dpbk1vZGFsKCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvcGVuTG9naW5Nb2RhbCgpIHtcclxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgbW9kYWxzXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9naW5Nb2RhbE9wZW4pIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2luTW9kYWxPcGVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHNjZW5lIGlucHV0IHNvIGNsaWNrcyBkb24ndCBwYXNzIHRocm91Z2ggdG8gdGhlIGdhbWVcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGlmIGlucHV0IG1hbmFnZXIgbm90IHByZXNlbnRcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgRE9NIG1vZGFsIG92ZXJsYXkgc28gdXNlciBjYW4gdHlwZSBwcm9wZXJseVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvdmVybGF5LnN0eWxlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsIGxlZnQ6ICcwJywgdG9wOiAnMCcsIHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsMCwwLDAuNyknLCBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIHpJbmRleDogJzk5OTk5JywgcG9pbnRlckV2ZW50czogJ2F1dG8nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNsaWNrcyBmcm9tIGJ1YmJsaW5nIHRvIGNhbnZhcyBvciBvdGhlciBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBpbnRlcmNlcHQgY2xpY2tzIG9uIHRoZSBvdmVybGF5IGJhY2tncm91bmQgKG5vdCBpbnNpZGUgdGhlIHBhbmVsKVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcFBvaW50ZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gb3ZlcmxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGljayBvbiBiYWNrZ3JvdW5kIC0gcHJldmVudCBpbnRlcmFjdGlvbiB3aXRoIGdhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgc3RvcFBvaW50ZXIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdG9wUG9pbnRlciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBBbHNvIGFsbG93IGNsaWNraW5nIHRoZSBiYWNrZ3JvdW5kIHRvIGNsb3NlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kQ2xpY2tIYW5kbGVyID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IG92ZXJsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUxvZ2luTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJhY2tncm91bmRDbGlja0hhbmRsZXIsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgYmFja2dyb3VuZCBjbGljayBoYW5kbGVyIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXJcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUJhY2tncm91bmRDbGlja0hhbmRsZXIgPSBiYWNrZ3JvdW5kQ2xpY2tIYW5kbGVyO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHBhbmVsLnN0eWxlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICc0MjBweCcsIHBhZGRpbmc6ICcxOHB4JywgYmFja2dyb3VuZDogJyMwYjEyMjAnLCBib3JkZXI6ICcycHggc29saWQgIzFmNmZlYicsIGJvcmRlclJhZGl1czogJzhweCcsIGNvbG9yOiAnI2RmZjRmZicsIGZvbnRGYW1pbHk6ICdzYW5zLXNlcmlmJywgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsIG92ZXJmbG93OiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ0xvZ2luIC8gTmlja25hbWUnO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aXRsZS5zdHlsZSwgeyBmb250U2l6ZTogJzIwcHgnLCBtYXJnaW5Cb3R0b206ICc4cHgnLCB0ZXh0QWxpZ246ICdjZW50ZXInIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZUxhYmVsQW5kSW5wdXQgPSAobGFiZWxUZXh0LCB0eXBlID0gJ3RleHQnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUubWFyZ2luID0gJzhweCAwJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gbGFiZWxUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc2cHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnN0eWxlLmNvbG9yID0gJyNkZmY0ZmYnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGlucHV0LnN0eWxlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIHBhZGRpbmc6ICc4cHggMTBweCcsIGZvbnRTaXplOiAnMTRweCcsIGJvcmRlclJhZGl1czogJzZweCcsIGJvcmRlcjogJzFweCBzb2xpZCAjMjM0JywgYmFja2dyb3VuZDogJyMxMjMnLCBjb2xvcjogJyNmZmZmZmYnLCBib3hTaXppbmc6ICdib3JkZXItYm94Jywgb3V0bGluZTogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgd3JhcHBlciwgaW5wdXQgfTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZW1haWxQYWlyID0gY3JlYXRlTGFiZWxBbmRJbnB1dCgnRW1haWw6JywgJ2VtYWlsJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lUGFpciA9IGNyZWF0ZUxhYmVsQW5kSW5wdXQoJ05pY2tuYW1lOicsICd0ZXh0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZmVlZGJhY2suc3R5bGUsIHsgY29sb3I6ICcjZmY4ODg4JywgbWluSGVpZ2h0OiAnMThweCcsIG1hcmdpblRvcDogJzZweCcgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYnRuUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBidG5Sb3cuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICAgICAgICAgIGJ0blJvdy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdzcGFjZS1iZXR3ZWVuJztcclxuICAgICAgICAgICAgICAgIGJ0blJvdy5zdHlsZS5tYXJnaW5Ub3AgPSAnMTJweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgICAgICAgIGVudGVyQnRuLnRleHRDb250ZW50ID0gJ0VudHJhcic7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGVudGVyQnRuLnN0eWxlLCB7IHBhZGRpbmc6ICc4cHggMTRweCcsIGJhY2tncm91bmQ6ICcjMDBmZjAwJywgYm9yZGVyOiAnbm9uZScsIGJvcmRlclJhZGl1czogJzZweCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgY2FuY2VsQnRuLnRleHRDb250ZW50ID0gJ0NhbmNlbGFyJztcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2FuY2VsQnRuLnN0eWxlLCB7IHBhZGRpbmc6ICc4cHggMTRweCcsIGJhY2tncm91bmQ6ICcjZmY4ODg4JywgYm9yZGVyOiAnbm9uZScsIGJvcmRlclJhZGl1czogJzZweCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJ0blJvdy5hcHBlbmRDaGlsZChlbnRlckJ0bik7XHJcbiAgICAgICAgICAgICAgICBidG5Sb3cuYXBwZW5kQ2hpbGQoY2FuY2VsQnRuKTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChlbWFpbFBhaXIud3JhcHBlcik7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChuYW1lUGFpci53cmFwcGVyKTtcclxuICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGZlZWRiYWNrKTtcclxuICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGJ0blJvdyk7XHJcbiAgICAgICAgICAgICAgICBvdmVybGF5LmFwcGVuZENoaWxkKHBhbmVsKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tTW9kYWwgPSBvdmVybGF5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tRW1haWxJbnB1dCA9IGVtYWlsUGFpci5pbnB1dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbU5hbWVJbnB1dCA9IG5hbWVQYWlyLmlucHV0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tRmVlZGJhY2sgPSBmZWVkYmFjaztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGb2N1cyBlbWFpbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tRW1haWxJbnB1dC5mb2N1cygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZXJzIChzdG9yZSByZWZlcmVuY2VzIHNvIHdlIGNhbiByZW1vdmUgdGhlbSBjbGVhbmx5IG9uIGNsb3NlKVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3VibWl0SGFuZGxlciA9IGFzeW5jICgpID0+IHsgYXdhaXQgdGhpcy5zdWJtaXRMb2dpbkRvbSgpOyB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FuY2VsSGFuZGxlciA9ICgpID0+IHsgdGhpcy5jbG9zZUxvZ2luTW9kYWwoKTsgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleUhhbmRsZXIgPSAoZSkgPT4geyBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHN1Ym1pdEhhbmRsZXIoKTsgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgY2FuY2VsSGFuZGxlcigpOyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbVN1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tQ2FuY2VsSGFuZGxlciA9IGNhbmNlbEhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21LZXlIYW5kbGVyID0ga2V5SGFuZGxlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbVN0b3BQb2ludGVyID0gc3RvcFBvaW50ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgZW50ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdWJtaXRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbmNlbEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleUhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgYnV0dG9uIHJlZnMgc28gd2UgY2FuIHJlbW92ZSBsaXN0ZW5lcnMgb24gY2xvc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUVudGVyQnRuID0gZW50ZXJCdG47XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21DYW5jZWxCdG4gPSBjYW5jZWxCdG47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNsb3NlTG9naW5Nb2RhbCgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9naW5Nb2RhbE9wZW4pIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2luTW9kYWxPcGVuID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmUtZW5hYmxlIHNjZW5lIGlucHV0XHJcbiAgICAgICAgICAgICAgICB0cnkgeyB0aGlzLmlucHV0LmVuYWJsZWQgPSB0cnVlOyB9IGNhdGNoIChlKSB7fVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBET00gbW9kYWwgYW5kIGxpc3RlbmVyc1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuX2RvbUVudGVyQnRuICYmIHRoaXMuX2RvbVN1Ym1pdEhhbmRsZXIpIHRoaXMuX2RvbUVudGVyQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZG9tU3VibWl0SGFuZGxlcik7IH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5fZG9tQ2FuY2VsQnRuICYmIHRoaXMuX2RvbUNhbmNlbEhhbmRsZXIpIHRoaXMuX2RvbUNhbmNlbEJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2RvbUNhbmNlbEhhbmRsZXIpOyB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuX2RvbUtleUhhbmRsZXIpIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9kb21LZXlIYW5kbGVyKTsgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLl9kb21Nb2RhbCAmJiB0aGlzLl9kb21TdG9wUG9pbnRlcikgeyB0aGlzLl9kb21Nb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuX2RvbVN0b3BQb2ludGVyLCB0cnVlKTsgdGhpcy5fZG9tTW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fZG9tU3RvcFBvaW50ZXIsIHRydWUpOyB9IH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5fZG9tTW9kYWwgJiYgdGhpcy5fZG9tQmFja2dyb3VuZENsaWNrSGFuZGxlcikgeyB0aGlzLl9kb21Nb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2RvbUJhY2tncm91bmRDbGlja0hhbmRsZXIsIHRydWUpOyB9IH0gY2F0Y2ggKGUpIHt9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RvbU1vZGFsICYmIHRoaXMuX2RvbU1vZGFsLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb21Nb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2RvbU1vZGFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21Nb2RhbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21FbWFpbElucHV0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbU5hbWVJbnB1dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21GZWVkYmFjayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21FbnRlckJ0biA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21DYW5jZWxCdG4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tS2V5SGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21TdWJtaXRIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUNhbmNlbEhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tU3RvcFBvaW50ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhc3luYyBzdWJtaXRMb2dpbkRvbSgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZG9tRW1haWxJbnB1dCB8fCAhdGhpcy5fZG9tTmFtZUlucHV0IHx8ICF0aGlzLl9kb21GZWVkYmFjaykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gdGhpcy5fZG9tRW1haWxJbnB1dC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5fZG9tTmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWVtYWlsIHx8ICFuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9tRmVlZGJhY2sudGV4dENvbnRlbnQgPSAnRW1haWwgeSBuaWNrbmFtZSBzb24gcmVxdWVyaWRvcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9tRmVlZGJhY2sudGV4dENvbnRlbnQgPSAnRW52aWFuZG8uLi4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL2xvZ2luJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZW1haWwsIG5hbWUgfSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gYXdhaXQgcmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9tRmVlZGJhY2sudGV4dENvbnRlbnQgPSBlcnIuZXJyb3IgfHwgJ0Vycm9yIGFsIGxvZ3VlYXInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGxheWVyVXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dVc2VyKHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbUZlZWRiYWNrLnRleHRDb250ZW50ID0gJ8KhQmllbnZlbmlkbyEnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY2xvc2VMb2dpbk1vZGFsKCksIDYwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciBlbiBsb2dpbiBET006JywgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb21GZWVkYmFjay50ZXh0Q29udGVudCA9ICdFcnJvciBkZSByZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIE5vdGE6IG5vIGRldGVuZXIgbGEgbcO6c2ljYSBhcXXDrSBwYXJhIHF1ZSBzaWdhIHNvbmFuZG8gY3VhbmRvIHZheWFtb3MgYSBBanVzdGVzXHJcbiAgICAgICAgICAgICAgICAvLyBTaSBxdWllcmVzIGRldGVuZXIgbGEgbcO6c2ljYSBhbCBjZXJyYXIgZWwgbWVuw7ogZGUgZm9ybWEgZGVmaW5pdGl2YSwgZGV0w6lubGEgYW50ZXMgZGUgaW5pY2lhciBsYSBudWV2YSBlc2NlbmEgKGVqLiBHYW1lU2NlbmUpLlxyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiIsImV4cG9ydCBjbGFzcyBQb20gZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2Uge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCAnTWFydGlsbG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuXHJcbiAgICAgdGhpcy5zZXRPcmlnaW4oMC41LCAwLjM1KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY2FsZSgxLjApO1xyXG4gICAgICAgIHRoaXMuc2V0RGVwdGgoNSk7XHJcblxyXG4gICAgICAgIHNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gRXN0YWRvXHJcbiAgICAgICAgdGhpcy5pc0hpdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmhpdE9mZnNldCA9IDQ1O1xyXG5cclxuICAgICAgICAvLyBFbCBtYXJ0aWxsbyBzaWd1ZSBhbCByYXTDs24gKHBlcm8gc2UgYmxvcXVlYSBzaSB0aGVybW9tZXRlckVmZmVjdEFjdGl2ZSBlc3TDoSBhY3Rpdm8pXHJcbiAgICAgICAgc2NlbmUuaW5wdXQub24oJ3BvaW50ZXJtb3ZlJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzSGl0dGluZyAmJiAhdGhpcy5zY2VuZS50aGVybW9tZXRlckVmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy54ID0gcG9pbnRlci54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy55ID0gcG9pbnRlci55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICBoaXQoKSB7XHJcbiAgICBpZiAodGhpcy5pc0hpdHRpbmcpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmlzSGl0dGluZyA9IHRydWU7XHJcblxyXG4gICAgY29uc3Qgc3RhcnRYID0gdGhpcy54O1xyXG4gICAgY29uc3Qgc3RhcnRZID0gdGhpcy55O1xyXG4gICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuYW5nbGU7XHJcblxyXG4gICAgLy8gRGlyZWNjacOzbiBkZWwgZ29scGUgc2Vnw7puIGVsIMOhbmd1bG8gZGVsIG1hem9cclxuICAgIGNvbnN0IHJhZGlhbnMgPSBQaGFzZXIuTWF0aC5EZWdUb1JhZChzdGFydEFuZ2xlICsgOTApO1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmhpdE9mZnNldDtcclxuXHJcbiAgICBjb25zdCBkeCA9IE1hdGguY29zKHJhZGlhbnMpICogZGlzdGFuY2U7XHJcbiAgICBjb25zdCBkeSA9IE1hdGguc2luKHJhZGlhbnMpICogZGlzdGFuY2U7XHJcblxyXG4gICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICB0YXJnZXRzOiB0aGlzLFxyXG4gICAgICAgIHg6IHN0YXJ0WCArIGR4LFxyXG4gICAgICAgIHk6IHN0YXJ0WSArIGR5LFxyXG4gICAgICAgIGFuZ2xlOiBzdGFydEFuZ2xlICsgMTgsXHJcbiAgICAgICAgZHVyYXRpb246IDgwLFxyXG4gICAgICAgIGVhc2U6ICdQb3dlcjIuSW4nLFxyXG4gICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICB4OiBzdGFydFgsXHJcbiAgICAgICAgICAgICAgICB5OiBzdGFydFksXHJcbiAgICAgICAgICAgICAgICBhbmdsZTogc3RhcnRBbmdsZSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNDAsXHJcbiAgICAgICAgICAgICAgICBlYXNlOiAnQmFjay5PdXQnLFxyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNIaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbn1cclxuIiwiLy8gLi4uZXhpc3RpbmcgY29kZS4uLlxyXG5leHBvcnQgY2xhc3MgUGluIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHkpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBvcFVwRHVyYXRpb24gPSAxMDAwOyAvLyBtcyBxdWUgYXBhcmVjZSBlbCB0b3BvXHJcbiAgICAgICAgdGhpcy5oZWFsdGggPSAxO1xyXG5cclxuICAgICAgICB0aGlzLmhvbGVzID0gW107ICAgICAgICAgICAgLy8gcG9zaWNpb25lcyBwb3NpYmxlc1xyXG4gICAgICAgIHRoaXMuY3VycmVudEhvbGVJbmRleCA9IDA7ICAvLyDDrW5kaWNlIGFjdHVhbFxyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIGNvb2xkb3duIGVudHJlIG1vdmltaWVudG9zXHJcbiAgICAgICAgdGhpcy5tb3ZlQ29vbGRvd24gPSA3MDA7IC8vIG1zIGEgZXNwZXJhciBlbnRyZSBtb3ZlcyAoYWp1c3RhIGFxdcOtKVxyXG4gICAgICAgIHRoaXMuX2xhc3RNb3ZlVGltZSA9IDA7XHJcblxyXG4gICAgICAgIC8vIFVzYXIgc3ByaXRlIGRlIGJvamFja1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ2JvamFjaycpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMik7XHJcblxyXG5cclxuICAgICAgICAvLyBQcmVwYXJhciBjYWxsYmFjayBwZXJvIE5PIGRlamFyIGVsIHNwcml0ZSBpbnRlcmFjdGl2byBtaWVudHJhcyBlc3TDqSBvY3VsdG9cclxuICAgICAgICB0aGlzLl9vbkhpdENhbGxiYWNrID0gKCkgPT4gdGhpcy5oaXQoKTtcclxuICAgICAgICB0aGlzLl9wb2ludGVyUmVnaXN0ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRpc2FibGVJbnRlcmFjdGl2ZSgpOyAvLyBhc2VndXJhciBpbmljaW8gbm8gaW50ZXJhY3Rpdm9cclxuICAgIH1cclxuXHJcbiAgICAvLyBFc3RhYmxlY2VyIGxvcyBhZ3VqZXJvcyAoYXJyYXkgZGUge3gseX0pXHJcbiAgICBzZXRIb2xlcyhob2xlcyA9IFtdKSB7XHJcbiAgICAgICAgdGhpcy5ob2xlcyA9IGhvbGVzO1xyXG4gICAgICAgIGlmICh0aGlzLmhvbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRIb2xlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVUb0hvbGUodGhpcy5jdXJyZW50SG9sZUluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTW92ZXIgYWwgdG9wbyBhbCBhZ3VqZXJvIMOtbmRpY2UgKGNvbiB3cmFwKVxyXG4gICAgbW92ZVRvSG9sZShpbmRleCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ob2xlcy5sZW5ndGgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gKHRoaXMuc2NlbmUgJiYgdGhpcy5zY2VuZS50aW1lICYmIHRoaXMuc2NlbmUudGltZS5ub3cpID8gdGhpcy5zY2VuZS50aW1lLm5vdyA6IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMuX2xhc3RNb3ZlVGltZSA8IHRoaXMubW92ZUNvb2xkb3duKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbWFzaWFkYSByYXBpZGV6LCBpZ25vcmFyIG1vdmltaWVudG9cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sYXN0TW92ZVRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudEhvbGVJbmRleCA9IFBoYXNlci5NYXRoLldyYXAoaW5kZXgsIDAsIHRoaXMuaG9sZXMubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmhvbGVzW3RoaXMuY3VycmVudEhvbGVJbmRleF07XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24ocG9zLngsIHBvcy55KTtcclxuXHJcbiAgICAgICAgLy8gU2kgZWwgdG9wbyBlc3RhYmEgdmlzaWJsZSBhbCBtb3ZlcnNlLCBvY3VsdGFybG8gcGFyYSBwZW5hbGl6YXIgY2FtYmlvIHLDoXBpZG9cclxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIHJlbGF0aXZvICgtMSAvICsxKVxyXG4gICAgbW92ZUluZGV4KGRlbHRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhvbGVzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubW92ZVRvSG9sZSh0aGlzLmN1cnJlbnRIb2xlSW5kZXggKyBkZWx0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWwgdG9wbyBzYWxlIGRlbCBhZ3VqZXJvXHJcbiAgICBwb3BVcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFzZWd1cmFyc2UgZGUgZXN0YXIgZW4gZWwgYWd1amVybyBjb3JyZWN0byBhbCBzYWxpclxyXG4gICAgICAgIHRoaXMubW92ZVRvSG9sZSh0aGlzLmN1cnJlbnRIb2xlSW5kZXgpO1xyXG5cclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhlYWx0aCA9IDE7XHJcbiAgICAgICAgdGhpcy5fd2FzSGl0ID0gZmFsc2U7IC8vIHJlc2V0ZWFyOiBubyBoYSBzaWRvIGdvbHBlYWRvIGHDum5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBBY3RpdmFyIGludGVyYWNjacOzbiBzb2xvIGN1YW5kbyBlcyB2aXNpYmxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5fcG9pbnRlclJlZ2lzdGVyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUub24oJ3BvaW50ZXJkb3duJywgdGhpcy5fb25IaXRDYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50ZXJSZWdpc3RlcmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVtaXRpciBldmVudG8gZGUgXCJzYWxpZGFcIiBwYXJhIHF1ZSBsYSBlc2NlbmEgcHVlZGEgcmVhY2Npb25hciAoZWouIHJlY29nZXIgcG93ZXJ1cClcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCd0b3BvUG9wcGVkJywge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICBob2xlSW5kZXg6IHRoaXMuY3VycmVudEhvbGVJbmRleCxcclxuICAgICAgICAgICAgICAgIHg6IHRoaXMuc3ByaXRlLngsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnNwcml0ZS55LFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiAodGhpcy5zY2VuZS50aW1lKSA/IHRoaXMuc2NlbmUudGltZS5ub3cgOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gZGVmZW5zaXZvOiBubyByb21wZXIgc2kgc2NlbmUuZXZlbnRzIG5vIGV4aXN0ZVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0VtaXQgdG9wb1BvcHBlZCBmYWlsZWQnLCBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVsIHRvcG8gc2UgZXNjb25kZSBkZXNwdcOpcyBkZSBjaWVydG8gdGllbXBvXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKHRoaXMucG9wVXBEdXJhdGlvbiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBoaWRlKCkgc2UgZW5jYXJnYXLDoSBkZSBlbWl0aXIgZXZlbnRvIGRlIFwibWlzc1wiIHNpIGNvcnJlc3BvbmRlXHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVsIHRvcG8gc2UgZXNjb25kZSBlbiBlbCBhZ3VqZXJvXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkgcmV0dXJuOyAvLyBTaSB5YSBlc3RhYmEgaW5hY3Rpdm8sIG5vIGhhY2VyIG5hZGFcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgLy8gRGVzYWN0aXZhciBpbnRlcmFjY2nDs24gY3VhbmRvIGVzdMOhIG9jdWx0b1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNpIG5vIGZ1ZSBnb2xwZWFkbywgZW1pdGlyIGV2ZW50byBkZSBcIm1pc3NcIiAoZWwganVnYWRvciAyIGdhbmEgcHVudG8pXHJcbiAgICAgICAgaWYgKCF0aGlzLl93YXNIaXQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ3RvcG9NaXNzZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaG9sZUluZGV4OiB0aGlzLmN1cnJlbnRIb2xlSW5kZXhcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0VtaXQgdG9wb01pc3NlZCBmYWlsZWQnLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDdWFuZG8gc2UgZ29scGVhIGFsIHRvcG8gLSByZXRvcm5hIHRydWUgc2kgZnVlIGdvbHBlYWRvXHJcbiAgICBoaXQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuX3dhc0hpdCA9IHRydWU7IC8vIE1hcmNhciBxdWUgZnVlIGdvbHBlYWRvXHJcbiAgICAgICAgdGhpcy5oZWFsdGggLT0gMTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmYwMDAwKTsgLy8gUGFycGFkZWEgcm9qbyBcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBJbmRpY2FyIHF1ZSBmdWUgZ29scGVhZG9cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc2V0ZWFyIGVsIHRvcG9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gMTtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuY2xlYXJUaW50KCk7XHJcbiAgICB9XHJcbn0iLCIvLyBzcmMvc2NlbmVzL0dhbWVTY2VuZS5qc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBvbSB9IGZyb20gJy4uL2VudGl0aWVzL1BvbSc7XHJcbmltcG9ydCB7IFBpbiB9IGZyb20gJy4uL2VudGl0aWVzL1Bpbic7XHJcblxyXG5jb25zdCBQT1dFUlVQX0NMT0NLID0gJ2Nsb2NrJztcclxuY29uc3QgUE9XRVJVUF9USEVSTU9NRVRFUiA9ICd0aGVybW9tZXRlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBHYW1lIHN0YXRlXHJcbiAgICB0aGlzLnRpbWVMZWZ0ID0gNjA7IC8vIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBTY29yZXNcclxuICAgIHRoaXMucHVudG9zUGxheWVyMSA9IDA7IC8vIFBvbVxyXG4gICAgdGhpcy5wdW50b3NQbGF5ZXIyID0gMDsgLy8gUGluXHJcblxyXG4gICAgLy8gUG93ZXJ1cCBjb25maWcgJiBzdGF0ZVxyXG4gICAgdGhpcy5wb3dlcnVwQW1vdW50ID0gMjA7XHJcbiAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMSA9IDM7XHJcbiAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMiA9IDM7XHJcbiAgICB0aGlzLnBvd2VydXBTdG9yZWRQMSA9IFtdO1xyXG4gICAgdGhpcy5wb3dlcnVwU3RvcmVkUDIgPSBbXTtcclxuICAgIHRoaXMucG93ZXJ1cHNVc2VkUDEgPSAwO1xyXG4gICAgdGhpcy5wb3dlcnVwc1VzZWRQMiA9IDA7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwID0gbnVsbDtcclxuICAgIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9IC0xO1xyXG4gICAgdGhpcy5wb3dlcnVwRHVyYXRpb24gPSA1MDAwO1xyXG4gICAgdGhpcy5wb3dlcnVwU3Bhd25NaW4gPSA0MDAwO1xyXG4gICAgdGhpcy5wb3dlcnVwU3Bhd25NYXggPSAxMjAwMDtcclxuXHJcbiAgICAvLyBUaGVybW9tZXRlciBlZmZlY3RcclxuICAgIHRoaXMudGhlcm1vbWV0ZXJFZmZlY3RBY3RpdmUgPSBmYWxzZTtcclxuICAgIHRoaXMucGluQmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy50aGVybW9tZXRlclRpbWVyID0gbnVsbDtcclxuXHJcbiAgICAvLyB0aW1lcnMgLyByZWZlcmVuY2VzXHJcbiAgICB0aGlzLnRvcG9UaW1lciA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVUaW1lciA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBwcmVsb2FkKCkge1xyXG4gICAgLy8gSU3DgUdFTkVTXHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9mb25kb19nYW1lLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdNYXJ0aWxsbycsICdhc3NldHMvbWF6by5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnYm9qYWNrJywgJ2Fzc2V0cy9waW4ucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BpbmdvbHBlYWRvJywgJ2Fzc2V0cy9waW5nb2xwZWFkby5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgncmVsb2onLCAnYXNzZXRzL3JlbG9qLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdhZ3VqZXJvJywgJ2Fzc2V0cy9hZ3VqZXJvLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCd0ZXJtb21ldHJvJywgJ2Fzc2V0cy90ZXJtb21ldHJvLnBuZycpO1xyXG5cclxuICAgIC8vIFNPTklET1NcclxuICAgIHRoaXMubG9hZC5hdWRpbygnTXVzaWNhX25pdmVsJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0h5ZHJvZ2VuLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdDYXN0b3InLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQ2FzdG9yLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdHb2xwZScsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9Hb2xwZS5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvX21hcnRpbGxvJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL01hcnRpbGxvX2p1ZXoubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0JvdG9uJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0JvdG9uLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdGcmlvJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL1RlbWJsZXF1ZS5tcDMnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIC8vIEJhY2tncm91bmQgJiBVSSBjb250YWluZXJcclxuICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDMwMCwgMTAwMCwgNjAwLCAweDFhMWEyZSk7XHJcbiAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwLCAwKTtcclxuICAgIGJnLnNldERpc3BsYXlTaXplKHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0KTtcclxuXHJcbiAgICB0aGlzLmFkZC5pbWFnZSgyMDAsIDQ4MCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoMzIwLCAzMjAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuICAgIHRoaXMuYWRkLmltYWdlKDQ0MCwgNDgwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcbiAgICB0aGlzLmFkZC5pbWFnZSg1NjAsIDMyMCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoNjgwLCA0ODAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuICAgIHRoaXMuYWRkLmltYWdlKDgwMCwgMzIwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgLy8gU29uaWRvIGRlIGZvbmRvXHJcbiAgIHRoaXMubXVzaWNhTml2ZWwgPSB0aGlzLnNvdW5kLmFkZCgnTXVzaWNhX25pdmVsJyk7XHJcbnRoaXMubXVzaWNhTml2ZWwucGxheSh7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG5cclxuXHJcblxyXG4gICAgLy8gQ3Vyc29yOiBvY3VsdGFtb3MgcG9yIGRlZmVjdG87IGxhIGVudGlkYWQgUG9tIHB1ZWRlIG1vc3RyYXIgc3UgcHJvcGlvIHNwcml0ZVxyXG4gICAgdGhpcy5pbnB1dC5tb3VzZS5kaXNhYmxlQ29udGV4dE1lbnUoKTtcclxuICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xyXG5cclxuICAgIC8vIE1hcnRpbGxvIHF1ZSBzaWd1ZSBhbCByYXTDs24gKFBvbSlcclxuICB0aGlzLm1hcnRpbGxvID0gbmV3IFBvbShcclxuICB0aGlzLFxyXG4gICdNYXJ0aWxsbycsXHJcbiAgdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLngsXHJcbiAgdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLnlcclxuKTtcclxuXHJcblxyXG4gIFxyXG5cclxuICAgIC8vIFNjb3JlcyBhcnJpYmEgYSBsYSBpenF1aWVyZGEgeSBkZXJlY2hhXHJcbiAgICB0aGlzLnNjb3JlUGxheWVyMSA9IHRoaXMuYWRkLnRleHQoODAsIDUwLCAnUG9tOiAwJywge1xyXG4gICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICBjb2xvcjogJyM2YTdjYjRmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMCwgMCk7XHJcblxyXG4gICAgdGhpcy5zY29yZVBsYXllcjIgPSB0aGlzLmFkZC50ZXh0KDg1MCwgNTAsICdQaW46IDAnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzllNGI0YmZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLCAwKTtcclxuXHJcbiAgICAvLyBUaW1lciBhYmFqbyBhIGxhIGRlcmVjaGFcclxuICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dChcclxuICAgICAgdGhpcy5zY2FsZS53aWR0aCAtIDIwLFxyXG4gICAgICB0aGlzLnNjYWxlLmhlaWdodCAtIDIwLFxyXG4gICAgICB0aGlzLmZvcm1hdFRpbWUodGhpcy50aW1lTGVmdCksXHJcbiAgICAgIHsgZm9udFNpemU6ICc0MHB4Jyxmb250U3R5bGU6ICdib2xkJywgY29sb3I6ICcjZmZmZmZmZmYnLCBmb250RmFtaWx5OiAnQXJpYWwnIH1cclxuICAgICkuc2V0T3JpZ2luKDEsIDEpO1xyXG5cclxuICAgIC8vIFBvd2VydXAgVUlcclxuICAgIHRoaXMucG93ZXJ1cFRleHRQMSA9IHRoaXMuYWRkLnRleHQoODAsIDgwLCBgUDEgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDF9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkUDF9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBjb2xvcjogJyM2YTdjYjRmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMCwgMCk7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwVGV4dFAyID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoICsgMjAsIDgwLCBgUDIgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDJ9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkUDJ9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBjb2xvcjogJyM5ZTRiNGJmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMS41LCAwKTtcclxuXHJcbiAgICAvLyBUZWNsYXM6IHNvbG8gc2UgY3JlYW4gdW5hIHZlelxyXG4gICAgdGhpcy5rZXlzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgb25lOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuT05FLFxyXG4gICAgICB0d286IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5UV08sXHJcbiAgICAgIHRocmVlOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVEhSRUUsXHJcbiAgICAgIGZvdXI6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5GT1VSLFxyXG4gICAgICBmaXZlOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRklWRSxcclxuICAgICAgc2l4OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuU0lYLFxyXG4gICAgICBlc2M6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MsXHJcbiAgICAgIHNwYWNlOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuU1BBQ0VcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJlc3VtZSBoYW5kbGVyIChjdWFuZG8gdnVlbHZlcyBkZXNkZSBwYXVzYSlcclxuICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCB0aGlzLm9uUmVzdW1lLCB0aGlzKTtcclxuXHJcbiAgICAvLyBDcmVhciB0b3BvIChQaW4pXHJcbiAgICB0aGlzLmNyZWF0ZVRvcG9zKCk7XHJcblxyXG4gICAgLy8gU3RhcnQgcG93ZXJ1cCBzcGF3bnNcclxuICAgIHRoaXMuc2NoZWR1bGVOZXh0UG93ZXJ1cCgpO1xyXG5cclxuICAgIC8vIEV2ZW50byB0b3BvIHBvcHBlZDogcmVjb2dlIGVsIHBvd2VydXAgYXV0b23DoXRpY2FtZW50ZSBwYXJhIFAyIHNpIGNvaW5jaWRlXHJcbiAgICB0aGlzLmV2ZW50cy5vZmYoJ3RvcG9Qb3BwZWQnKTsgLy8gYXNlZ3VyYW1vcyBxdWUgbm8gaGF5YSBkdXBsaWNhZG9zXHJcbiAgICB0aGlzLmV2ZW50cy5vbigndG9wb1BvcHBlZCcsIChkYXRhID0ge30pID0+IHtcclxuICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICBpZiAodGhpcy5wb3dlcnVwICYmIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9PT0gZGF0YS5ob2xlSW5kZXgpIHtcclxuICAgICAgICAvLyBTaSBlbCB0b3BvIGFwYXJlY2UgZXhhY3RhbWVudGUgZW4gZWwgcG93ZXJ1cCAtPiBzZSByZWNvZ2UgcGFyYSBQMiAoUGluKVxyXG4gICAgICAgIHRoaXMucGlja3VwUG93ZXJ1cEJ5UGxheWVyKDIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFdmVudG8gdG9wbyBtaXNzZWQ6IGN1YW5kbyBlbCB0b3BvIGRlc2FwYXJlY2Ugc2luIHNlciBnb2xwZWFkbywgcHVudG8gcGFyYSBQMlxyXG4gICAgdGhpcy5ldmVudHMub2ZmKCd0b3BvTWlzc2VkJyk7IC8vIGFzZWd1cmFtb3MgcXVlIG5vIGhheWEgZHVwbGljYWRvc1xyXG4gICAgdGhpcy5ldmVudHMub24oJ3RvcG9NaXNzZWQnLCAoZGF0YSA9IHt9KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgaWYgKCF0aGlzLnBpbkJsb2NrZWQpIHtcclxuICAgICAgICB0aGlzLnB1bnRvc1BsYXllcjIgKz0gMTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSW5wdXQgcG9pbnRlcjogbWFuZWphZG9yIMO6bmljb1xyXG4gICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4gdGhpcy5oYW5kbGVQb2ludGVyRG93bihwb2ludGVyKSk7XHJcblxyXG4gICAgLy8gVGltZXIgY3VlbnRhIGF0csOhc1xyXG4gICAgdGhpcy5nYW1lVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICBkZWxheTogMTAwMCxcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy50aW1lTGVmdC0tO1xyXG4gICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQodGhpcy5mb3JtYXRUaW1lKHRoaXMudGltZUxlZnQpKTtcclxuICAgICAgICBpZiAodGhpcy50aW1lTGVmdCA8PSAwKSB7XHJcbiAgICAgICAgICB0aGlzLmVuZFJvdW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBc2VndXJhbW9zIHF1ZSBsb3MgdGV4dG9zIHkgVUkgZXN0w6luIHNpbmNyb25pemFkb3NcclxuICAgIHRoaXMudXBkYXRlU2NvcmVVSSgpO1xyXG4gICAgdGhpcy51cGRhdGVQb3dlcnVwVUkoKTtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBIZWxwZXI6IHBvaW50ZXIgaGFuZGxlclxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBoYW5kbGVQb2ludGVyRG93bihwb2ludGVyKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaXNMZWZ0ID0gcG9pbnRlci5idXR0b24gPT09IDAgfHwgKHBvaW50ZXIuZXZlbnQgJiYgcG9pbnRlci5ldmVudC5idXR0b24gPT09IDApO1xyXG4gICAgY29uc3QgaXNSaWdodCA9IHBvaW50ZXIuYnV0dG9uID09PSAyIHx8IChwb2ludGVyLmV2ZW50ICYmIHBvaW50ZXIuZXZlbnQuYnV0dG9uID09PSAyKTtcclxuXHJcbiAgICAvLyBTaSBoYXkgcG93ZXJ1cCB5IHNlIGNsaWNrZWEgc29icmUgw6lsXHJcbiAgICBpZiAodGhpcy5wb3dlcnVwICYmIHRoaXMucG93ZXJ1cC5zcHJpdGUpIHtcclxuICAgICAgY29uc3QgcEJvdW5kcyA9IHRoaXMucG93ZXJ1cC5zcHJpdGUuZ2V0Qm91bmRzKCk7XHJcbiAgICAgIGlmIChwQm91bmRzICYmIHBCb3VuZHMuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpKSB7XHJcbiAgICAgICAgaWYgKGlzTGVmdCkge1xyXG4gICAgICAgICAgdGhpcy5waWNrdXBQb3dlcnVwQnlQbGF5ZXIoMSk7IC8vIFBpbiByZWNvZ2UgY29uIExNQlxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNSaWdodCkge1xyXG4gICAgICAgICAgLy8gU2kgZWwgdG9wbyBlc3TDoSBlbiBlbCBtaXNtbyBhZ3VqZXJvLCBQMiBwdWVkZSByZWNvZ2VyIGNvbiBSTUJcclxuICAgICAgICAgIGlmICh0aGlzLnRvcG8gJiYgdGhpcy5wb3dlcnVwSG9sZUluZGV4ID09PSB0aGlzLnRvcG8uY3VycmVudEhvbGVJbmRleCkge1xyXG4gICAgICAgICAgICB0aGlzLnBpY2t1cFBvd2VydXBCeVBsYXllcigyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTaSBzZSBoYWNlIFJNQiBlbiBvdHJvIHNpdGlvOiB1c2FyIHBvd2VydXAgUDEgKFBvbSlcclxuICAgIGlmIChpc1JpZ2h0KSB7XHJcbiAgICAgIHRoaXMudXNlUG93ZXJ1cEJ5UGxheWVyKDEpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2kgTE1COiBpbnRlbnRhciBnb2xwZWFyIHRvcG8gKHNpIGVzdMOhIGFjdGl2bykg4oCUIHNpIGZhbGxhcywgcHVudG8gcGFyYSBqdWdhZG9yIDIgKFBvbSlcclxuICAgIGlmIChpc0xlZnQpIHtcclxuXHJcbiAgLy8gYW5pbWFjacOzbiBkZWwgbWFydGlsbG8gU0lFTVBSRSBxdWUgc2UgZ29scGVhXHJcbiAgaWYgKHRoaXMubWFydGlsbG8pIHtcclxuICAgIHRoaXMubWFydGlsbG8uaGl0KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoIXRoaXMudG9wbyB8fCAhdGhpcy50b3BvLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBib3VuZHMgPSB0aGlzLnRvcG8uc3ByaXRlLmdldEJvdW5kcygpO1xyXG4gIGNvbnN0IHNtYWxsZXJCb3VuZHMgPSBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKFxyXG4gICAgYm91bmRzLnggKyBib3VuZHMud2lkdGggKiAwLjI1LFxyXG4gICAgYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0ICogMC4yNSxcclxuICAgIGJvdW5kcy53aWR0aCAqIDAuNSxcclxuICAgIGJvdW5kcy5oZWlnaHQgKiAwLjVcclxuICApO1xyXG4gIGNvbnN0IGNsaWNrZWRUb3BvID0gc21hbGxlckJvdW5kcy5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XHJcblxyXG4gIGlmIChjbGlja2VkVG9wbyAmJiB0aGlzLnRvcG8uaXNBY3RpdmUpIHtcclxuICAgIC8vIEdvbHBlIGV4aXRvc29cclxuICAgIHRoaXMucHVudG9zUGxheWVyMSArPSAxO1xyXG4gICAgdGhpcy51cGRhdGVTY29yZVVJKCk7XHJcbiAgICB0aGlzLnRvcG8uaGlkZSgpO1xyXG4gICAgdGhpcy5zb3VuZC5wbGF5KCdHb2xwZScpO1xyXG4gICAgdGhpcy5zb3VuZC5wbGF5KCdDYXN0b3InKTtcclxuICAgIHRoaXMuY2FtZXJhcy5tYWluLnNoYWtlKDIwMCwgMC4wMSk7XHJcbiAgICByZXR1cm47XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEZhbGxvXHJcbiAgICBpZiAoIXRoaXMucGluQmxvY2tlZCkge1xyXG4gICAgICB0aGlzLnB1bnRvc1BsYXllcjIgKz0gMTtcclxuICAgICAgdGhpcy51cGRhdGVTY29yZVVJKCk7XHJcbiAgICAgIHRoaXMuc291bmQucGxheSgnU29uaWRvX21hcnRpbGxvJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiAgfVxyXG5cclxuICBcclxuICBjcmVhdGVUb3BvcygpIHtcclxuICAgIHRoaXMudG9wb0hvbGVzID0gW1xyXG4gICAgICB7IHg6IDIwMCwgeTogNDgwIH0sXHJcbiAgICAgIHsgeDogMzIwLCB5OiAzMjAgfSxcclxuICAgICAgeyB4OiA0NDAsIHk6IDQ4MCB9LFxyXG4gICAgICB7IHg6IDU2MCwgeTogMzIwIH0sXHJcbiAgICAgIHsgeDogNjgwLCB5OiA0ODAgfSxcclxuICAgICAgeyB4OiA4MDAsIHk6IDMyMCB9XHJcbiAgICBdO1xyXG5cclxuICAgIHRoaXMudG9wbyA9IG5ldyBQaW4odGhpcywgMCwgdGhpcy50b3BvSG9sZXNbMF0ueCwgdGhpcy50b3BvSG9sZXNbMF0ueSk7XHJcbiAgICB0aGlzLnRvcG8uc2V0SG9sZXModGhpcy50b3BvSG9sZXMpO1xyXG5cclxuICAgIC8vIEVsIFBpbiAodG9wbykgZGViZSBtYW5lamFyIHN1IHByb3BpbyBwb2ludGVyZG93bjsgbG8gY29uZWN0YW1vcyBhcXXDrSBkZSBmb3JtYSBzZWd1cmE6XHJcbiAgICB0aGlzLnRvcG8uc3ByaXRlLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICB0aGlzLnRvcG8uc3ByaXRlLm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyLCBsb2NhbFgsIGxvY2FsWSwgZXZlbnQpID0+IHtcclxuICAgICAgLy8gRXZpdGFyIHF1ZSBlbCBldmVudG8gYnVyYnVqZWUgYWwgaW5wdXQgZ2xvYmFsXHJcbiAgICAgIHRyeSB7IGlmIChldmVudCAmJiBldmVudC5zdG9wUHJvcGFnYXRpb24pIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9IGNhdGNoIChlKSB7fVxyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIGlmICh0aGlzLnRvcG8uaXNBY3RpdmUgJiYgIXRoaXMucGluQmxvY2tlZCkge1xyXG4gICAgICAgIC8vIEdvbHBlIGV4aXRvc28gLT4gcHVudG8gcGFyYSBqdWdhZG9yIDEgKFBvbSlcclxuICAgICAgICB0aGlzLnB1bnRvc1BsYXllcjEgKz0gMTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFyIGVsIG1hcnRpbGxvIGN1YW5kbyBnb2xwZWFcclxuICAgICAgICBpZiAodGhpcy5tYXJ0aWxsbykge1xyXG4gICAgICAgICAgdGhpcy5tYXJ0aWxsby5oaXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hcmNhciBlbCB0b3BvIGNvbW8gZ29scGVhZG8geSBwcm9jZXNhciBlbCBnb2xwZVxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50b3BvLmhpdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgdGhpcy50b3BvLmhpdCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnRvcG8uaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU29uaWRvcyB5IGVmZWN0b1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnR29scGUnKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0Nhc3RvcicpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zaGFrZSgyMDAsIDAuMDEpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUaW1lciBkZSBhcGFyaWNpw7NuIGRlbCB0b3BvIChwb3BVcCBjYWRhIFggbXMgc2kgZXN0w6EgZXNjb25kaWRvKVxyXG4gICAgdGhpcy50b3BvVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICBkZWxheTogMTUwMCxcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvcG8uaXNBY3RpdmUpIHtcclxuICAgICAgICAgIHRoaXMudG9wby5wb3BVcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBcclxuICAvLyBQb3dlcnVwc1xyXG5cclxuICBzY2hlZHVsZU5leHRQb3dlcnVwKCkge1xyXG4gICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cE1heFN0b3JlZFAxIDw9IDApIHJldHVybjtcclxuICAgIGlmICh0aGlzLnBvd2VydXBNYXhTdG9yZWRQMiA8PSAwKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZGVsYXkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKHRoaXMucG93ZXJ1cFNwYXduTWluLCB0aGlzLnBvd2VydXBTcGF3bk1heCk7XHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoZGVsYXksICgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICB0aGlzLnNwYXduUG93ZXJ1cEF0UmFuZG9tSG9sZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzcGF3blBvd2VydXBBdFJhbmRvbUhvbGUoKSB7XHJcbiAgICBpZiAoIXRoaXMudG9wb0hvbGVzIHx8ICF0aGlzLnRvcG9Ib2xlcy5sZW5ndGgpIHJldHVybjtcclxuICAgIGlmICh0aGlzLnBvd2VydXApIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpbmRleCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMCwgdGhpcy50b3BvSG9sZXMubGVuZ3RoIC0gMSk7XHJcbiAgICBjb25zdCBwb3MgPSB0aGlzLnRvcG9Ib2xlc1tpbmRleF07XHJcblxyXG4gICAgLy8gRWxlZ2lyIHRpcG8gYWxlYXRvcmlhbWVudGVcclxuICAgIGNvbnN0IHBvd2VydXBUeXBlcyA9IFtQT1dFUlVQX0NMT0NLLCBQT1dFUlVQX1RIRVJNT01FVEVSXTtcclxuICAgIHRoaXMuY3VycmVudFBvd2VydXBUeXBlID0gcG93ZXJ1cFR5cGVzW1BoYXNlci5NYXRoLkJldHdlZW4oMCwgcG93ZXJ1cFR5cGVzLmxlbmd0aCAtIDEpXTtcclxuXHJcbiAgICBsZXQgc3ByaXRlS2V5O1xyXG4gICAgbGV0IHNjYWxlID0gMC4xNTsgLy8gZXNjYWxhIHBvciBkZWZlY3RvIHBhcmEgcmVsb2pcclxuICAgIGlmICh0aGlzLmN1cnJlbnRQb3dlcnVwVHlwZSA9PT0gUE9XRVJVUF9DTE9DSykge1xyXG4gICAgICBzcHJpdGVLZXkgPSAncmVsb2onO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQb3dlcnVwVHlwZSA9PT0gUE9XRVJVUF9USEVSTU9NRVRFUikge1xyXG4gICAgICBzcHJpdGVLZXkgPSAndGVybW9tZXRybyc7XHJcbiAgICAgIHNjYWxlID0gMC4zMDsgLy8gZXNjYWxhIG3DoXMgZ3JhbmRlIHBhcmEgdGVybcOzbWV0cm9cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBvd2VydXAgPSB0aGlzLmFkZC5pbWFnZShwb3MueCwgcG9zLnkgLSAxMCwgc3ByaXRlS2V5KS5zZXRTY2FsZShzY2FsZSkuc2V0RGVwdGgoOCk7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwSG9sZUluZGV4ID0gaW5kZXg7XHJcbiAgICB0aGlzLnBvd2VydXAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIEV2ZW50byBjbGljayBlbiBwb3dlcnVwOiBKdWdhZG9yIDEgKFBpbikgKExNQikgcmVjb2dlXHJcbiAgICB0aGlzLnBvd2VydXAub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICBjb25zdCBpc0xlZnQgPSBwb2ludGVyLmJ1dHRvbiA9PT0gMCB8fCAocG9pbnRlci5ldmVudCAmJiBwb2ludGVyLmV2ZW50LmJ1dHRvbiA9PT0gMCk7XHJcbiAgICAgIGlmIChpc0xlZnQpIHtcclxuICAgICAgICB0aGlzLnBpY2t1cFBvd2VydXBCeVBsYXllcigxKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGZsb3RhY2nDs24gc3V0aWxcclxuICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMucG93ZXJ1cCxcclxuICAgICAgeTogcG9zLnkgLSAxNixcclxuICAgICAgZHVyYXRpb246IDYwMCxcclxuICAgICAgeW95bzogdHJ1ZSxcclxuICAgICAgcmVwZWF0OiAtMSxcclxuICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0J1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZXhwaXJhY2nDs24gZGVsIHBvd2VydXBcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCh0aGlzLnBvd2VydXBEdXJhdGlvbiwgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMucG93ZXJ1cCkgcmV0dXJuO1xyXG4gICAgICB0aGlzLnBvd2VydXAuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLnBvd2VydXAgPSBudWxsO1xyXG4gICAgICB0aGlzLnBvd2VydXBIb2xlSW5kZXggPSAtMTtcclxuICAgICAgdGhpcy5zY2hlZHVsZU5leHRQb3dlcnVwKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBpY2t1cFBvd2VydXBCeVBsYXllcihwbGF5ZXJJZCkge1xyXG4gICAgaWYgKCF0aGlzLnBvd2VydXApIHJldHVybiBmYWxzZTtcclxuICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAvLyBUZXJtw7NtZXRybyBzb2xvIHB1ZWRlIHNlciByZWNvZ2lkbyBwb3IgUG9tIChQMilcclxuICAgIGlmICh0aGlzLmN1cnJlbnRQb3dlcnVwVHlwZSA9PT0gUE9XRVJVUF9USEVSTU9NRVRFUiAmJiBwbGF5ZXJJZCAhPT0gMikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGlmIChwbGF5ZXJJZCA9PT0gMSkge1xyXG4gICAgICBpZiAodGhpcy5wb3dlcnVwc1VzZWRQMSA+PSAzKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBTdG9yZWRQMS5sZW5ndGggPj0gdGhpcy5wb3dlcnVwTWF4U3RvcmVkUDEpIHJldHVybiBmYWxzZTtcclxuICAgICAgdGhpcy5wb3dlcnVwU3RvcmVkUDEucHVzaCh0aGlzLmN1cnJlbnRQb3dlcnVwVHlwZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5wb3dlcnVwc1VzZWRQMiA+PSAzKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBTdG9yZWRQMi5sZW5ndGggPj0gdGhpcy5wb3dlcnVwTWF4U3RvcmVkUDIpIHJldHVybiBmYWxzZTtcclxuICAgICAgdGhpcy5wb3dlcnVwU3RvcmVkUDIucHVzaCh0aGlzLmN1cnJlbnRQb3dlcnVwVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU29uaWRvIGFsIHJlY29nZXIgcG93ZXJ1cFxyXG4gICAgaWYgKHRoaXMuc291bmQuZ2V0KCdCb3RvbicpKSB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJyk7XHJcblxyXG4gICAgLy8gVXBkYXRlIFVJXHJcbiAgICB0aGlzLnVwZGF0ZVBvd2VydXBVSSgpO1xyXG5cclxuICAgIC8vIERlc3Ryb3kgcG93ZXJ1cCBhbmQgc2NoZWR1bGUgbmV4dCBzcGF3blxyXG4gICAgaWYgKHRoaXMucG93ZXJ1cCkge1xyXG4gICAgICB0aGlzLnBvd2VydXAuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLnBvd2VydXAgPSBudWxsO1xyXG4gICAgICB0aGlzLnBvd2VydXBIb2xlSW5kZXggPSAtMTtcclxuICAgIH1cclxuICAgIHRoaXMuc2NoZWR1bGVOZXh0UG93ZXJ1cCgpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICB1c2VQb3dlcnVwQnlQbGF5ZXIocGxheWVySWQpIHtcclxuICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBsZXQgcG93ZXJ1cFR5cGU7XHJcbiAgICBpZiAocGxheWVySWQgPT09IDEpIHtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAxLmxlbmd0aCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHBvd2VydXBUeXBlID0gdGhpcy5wb3dlcnVwU3RvcmVkUDEucG9wKCk7XHJcbiAgICAgIGlmKHRoaXMucG93ZXJ1cE1heFN0b3JlZFAxPjApXHJcbiAgICAgICAgdGhpcy5wb3dlcnVwTWF4U3RvcmVkUDEtLTtcclxuICAgICAgaWYodGhpcy5wb3dlcnVwTWF4U3RvcmVkUDE+MClcclxuICAgICAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMS0tO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAyLmxlbmd0aCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHBvd2VydXBUeXBlID0gdGhpcy5wb3dlcnVwU3RvcmVkUDIucG9wKCk7XHJcbiAgICAgIGlmKHRoaXMucG93ZXJ1cE1heFN0b3JlZFAyPjApXHJcbiAgICAgICAgdGhpcy5wb3dlcnVwTWF4U3RvcmVkUDItLTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcHBseSBlZmZlY3QgYmFzZWQgb24gdHlwZVxyXG4gICAgaWYgKHBvd2VydXBUeXBlID09PSBQT1dFUlVQX0NMT0NLKSB7XHJcbiAgICAgIC8vIEF1bWVudGFyIHRpZW1wb1xyXG4gICAgICB0aGlzLnRpbWVMZWZ0ICs9IHRoaXMucG93ZXJ1cEFtb3VudDtcclxuICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dCh0aGlzLmZvcm1hdFRpbWUodGhpcy50aW1lTGVmdCkpO1xyXG4gICAgfSBlbHNlIGlmIChwb3dlcnVwVHlwZSA9PT0gUE9XRVJVUF9USEVSTU9NRVRFUikge1xyXG4gICAgICAvLyBBY3RpdmFyIGVmZWN0byBkZWwgdGVybcOzbWV0cm9cclxuICAgICAgdGhpcy50aGVybW9tZXRlckVmZmVjdEFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMucGluQmxvY2tlZCA9IHRydWU7XHJcbiAgICAgIC8vZGV0ZW5lciBlbCB0aWVtcG9cclxuICAgICAgdGhpcy5nYW1lVGltZXIucGF1c2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgIC8vc29uaWRvIGRlIGZyaW9cclxuICAgICAgdGhpcy5zb3VuZC5wbGF5KCdGcmlvJyk7XHJcblxyXG5cclxuXHJcbiAgICAgIC8vIENyZWFyIG92ZXJsYXkgYXp1bCBjbGFybyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKFxyXG4gICAgICAgIHRoaXMuc2NhbGUud2lkdGggLyAyLFxyXG4gICAgICAgIHRoaXMuc2NhbGUuaGVpZ2h0IC8gMixcclxuICAgICAgICB0aGlzLnNjYWxlLndpZHRoLFxyXG4gICAgICAgIHRoaXMuc2NhbGUuaGVpZ2h0LFxyXG4gICAgICAgIDB4ODdDRUVCLCAvLyBTa3kgYmx1ZSAvIGF6dWwgY2xhcm9cclxuICAgICAgICAwLjQgLy8gYWxmYSA0MCUgcGFyYSBxdWUgc2UgdmVhIGRlIGZvbmRvIHBlcm8gdHJhbnNwYXJlbnRlXHJcbiAgICAgICkuc2V0RGVwdGgoMTApOyAvLyBwb3IgZW5jaW1hIGRlIGxhIG1heW9yw61hIGRlIG9iamV0b3MgcGVybyBubyBkZSBVSSBjcsOtdGljYVxyXG4gICAgICBcclxuICAgICAgdGhpcy50aGVybW9tZXRlclRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICBkZWxheTogMTAwMCxcclxuICAgICAgICByZXBlYXQ6IDMsIC8vIDQgdGlja3M6IDAsMSwyLDNcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wdW50b3NQbGF5ZXIyICs9IDI7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNDAwMCwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudGhlcm1vbWV0ZXJFZmZlY3RBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBpbkJsb2NrZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVUaW1lci5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy50aGVybW9tZXRlclRpbWVyKSB7XHJcbiAgICAgICAgICB0aGlzLnRoZXJtb21ldGVyVGltZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgdGhpcy50aGVybW9tZXRlclRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRWxpbWluYXIgZWwgb3ZlcmxheSBhbCB0ZXJtaW5hclxyXG4gICAgICAgIGlmIChvdmVybGF5KSB7XHJcbiAgICAgICAgICBvdmVybGF5LmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZlZWRiYWNrIHZpc3VhbCB5IHNvbm9yb1xyXG4gICAgdGhpcy5jYW1lcmFzLm1haW4uZmxhc2goMTUwLCAxMDAsIDI1NSwgMTAwKTtcclxuICAgIGlmICh0aGlzLnNvdW5kLmdldCgnQm90b24nKSkgdGhpcy5zb3VuZC5wbGF5KCdCb3RvbicpO1xyXG5cclxuICAgIC8vIGFjdHVhbGl6YXIgVUlcclxuICAgIHRoaXMudXBkYXRlUG93ZXJ1cFVJKCk7XHJcblxyXG4gICAgLy8gaW5jcmVtZW50YXIgY29udGFkb3IgZGUgcG93ZXJ1cHMgdXNhZG9zXHJcbiAgICBpZiAocGxheWVySWQgPT09IDEpIHtcclxuICAgICAgdGhpcy5wb3dlcnVwc1VzZWRQMSsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wb3dlcnVwc1VzZWRQMisrO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIFVJIHVwZGF0ZSBoZWxwZXJzXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHVwZGF0ZVNjb3JlVUkoKSB7XHJcbiAgICAvLyBDb25zaXN0ZW5jaWEgY29uIGFzaWduYWNpw7NuOiBQMSA9IFBvbSwgUDIgPSBQaW5cclxuICAgIGlmICh0aGlzLnNjb3JlUGxheWVyMSkgdGhpcy5zY29yZVBsYXllcjEuc2V0VGV4dChgUG9tOiAke3RoaXMucHVudG9zUGxheWVyMX1gKTtcclxuICAgIGlmICh0aGlzLnNjb3JlUGxheWVyMikgdGhpcy5zY29yZVBsYXllcjIuc2V0VGV4dChgUGluOiAke3RoaXMucHVudG9zUGxheWVyMn1gKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvd2VydXBVSSgpIHtcclxuICAgIGlmICh0aGlzLnBvd2VydXBUZXh0UDEpIHRoaXMucG93ZXJ1cFRleHRQMS5zZXRUZXh0KGBQMSBQb3dlcnVwczogJHt0aGlzLnBvd2VydXBTdG9yZWRQMS5sZW5ndGh9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkUDF9YCk7XHJcbiAgICBpZiAodGhpcy5wb3dlcnVwVGV4dFAyKSB0aGlzLnBvd2VydXBUZXh0UDIuc2V0VGV4dChgUDIgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDIubGVuZ3RofS8ke3RoaXMucG93ZXJ1cE1heFN0b3JlZFAyfWApO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEZvcm1hdCB0aW1lIGhlbHBlclxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBmb3JtYXRUaW1lKHNlY29uZHMpIHtcclxuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgcyA9IChzZWNvbmRzICUgNjApLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIHJldHVybiBgJHttfToke3N9YDtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBVcGRhdGUgbG9vcFxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICB1cGRhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcblxyXG4gICAgLy8gTWFuZWpvIHRlY2xhcyAxLTY6IG1vdmVyIHRvcG8gKHNvbG8gc2kgdG9wbyBlc3TDoSBkaXNwb25pYmxlKVxyXG4gICAgaWYgKHRoaXMudG9wbykge1xyXG4gICAgICBpZiAodGhpcy5rZXlzLm9uZS5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDApO1xyXG4gICAgICBpZiAodGhpcy5rZXlzLnR3by5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDEpO1xyXG4gICAgICBpZiAodGhpcy5rZXlzLnRocmVlLmlzRG93bikgdGhpcy50b3BvLm1vdmVUb0hvbGUoMik7XHJcbiAgICAgIGlmICh0aGlzLmtleXMuZm91ci5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDMpO1xyXG4gICAgICBpZiAodGhpcy5rZXlzLmZpdmUuaXNEb3duKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSg0KTtcclxuICAgICAgaWYgKHRoaXMua2V5cy5zaXguaXNEb3duKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSg1KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFU0MgcGFyYSBwYXVzYXJcclxuICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLmVzYykpIHtcclxuICAgICAgaWYgKCF0aGlzLmlzR2FtZU92ZXIpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU1BBQ0UgcGFyYSB1c2FyIHBvd2VydXAgUDJcclxuICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLnNwYWNlKSkge1xyXG4gICAgICB0aGlzLnVzZVBvd2VydXBCeVBsYXllcigyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBFbmQgcm91bmQgKHBhbnRhbGxhIGZpbmFsKVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZW5kUm91bmQoKSB7XHJcbiAgdGhpcy5pc0dhbWVPdmVyID0gdHJ1ZTtcclxuICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuXHJcbiAgLy8gTW9zdHJhciBjdXJzb3JcclxuICBpZiAodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5jYW52YXMgJiYgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZSkge1xyXG4gICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XHJcbiAgfVxyXG5cclxuICAvLyBEZXNhY3RpdmFyIGlucHV0IGdlbmVyYWxcclxuICB0aGlzLmlucHV0Lm9mZigncG9pbnRlcmRvd24nKTtcclxuXHJcbiAgLy8gT2N1bHRhciBtYXJ0aWxsb1xyXG4gIGlmICh0aGlzLm1hcnRpbGxvICYmIHRoaXMubWFydGlsbG8uc2V0VmlzaWJsZSkge1xyXG4gICAgdGhpcy5tYXJ0aWxsby5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8vIERldGVuZXIgdGltZXJzXHJcbiAgaWYgKHRoaXMudG9wb1RpbWVyKSB0aGlzLnRvcG9UaW1lci5yZW1vdmUoZmFsc2UpO1xyXG4gIGlmICh0aGlzLmdhbWVUaW1lcikgdGhpcy5nYW1lVGltZXIucmVtb3ZlKGZhbHNlKTtcclxuXHJcbiAgaWYgKHRoaXMudG9wbyAmJiB0aGlzLnRvcG8uc3ByaXRlKSB7XHJcbiAgICB0aGlzLnRvcG8uc3ByaXRlLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG4gICAgdGhpcy50b3BvLmhpZGUoKTtcclxuICB9XHJcblxyXG4gIC8vIENvb3JkZW5hZGFzXHJcbiAgY29uc3QgY3ggPSB0aGlzLnNjYWxlLndpZHRoIC8gMjtcclxuICBjb25zdCBjeSA9IHRoaXMuc2NhbGUuaGVpZ2h0IC8gMjtcclxuXHJcbiAgLy8gUGFuZWxcclxuICBjb25zdCBwYW5lbCA9IHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3ksIDc2MCwgNDIwLCAweDBiMTIyMCwgMC44OClcclxuICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgLnNldERlcHRoKDIwMCk7XHJcbiAgcGFuZWwuc2V0U3Ryb2tlU3R5bGUoNCwgMHgxZjZmZWIpO1xyXG4gIHBhbmVsLnNjYWxlID0gMC44NTtcclxuXHJcbiAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgIHRhcmdldHM6IHBhbmVsLFxyXG4gICAgc2NhbGU6IDEsXHJcbiAgICBkdXJhdGlvbjogMjIwLFxyXG4gICAgZWFzZTogJ0JhY2suT3V0J1xyXG4gIH0pO1xyXG5cclxuICAvLyBJTVBPUlRBTlRFOiBlbCBwYW5lbCBOTyBkZWJlIHNlciBpbnRlcmFjdGl2b1xyXG4gIHBhbmVsLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAvLyBXaW5uZXIgdGV4dFxyXG4gIGxldCB3aW5uZXJUZXh0ID0gJ0VtcGF0ZSc7XHJcbiAgaWYgKHRoaXMucHVudG9zUGxheWVyMSA+IHRoaXMucHVudG9zUGxheWVyMikgd2lubmVyVGV4dCA9ICfwn4+GICAgR2FuYSBKdWdhZG9yIDEgKFBvbSknO1xyXG4gIGVsc2UgaWYgKHRoaXMucHVudG9zUGxheWVyMiA+IHRoaXMucHVudG9zUGxheWVyMSkgd2lubmVyVGV4dCA9ICfwn4+GICAgR2FuYSBKdWdhZG9yIDIgKFBpbiknO1xyXG5cclxuICB0aGlzLmFkZC50ZXh0KGN4LCBjeSAtIDEzMCwgd2lubmVyVGV4dCwge1xyXG4gICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyNTApO1xyXG5cclxuICB0aGlzLmFkZC5yZWN0YW5nbGUoY3gsIGN5IC0gOTAsIDQyMCwgMywgMHgxZjZmZWIpXHJcbiAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgIC5zZXREZXB0aCgyNTApO1xyXG5cclxuICAvLyBTdGF0c1xyXG4gIHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMjAsIGBQMSAoUG9tKTogJHt0aGlzLnB1bnRvc1BsYXllcjF9YCwge1xyXG4gICAgZm9udFNpemU6ICcyNnB4JyxcclxuICAgIGNvbG9yOiAnIzZjOGJmZicsXHJcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMjUwKTtcclxuXHJcbiAgdGhpcy5hZGQudGV4dChjeCwgY3kgKyAyMCwgYFAyIChQaW4pOiAke3RoaXMucHVudG9zUGxheWVyMn1gLCB7XHJcbiAgICBmb250U2l6ZTogJzI2cHgnLFxyXG4gICAgY29sb3I6ICcjZmY2YjZiJyxcclxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyNTApO1xyXG5cclxuICAvLyBVcGRhdGUgdXNlciBtYXhTY29yZSBpZiBsb2dnZWQgaW5cclxuICB0aGlzLnVwZGF0ZVVzZXJTY29yZSgpO1xyXG5cclxuICBjb25zdCBidG5XID0gMjQwO1xyXG4gIGNvbnN0IGJ0bkggPSA2MjtcclxuXHJcbiAgY29uc3QgY3JlYXRlQnRuID0gKHgsIHksIHRleHQsIGJhc2VDb2xvciwgaG92ZXJDb2xvciwgY2FsbGJhY2spID0+IHtcclxuICAgIC8vIGZvbmRvIHZpc2libGVcclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIGJ0blcsIGJ0bkgsIGJhc2VDb2xvcilcclxuICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgIC5zZXRTdHJva2VTdHlsZSgyLCAweDBhMjc0MClcclxuICAgICAgLnNldERlcHRoKDMwNSk7XHJcblxyXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmFkZC50ZXh0KDAsIDAsIHRleHQsIHtcclxuICAgICAgZm9udFNpemU6ICcyMnB4JyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMTMxZCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDMwNik7XHJcblxyXG4gICAgLy8gWm9uYSBpbnRlcmFjdGl2YSB0cmFuc3BhcmVudGUgRVhBQ1RBTUVOVEUgZGVsIG1pc21vIHRhbWHDsW8gcXVlIGVsIGJnXHJcbiAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgYnRuVywgYnRuSCwgMHgwMDAwMDAsIDApXHJcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAuc2V0RGVwdGgoMzA3KVxyXG4gICAgICAuc2V0SW50ZXJhY3RpdmUobmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZSgtYnRuVy8yLCAtYnRuSC8yLCBidG5XLCBidG5IKSwgUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKTtcclxuXHJcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSwgW2JnLCBsYWJlbCwgaGl0XSk7XHJcbiAgICBjb250YWluZXIuc2V0U2l6ZShidG5XLCBidG5IKTtcclxuICAgIGNvbnRhaW5lci5zZXRJbnRlcmFjdGl2ZSgpO1xyXG4gICAgY29udGFpbmVyLnNldERlcHRoKDMwMCk7XHJcblxyXG4gICAgLy8gSG92ZXIgdXNhbmRvIGVsIGhpdGJveCAoY29pbmNpZGUgc2llbXByZSBjb24gbGEgYXBhcmllbmNpYSlcclxuICAgIGhpdC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgYmcuc2V0RmlsbFN0eWxlKGhvdmVyQ29sb3IpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKCcjZmZmZmZmJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmtpbGxUd2VlbnNPZihiZyk7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgIHRhcmdldHM6IGJnLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLjA2LFxyXG4gICAgICAgICAgc2NhbGVZOiAxLjA2LFxyXG4gICAgICAgICAgZHVyYXRpb246IDEyMCxcclxuICAgICAgICAgIGVhc2U6ICdQb3dlcjInXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGhpdC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICBiZy5zZXRGaWxsU3R5bGUoYmFzZUNvbG9yKTtcclxuICAgICAgICBsYWJlbC5zZXRDb2xvcignIzAwMTMxZCcpO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5raWxsVHdlZW5zT2YoYmcpO1xyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICB0YXJnZXRzOiBiZyxcclxuICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICAgIGR1cmF0aW9uOiAxMjAsXHJcbiAgICAgICAgICBlYXNlOiAnUG93ZXIyJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBoaXQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNvdW5kLmdldCgnQm90b24nKSkgdGhpcy5zb3VuZC5wbGF5KCdCb3RvbicsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGJ0blkgPSBjeSArIDEyMDtcclxuXHJcbiAgY3JlYXRlQnRuKFxyXG4gICAgY3ggLSAxNTAsIFxyXG4gICAgYnRuWSxcclxuICAgIFwiUmVwZXRpclwiLFxyXG4gICAgMHg4OGUxZmYsICAgIC8vIGJhc2VcclxuICAgIDB4NGZiMGZmLCAgICAvLyBob3ZlclxyXG4gICAgKCkgPT4gdGhpcy5zY2VuZS5yZXN0YXJ0KCksXHJcbiAgICBcclxuICApO1xyXG5cclxuICBjcmVhdGVCdG4oXHJcbiAgICBjeCArIDE1MCxcclxuICAgIGJ0blksXHJcbiAgICBcIk1lbsO6IFByaW5jaXBhbFwiLFxyXG4gICAgMHhmZmRiYTgsICAgLy8gYmFzZVxyXG4gICAgMHhmZmI1N2EsICAgLy8gaG92ZXJcclxuICAgICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpXHJcbiAgKTtcclxufVxyXG5cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIFJlc3VtZSBoYW5kbGVyIFxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBvblJlc3VtZSgpIHtcclxuICAgIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgLy8gcmVhY3RpdmFyIGlucHV0IHBvaW50ZXJcclxuICAgIHRoaXMuaW5wdXQub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXIpID0+IHRoaXMuaGFuZGxlUG9pbnRlckRvd24ocG9pbnRlcikpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIFVwZGF0ZSB1c2VyIHNjb3JlXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGFzeW5jIHVwZGF0ZVVzZXJTY29yZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF5ZXJVc2VyJyk7XHJcbiAgICAgIGlmICghcmF3KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKHJhdyk7XHJcbiAgICAgIGNvbnN0IG5ld1Njb3JlID0gTWF0aC5tYXgodXNlci5tYXhTY29yZSB8fCAwLCB0aGlzLnB1bnRvc1BsYXllcjEpOyAvLyBVc2UgUDEgc2NvcmUgYXMgaXQncyB0aGUgcGxheWVyXHJcbiAgICAgIGlmIChuZXdTY29yZSA+IHVzZXIubWF4U2NvcmUpIHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXJzLyR7dXNlci5pZH1gLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IC4uLnVzZXIsIG1heFNjb3JlOiBuZXdTY29yZSB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGxheWVyVXNlcicsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRVc2VyKSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnTWF4U2NvcmUgdXBkYXRlZCB0bzonLCBuZXdTY29yZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIHNjb3JlOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKGRhdGEgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuICAgICAgICBjb25zdCBjeCA9IHcgLyAyO1xyXG4gICAgICAgIGNvbnN0IGN5ID0gaCAvIDI7XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZXZDdXJzb3IgPSAodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5jYW52YXMgJiYgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZSkgPyB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA6ICcnO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb3V0ZXJCbG9ja2VyID0gdGhpcy5hZGQucmVjdGFuZ2xlKGN4LCBjeSwgdywgaCwgMHgwMDAwMDAsIDAuNikuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgb3V0ZXJCbG9ja2VyLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgb3V0ZXJCbG9ja2VyLnNldERlcHRoKDApO1xyXG5cclxuICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3ksIDU0MCwgNDYwLCAweDExMTIxYSkuc2V0U3Ryb2tlU3R5bGUoMywgMHgwMGNjNjYpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHBhbmVsLnNldERlcHRoKDEpO1xyXG5cclxuICAgICAgICBwYW5lbC5zY2FsZSA9IDAuOTtcclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBwYW5lbCwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxODAsIGVhc2U6ICdCYWNrLk91dCcgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMTgwLCAnUEFVU0FETycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwY2M2NicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKGN4LCBjeSAtIDE0MCwgMzQwLCAzLCAweDAwY2M2Nikuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMik7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKGN4LCBjeSAtIDQwLCAnUkVBTlVEQVInLCAweDAwY2M2NiwgMHg2NmZmYjIpO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihjeCwgY3kgKyA0MCwgJ01FTsOaIFBSSU5DSVBBTCcsIDB4ZmY2YjZiLCAweGZmOWE5YSk7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3NCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihjeCwgY3kgKyAxMjAsICdBSlVTVEVTJywgMHhmZmZmZmYsIDB4Y2NjY2NjKTtcclxuXHJcbiAgICAgICAgcmVzdW1lQnRuLnNldERlcHRoKDEwKTtcclxuICAgICAgICBtZW51QnRuLnNldERlcHRoKDEwKTtcclxuICAgICAgICBzZXR0aW5nc0J0bi5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgcmVzdW1lQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuY2FudmFzICYmIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gdGhpcy5fcHJldkN1cnNvciB8fCAnYXV0byc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLm9yaWdpbmFsU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEub3JpZ2luYWxTY2VuZSkgdGhpcy5zY2VuZS5zdG9wKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgLy8gSW5kaWNhciBxdWUgdmVuaW1vcyBkZWwgbWVuw7ogZGUgcGF1c2EgeSBwYXNhciBsYSBlc2NlbmEgb3JpZ2luYWwgcGFyYSBwb2RlciByZWFudWRhcmxhIGFsIHZvbHZlclxyXG4gICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2V0dGluZ3NTY2VuZScsIHsgZnJvbTogJ3BhdXNlJywgb3JpZ2luYWxTY2VuZTogZGF0YS5vcmlnaW5hbFNjZW5lIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9lc2NIYW5kbGVyID0gKCkgPT4gcmVzdW1lQnRuLmVtaXQoJ3BvaW50ZXJkb3duJyk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1FU0MnLCB0aGlzLl9lc2NIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9IHRoaXMuX3ByZXZDdXJzb3IgfHwgJ2F1dG8nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lc2NIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9mZigna2V5ZG93bi1FU0MnLCB0aGlzLl9lc2NIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VzY0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQnV0dG9uKHgsIHksIHRleHQsIG5vcm1hbEhleCwgaG92ZXJIZXgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gMzYwO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gNjQ7XHJcbiAgICBjb25zdCBub3JtYWxDb2xvciA9IGAjJHtub3JtYWxIZXgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyl9YDtcclxuICAgIGNvbnN0IGhvdmVyQ29sb3IgPSBgIyR7aG92ZXJIZXgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyl9YDtcclxuXHJcbiAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDFmMjM0MClcclxuICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoMiwgbm9ybWFsSGV4KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgdGV4dCwge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgY29sb3I6IG5vcm1hbENvbG9yLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5LCBbYmcsIGxhYmVsXSk7XHJcblxyXG4gICAgLy8gRXN0YWJsZWNlIGVsIHRhbWHDsW8gZGVsIGJvdMOzblxyXG4gICAgYnRuLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgLy8gSElUQk9YIFBFUkZFQ1RPIHNpbiBvZmZzZXRzIHJhcm9zXHJcbiAgICBidG4uc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MmYzNDU4KTtcclxuICAgICAgICBiZy5zZXRTdHJva2VTdHlsZSgzLCBob3ZlckhleCk7XHJcbiAgICAgICAgbGFiZWwuc2V0Q29sb3IoaG92ZXJDb2xvcik7XHJcbiAgICAgICAgbGFiZWwuc2V0U2NhbGUoMS4wNSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MWYyMzQwKTtcclxuICAgICAgICBiZy5zZXRTdHJva2VTdHlsZSgyLCBub3JtYWxIZXgpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKG5vcm1hbENvbG9yKTtcclxuICAgICAgICBsYWJlbC5zZXRTY2FsZSgxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogYnRuLCBzY2FsZVg6IDAuOTgsIHNjYWxlWTogMC45OCwgZHVyYXRpb246IDgwLCB5b3lvOiB0cnVlIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGJ0bjtcclxufVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG4gICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zJywgJ2Fzc2V0cy9mb25kb0NyZWRpdG9zLnBuZycpOyAvLyBmb25kbyh0aXR1bG8pIFxyXG4gICAgICAgIC8vIFNPTE8gU09OSURPUyAob3BjaW9uYWwpXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNdXNpY2FfbWVudScsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9JdHMgU2FmZSBOb3cubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdCb3RvbicsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9Cb3Rvbi5tcDMnKTsgIFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnQ3JlZGl0b3MnKS5zZXRPcmlnaW4oMCwgMCk7ICAvL2ZvbmRvKHRpdHVsbylcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZSh0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCk7XHJcblxyXG5cclxuICAgICAgICAvLyBTT05JRE9TXHJcbiAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ011c2ljYV9tZW51JykucGxheSh7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG5cclxuICAgICAgICAvLyBUw41UVUxPXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDUwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRFWFRPIERFIENSw4lESVRPU1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNUZXh0ID0gYFxyXG5EZXNhcnJvbGxhZG9yZXM6XHJcbi0gQ3Jpc3RpYW4gQm9hYmVzXHJcbi0gTmFzcmVkZGluIEVsIEtoaXlhdCBJbXVzYXRpblxyXG4tIEphaW1lIEFsb25zbyBkZWwgUmVhbFxyXG4tIERhdmlkIE1hcnTDrW5leiBHYXJjw61hXHJcbkFydGU6IFxyXG4tIERhdmlkIE1hcnTDrW5leiBHYXJjw61hXHJcblNvbmlkb3MgeSBNw7pzaWNhOiBcclxuLSBKYWltZSBBbG9uc28gZGVsIFJlYWxcclxuVGVzdGVvOiBcclxuLSBDcmlzdGlhbiBCb2FiZXNcclxuLSBOYXNyZWRkaW4gRWwgS2hpeWF0IEltdXNhdGluXHJcblxyXG5cclxuR3JhY2lhcyBwb3IganVnYXJcclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWRpdHMgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMjgwLCBjcmVkaXRzVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA3MDAgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBUd2VlbjogcGVxdWXDsW8gbW92aW1pZW50byBkZSAnZmxvdGFjacOzbicgKGJvYmJpbmcpXHJcbiAgICAgICAgLy8gbXVldmUgbG9zIGNyw6lkaXRvcyB1bm9zIHBvY29zIHDDrXhlbGVzIGFycmliYS9hYmFqbyBlbiBidWNsZVxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY3JlZGl0cyxcclxuICAgICAgICAgICAgeTogdGhpcy5jcmVkaXRzLnkgLSAxNSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCcsXHJcbiAgICAgICAgICAgIHlveW86IHRydWUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTEsXHJcbiAgICAgICAgICAgIC8vIGxpZ2VyYSB2YXJpYWNpw7NuIGRlIGluaWNpbyBwYXJhIG5vIHNpbmNyb25pemFyIGV4YWN0YW1lbnRlIHNpIGhheSBvdHJvcyBvYmpldG9zXHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJPVMOTTiBQQVJBIFZPTFZFUlxyXG4gICAgICAgIHRoaXMubG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTAwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNlMThmYTFmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLmxvY2FsQnRuLnNldENvbG9yKCcjZmZmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB0aGlzLmxvY2FsQnRuLnNldENvbG9yKCcjZTE4ZmExZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnQm90b24nKS5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vIEVsIG1vdmltaWVudG8gZGUgbG9zIGNyw6lkaXRvcyBsbyBnZXN0aW9uYSBlbCB0d2VlbiBjcmVhZG8gZW4gY3JlYXRlKClcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignU2V0dGluZ3NTY2VuZScpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKGRhdGEgPSB7fSkge1xyXG4gICAgY29uc3QgY3ggPSB0aGlzLnNjYWxlLndpZHRoIC8gMjtcclxuICAgIGNvbnN0IGN5ID0gdGhpcy5zY2FsZS5oZWlnaHQgLyAyO1xyXG5cclxuICAgIC8vIERlIGTDs25kZSBzZSBhYnJpw7MgZXN0ZSBtZW7DuiAoXCJtZW51XCIgcG9yIGRlZmVjdG8pLiBTaSB2aWVuZSBkZXNkZSBwYXVzYSwgZ3VhcmRhbW9zIGxhIGVzY2VuYSBvcmlnaW5hbCB0YW1iacOpbi5cclxuICAgIHRoaXMuX3JldHVyblRvID0gZGF0YS5mcm9tIHx8ICdtZW51JztcclxuICAgIHRoaXMuX29yaWdpbmFsU2NlbmUgPSBkYXRhLm9yaWdpbmFsU2NlbmUgfHwgbnVsbDtcclxuXHJcbiAgICAvLyBGb25kbyBvc2N1cm9cclxuICAgIHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3ksIHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0LCAweDAwMDAwMCwgMC42KTtcclxuXHJcbiAgICAvLyBQYW5lbCAocm91bmRlZCB3aXRoIHNoYWRvdyArIGdyYWRpZW50KVxyXG4gICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWluKDUyMCwgdGhpcy5zY2FsZS53aWR0aCAtIDgwKTtcclxuICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gNDIwO1xyXG4gICAgY29uc3QgcGFuZWxYID0gY3ggLSBwYW5lbFdpZHRoIC8gMjtcclxuICAgIGNvbnN0IHBhbmVsWSA9IGN5IC0gcGFuZWxIZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgcGFuZWxSYWRpdXMgPSAxNjtcclxuXHJcbiAgICBjb25zdCBwYW5lbEJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcclxuICAgIC8vIHNoYWRvd1xyXG4gICAgcGFuZWxCZy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMzYpO1xyXG4gICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QocGFuZWxYICsgNiwgcGFuZWxZICsgOCwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIHBhbmVsUmFkaXVzKTtcclxuICAgIC8vIG1haW4gZ3JhZGllbnQgKHRvcC0+Ym90dG9tKVxyXG4gICAgcGFuZWxCZy5maWxsR3JhZGllbnRTdHlsZSgweDBiMTIyMCwgMHgwYjEyMjAsIDB4MGYyNDM4LCAweDBmMjQzOCwgMSk7XHJcbiAgICBwYW5lbEJnLmZpbGxSb3VuZGVkUmVjdChwYW5lbFgsIHBhbmVsWSwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIHBhbmVsUmFkaXVzKTtcclxuICAgIC8vIHN0cm9rZVxyXG4gICAgcGFuZWxCZy5saW5lU3R5bGUoMiwgMHgxZjZmZWIsIDAuOSk7XHJcbiAgICBwYW5lbEJnLnN0cm9rZVJvdW5kZWRSZWN0KHBhbmVsWCwgcGFuZWxZLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgcGFuZWxSYWRpdXMpO1xyXG5cclxuICAgIHBhbmVsQmcuYWxwaGEgPSAwO1xyXG4gICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogcGFuZWxCZywgYWxwaGE6IDEsIGR1cmF0aW9uOiA1MDAsIGVhc2U6ICdDdWJpYy5PdXQnIH0pO1xyXG5cclxuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dChjeCwgY3kgLSAxNzUsICdBSlVTVEVTJywge1xyXG4gICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6ICcjZGZmNGZmJyxcclxuICAgICAgbGV0dGVyU3BhY2luZzogMyxcclxuICAgICAgYWxpZ246ICdjZW50ZXInXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIHRpdGxlLnNldFN0cm9rZSgnIzdmZDBmZicsIDQpO1xyXG4gICAgdGl0bGUuc2V0U2hhZG93KDIsIDIsICcjMDAwMDAwJywgNiwgZmFsc2UsIHRydWUpO1xyXG4gICAgdGl0bGUuc2V0U2NhbGUoMC45NSk7XHJcbiAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiB0aXRsZSwgc2NhbGU6IDEsIGR1cmF0aW9uOiA0MjAsIGVhc2U6ICdCYWNrLk91dCcgfSk7XHJcblxyXG5cclxuICAgIC8vIC0tLSBWT0xVTUVOIC0tLVxyXG4gICAgdGhpcy5hZGQudGV4dChjeCAtIDE4MCwgY3kgLSA5MCwgJ1ZvbHVtZW4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgIGNvbG9yOiAnI2RmZjRmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZVZvbHVtZVNsaWRlcihjeCAtIDEyMCwgY3kgLSA1MCwgMjYwKTsgLy8gQ29udHJvbHMgbXVzaWMgdm9sdW1lIHdoZW4gcG9zc2libGUgKGFmZmVjdHMgbWVudS9nYW1lIG11c2ljIGluc3RhbmNlcylcclxuXHJcbiAgICAvLyAtLS0gQ09OVFJPTEVTIC0tLVxyXG4gICAgdGhpcy5hZGQudGV4dChjeCwgY3kgKyAyMCxcclxuICAgICAgJ0NPTlRST0xFU1xcblxcbicgK1xyXG4gICAgICAn8J+WsSBDbGljayBpenF1aWVyZG86IEdvbHBlYXJcXG4nICtcclxuICAgICAgJ/CflrEgQ2xpY2sgZGVyZWNobzogUG93ZXJ1cCBQMVxcbicgK1xyXG4gICAgICAn4pCjIEVzcGFjaW86IFBvd2VydXAgUDJcXG4nICtcclxuICAgICAgJzEtNjogTW92ZXIgdG9wb1xcbicgK1xyXG4gICAgICAnRVNDOiBQYXVzYScsXHJcbiAgICAgIHtcclxuICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgIGNvbG9yOiAnI2NmZTdmZicsXHJcbiAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgIGxpbmVTcGFjaW5nOiA2XHJcbiAgICAgIH1cclxuICAgICkuc2V0T3JpZ2luKDAuNSwgMCk7XHJcblxyXG5cclxuXHJcbiAgICAvLyBCT1TDk04gUEFSQSBWT0xWRVIgKGVzdGlsbyB0ZXh0byBzb2xpY2l0YWRvKVxyXG4gICAgY29uc3QgYmFja0xhYmVsID0gdGhpcy5fcmV0dXJuVG8gPT09ICdwYXVzZScgPyAnVm9sdmVyIGEgUGF1c2EnIDogJ1ZvbHZlcic7XHJcbiAgICB0aGlzLmxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgYmFja0xhYmVsLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2UxOGZhMWZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHRoaXMubG9jYWxCdG4uc2V0Q29sb3IoJyNmZmZmZmZmZicpKVxyXG4gICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB0aGlzLmxvY2FsQnRuLnNldENvbG9yKCcjZTE4ZmExZmYnKSlcclxuICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAvLyBwZXF1ZcOxYSBhbmltYWNpw7NuIGRlIGZhZGUtb3V0IGFudGVzIGRlIGNhbWJpYXIgZGUgZXNjZW5hXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmFkZU91dCgxODAsIDEwLCAxMCwgMTApO1xyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAsICgpID0+IHtcclxuICAgICAgICAgIGlmICh0aGlzLl9yZXR1cm5UbyA9PT0gJ3BhdXNlJykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLl9vcmlnaW5hbFNjZW5lIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gU2xpZGVyIGRlIHZvbHVtZW4gXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgY3JlYXRlVm9sdW1lU2xpZGVyKHgsIHksIHdpZHRoKSB7XHJcbiAgICBjb25zdCBiYXJIZWlnaHQgPSA4O1xyXG4gICAgY29uc3QgYmdCYXIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoeCArIHdpZHRoIC8gMiwgeSwgd2lkdGgsIGJhckhlaWdodCwgMHgyNTM1NGYpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFByZWZlciBtdXNpYyBpbnN0YW5jZSB2b2x1bWUgaWYgYXZhaWxhYmxlIChtZW51IG9yIGxldmVsKSwgZWxzZSBmYWxsYmFjayB0byBnbG9iYWxcclxuICAgIC8vIEB0cy1pZ25vcmUgLSBwcm9wZXJ0aWVzIG1heSBiZSBhdHRhY2hlZCB0byB0aGUgZ2FtZSBpbnN0YW5jZSBhdCBydW50aW1lXHJcbiAgICBjb25zdCB7IG11c2ljYU1lbnUsIG11c2ljYU5pdmVsIH0gPSAodGhpcy5nYW1lIHx8IHt9KTtcclxuICAgIGNvbnN0IG11c2ljSW5zdGFuY2VzID0gW211c2ljYU1lbnUsIG11c2ljYU5pdmVsXS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgICBjb25zdCBpbml0aWFsVm9sID0gUGhhc2VyLk1hdGguQ2xhbXAoKG11c2ljSW5zdGFuY2VzWzBdICYmIG11c2ljSW5zdGFuY2VzWzBdLnZvbHVtZSkgPz8gdGhpcy5zb3VuZC52b2x1bWUgPz8gMSwgMCwgMSk7XHJcblxyXG4gICAgY29uc3QgZmlsbEJhciA9IHRoaXMuYWRkLnJlY3RhbmdsZSh4LCB5LCB3aWR0aCAqIGluaXRpYWxWb2wsIGJhckhlaWdodCwgMHg0ZmIwZmYpLnNldE9yaWdpbigwLCAwLjUpO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZSA9IHRoaXMuYWRkLmNpcmNsZSh4ICsgd2lkdGggKiBpbml0aWFsVm9sLCB5LCAxMiwgMHhmZmZmZmYpXHJcbiAgICAgIC5zZXRTdHJva2VTdHlsZSgzLCAweDI1MzU0ZilcclxuICAgICAgLnNldEludGVyYWN0aXZlKHsgZHJhZ2dhYmxlOiB0cnVlIH0pO1xyXG5cclxuICAgIGNvbnN0IHBlcmNlbnRUZXh0ID0gdGhpcy5hZGQudGV4dCh4ICsgd2lkdGggKyAxNCwgeSwgTWF0aC5yb3VuZChpbml0aWFsVm9sICogMTAwKSArICclJywge1xyXG4gICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICBjb2xvcjogJyNkZmY0ZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICB0aGlzLmlucHV0LnNldERyYWdnYWJsZShoYW5kbGUpO1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZVZvbHVtZSA9ICh2b2x1bWUpID0+IHtcclxuICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSB2b2x1bWU7XHJcbiAgICAgIC8vIEFwcGx5IHRvIGtub3duIG11c2ljIGluc3RhbmNlcyBzbyB0aGUgbWVudS9tdXNpYyB2b2x1bWUgdXBkYXRlcyBpbiByZWFsIHRpbWVcclxuICAgICAgbXVzaWNJbnN0YW5jZXMuZm9yRWFjaChtID0+IHtcclxuICAgICAgICBpZiAobSAmJiB0eXBlb2YgbS5zZXRWb2x1bWUgPT09ICdmdW5jdGlvbicpIG0uc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBBbHNvIHVwZGF0ZSBhbnkgbXVzaWMgY3VycmVudGx5IHN0b3JlZCBvbiBnYW1lIG9iamVjdCBkeW5hbWljYWxseVxyXG4gICAgICBpZiAobXVzaWNhTWVudSAmJiB0eXBlb2YgbXVzaWNhTWVudS5zZXRWb2x1bWUgPT09ICdmdW5jdGlvbicpIG11c2ljYU1lbnUuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICAgIGlmIChtdXNpY2FOaXZlbCAmJiB0eXBlb2YgbXVzaWNhTml2ZWwuc2V0Vm9sdW1lID09PSAnZnVuY3Rpb24nKSBtdXNpY2FOaXZlbC5zZXRWb2x1bWUodm9sdW1lKTtcclxuICAgICAgZmlsbEJhci53aWR0aCA9IHdpZHRoICogdm9sdW1lO1xyXG4gICAgICBwZXJjZW50VGV4dC5zZXRUZXh0KE1hdGgucm91bmQodm9sdW1lICogMTAwKSArICclJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW5wdXQub24oJ2RyYWcnLCAocG9pbnRlciwgb2JqLCBkcmFnWCkgPT4ge1xyXG4gICAgICBpZiAob2JqICE9PSBoYW5kbGUpIHJldHVybjtcclxuICAgICAgZHJhZ1ggPSBQaGFzZXIuTWF0aC5DbGFtcChkcmFnWCwgeCwgeCArIHdpZHRoKTtcclxuICAgICAgb2JqLnggPSBkcmFnWDtcclxuICAgICAgY29uc3Qgdm9sdW1lID0gKGRyYWdYIC0geCkgLyB3aWR0aDtcclxuICAgICAgdXBkYXRlVm9sdW1lKHZvbHVtZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBbGxvdyBjbGlja2luZyBvbiBiZ0JhciB0byBzZXQgdm9sdW1lIHF1aWNrbHlcclxuICAgIGJnQmFyLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgIGJnQmFyLm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxvY2FsWCA9IFBoYXNlci5NYXRoLkNsYW1wKHBvaW50ZXIud29ybGRYIC0gKHgpLCAwLCB3aWR0aCk7XHJcbiAgICAgIGNvbnN0IHZvbCA9IGxvY2FsWCAvIHdpZHRoO1xyXG4gICAgICBoYW5kbGUueCA9IHggKyBsb2NhbFg7XHJcbiAgICAgIHVwZGF0ZVZvbHVtZSh2b2wpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaGFuZGxlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGhhbmRsZSwgc2NhbGU6IDEuMDgsIGR1cmF0aW9uOiAxMjAgfSkpO1xyXG4gICAgaGFuZGxlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogaGFuZGxlLCBzY2FsZTogMSwgZHVyYXRpb246IDEyMCB9KSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBCb3TDs24gc2ltcGxlIHJldXRpbGl6YWJsZSAoY29uZmlndXJhYmxlIHkgYW5pbWFkbylcclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBjcmVhdGVCdXR0b24oeCwgeSwgdGV4dCwgY2FsbGJhY2ssIG9wdHMgPSB7fSkge1xyXG4gICAgY29uc3Qgd2lkdGggPSBvcHRzLndpZHRoIHx8IDIwMDtcclxuICAgIGNvbnN0IGhlaWdodCA9IG9wdHMuaGVpZ2h0IHx8IDUwO1xyXG4gICAgY29uc3QgYmdDb2xvciA9IG9wdHMuYmdDb2xvciB8fCAweDg4ZTFmZjtcclxuICAgIGNvbnN0IHRleHRDb2xvciA9IG9wdHMudGV4dENvbG9yIHx8ICcjMDAxMzFkJztcclxuXHJcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSk7XHJcblxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgYmdDb2xvcilcclxuICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgYmcuc2V0U3Ryb2tlU3R5bGUoMiwgMHhmZmZmZmYsIDAuMDgpO1xyXG5cclxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5hZGQudGV4dCgwLCAwLCB0ZXh0LCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBjb2xvcjogdGV4dENvbG9yXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBjb250YWluZXIuYWRkKFtiZywgbGFiZWxdKTtcclxuXHJcbiAgICBiZy5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDQsIGR1cmF0aW9uOiAxNDAsIGVhc2U6ICdQb3dlcjInIH0pO1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBiZywgYWxwaGE6IDAuOTUsIGR1cmF0aW9uOiAxNDAgfSk7XHJcbiAgICB9KTtcclxuICAgIGJnLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLCBkdXJhdGlvbjogMTIwLCBlYXNlOiAnUG93ZXIyJyB9KTtcclxuICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogYmcsIGFscGhhOiAxLCBkdXJhdGlvbjogMTIwIH0pO1xyXG4gICAgfSk7XHJcbiAgICBiZy5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDAuOTYsIGR1cmF0aW9uOiA4MCwgeW95bzogdHJ1ZSB9KTtcclxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBsYXMgZXNjZW5hcyBxdWUgZXN0YWJhbiBhY3RpdmFzIGN1YW5kbyBzZSBwZXJkacOzIGxhIGNvbmV4acOzblxyXG4gICAgICAgIC8vIFB1ZWRlIHZlbmlyIGNvbW8gcHJldmlvdXNTY2VuZXMgKGFycmF5KSBvIHByZXZpb3VzU2NlbmUgKHN0cmluZyBwb3IgY29tcGF0aWJpbGlkYWQpXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lcyA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEucHJldmlvdXNTY2VuZXMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNTY2VuZXMgPSBkYXRhLnByZXZpb3VzU2NlbmVzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wcmV2aW91c1NjZW5lKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNTY2VuZXMgPSBbZGF0YS5wcmV2aW91c1NjZW5lXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMzAwLCAxMDAwLCA2MDAsIDB4MDAwMDAwLCAwLjgpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDIwMCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDMwMCwgJ0ludGVudGFuZG8gcmVjb25lY3Rhci4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDM1MCwgJ0ludGVudG9zOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFBhdXNhciB0b2RvcyBsb3Mgc29uaWRvcyBwYXJhIGluZGljYXIgcXVlIHRvZG8gc2UgZGV0dXZvXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wYXVzZUFsbCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ29ubmVjdGlvbkxvc3RTY2VuZV0gTm8gc2UgcHVkbyBwYXVzYXIgYXVkaW86JywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIEludGVudGFyIHJlY29uZWN0YXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuXHJcbiAgICAgICAgLy8gUHJpbWVyIGludGVudG8gaW5tZWRpYXRvXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXR0ZW1wdFJlY29ubmVjdCgpIHtcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQuc2V0VGV4dChgSW50ZW50b3M6ICR7dGhpcy5hdHRlbXB0Q291bnR9YCk7XHJcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbk1hbmFnZXIuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZWNvbm5lY3RlZCgpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGludGVydmFsXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmVyIGxpc3RlbmVyXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBSZXN0YXVyYXIgYXVkaW9cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnJlc3VtZUFsbCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ29ubmVjdGlvbkxvc3RTY2VuZV0gTm8gc2UgcHVkbyByZWFudWRhciBhdWRpbzonLCBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGFzIGVzY2VuYXMgYW50ZXJpb3Jlc1xyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcmV2aW91c1NjZW5lcykgJiYgdGhpcy5wcmV2aW91c1NjZW5lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmVzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICYmIHRoaXMuc2NlbmUuZ2V0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0Nvbm5lY3Rpb25Mb3N0U2NlbmVdIE5vIHNlIHB1ZG8gcmVhbnVkYXIgZXNjZW5hICR7a2V5fTpgLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVhbnVkYXIgZXNjZW5hcyB5IGF1ZGlvIHBvciBzZWd1cmlkYWQgKHNpIG5vIHNlIHJlYW51ZGFyb24gZW4gb25SZWNvbm5lY3RlZClcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByZXZpb3VzU2NlbmVzKSAmJiB0aGlzLnByZXZpb3VzU2NlbmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNTY2VuZXMuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgdGhpcy5zY2VuZS5nZXQoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbQ29ubmVjdGlvbkxvc3RTY2VuZV0gTm8gc2UgcHVkbyByZWFudWRhciBlc2NlbmEgJHtrZXl9IGVuIHNodXRkb3duOmAsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucmVzdW1lQWxsKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBObyBoYWNlbW9zIG5hZGEgY3LDrXRpY28gc2kgZmFsbGFcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIExvYmJ5IFNjZW5lIC0gV2FpdGluZyBmb3IgbXVsdGlwbGF5ZXIgbWF0Y2htYWtpbmdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYmJ5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdMb2JieVNjZW5lJyB9KTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCwgJ011bHRpanVnYWRvciBFbiBsw61uZWEnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFN0YXR1cyB0ZXh0XHJcbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDUwLCAnQ29uZWN0YW5kbyBhbCBzZXJ2aWRvci4uLicsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gUGxheWVyIGNvdW50IHRleHRcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcclxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgY29sb3I6ICcjMDBmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gQ2FuY2VsIGJ1dHRvblxyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAtIDEwMCwgJ0NhbmNlbGFyJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZjY2NjYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzMzMzJyxcclxuICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmY2NjY2Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YDtcclxuXHJcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdXYWl0aW5nIGZvciBvcHBvbmVudC4uLicpO1xyXG5cclxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlLCBpbmNsdWRlIGxvZ2dlZCB1c2VyIGluZm8gaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgbGV0IHBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF5ZXJVc2VyJyk7XHJcbiAgICAgICAgICBpZiAocmF3KSBwbGF5ZXIgPSBKU09OLnBhcnNlKHJhdyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdMb2JieVNjZW5lOiBlcnJvciBwYXJzaW5nIHN0b3JlZCBwbGF5ZXInLCBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnLCBwbGF5ZXIgfSkpO1xyXG5cclxuICAgICAgICAvLyBEaXNwbGF5IHBsYXllciBuYW1lIGlmIGtub3duXHJcbiAgICAgICAgaWYgKHBsYXllciAmJiBwbGF5ZXIubmFtZSkge1xyXG4gICAgICAgICAgdGhpcy5hZGQudGV4dCh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDIwLCAyMCwgYEp1Z2Fkb3I6ICR7cGxheWVyLm5hbWV9YCwgeyBmb250U2l6ZTogJzE2cHgnLCBjb2xvcjogJyNmZmZmZmYnIH0pLnNldE9yaWdpbigxLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBlcnJvciEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuaXNBY3RpdmUoJ0xvYmJ5U2NlbmUnKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gbG9zdCEnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ZhaWxlZCB0byBjb25uZWN0IScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldFRleHQoYFBsYXllcnMgaW4gcXVldWU6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyEnLCBkYXRhKTtcclxuICAgICAgICAvLyBTdG9yZSBnYW1lIGRhdGEgYW5kIHRyYW5zaXRpb24gdG8gbXVsdGlwbGF5ZXIgZ2FtZSBzY2VuZVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ011bHRpcGxheWVyR2FtZVNjZW5lJywge1xyXG4gICAgICAgICAgd3M6IHRoaXMud3MsXHJcbiAgICAgICAgICBwbGF5ZXJSb2xlOiBkYXRhLnJvbGUsXHJcbiAgICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkLFxyXG4gICAgICAgICAgaW5pdGlhbEJhbGw6IGRhdGEuYmFsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxlYXZlUXVldWUoKSB7XHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdsZWF2ZVF1ZXVlJyB9KSk7XHJcbiAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNodXRkb3duKCkge1xyXG4gICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUG9tIH0gZnJvbSAnLi4vZW50aXRpZXMvUG9tJztcclxuaW1wb3J0IHsgUGluIH0gZnJvbSAnLi4vZW50aXRpZXMvUGluJztcclxuXHJcbi8qKlxyXG4gKiBNdWx0aXBsYXllciBHYW1lIFNjZW5lIC0gT25saW5lIHBvbmcgZ2FtZVxyXG4gKiBCYWxsIHBoeXNpY3MgcnVuIG9uIGJvdGggY2xpZW50cyAoZGV0ZXJtaW5pc3RpYylcclxuICogU2VydmVyIG9ubHkgdHJhY2tzIHNjb3JlcyBhbmQgcmVsYXlzIHBhZGRsZSBwb3NpdGlvbnNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsYXllckdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ011bHRpcGxheWVyR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlOyAvLyAncGxheWVyMScgb3IgJ3BsYXllcjInXHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgICAgICB0aGlzLmluaXRpYWxCYWxsID0gZGF0YS5pbml0aWFsQmFsbDtcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubG9jYWxQYWRkbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFkZGxlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucmVtb3RlU2NvcmUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCAzMDAsIDgwMCwgNjAwLCAweDFhMWEyZSk7XHJcblxyXG4gICAgICAgIC8vIENlbnRlciBkaXNjb250aW51ZWQgbGluZVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTI7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCBpICogNTAgKyAyNSwgMTAsIDMwLCAweDQ0NDQ0NCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTY29yZSB0ZXh0c1xyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCgxMDAsIDUwLCAnMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlUmlnaHQgPSB0aGlzLmFkZC50ZXh0KDcwMCwgNTAsICcwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJvbGUgaW5kaWNhdG9yXHJcbiAgICAgICAgY29uc3Qgcm9sZVRleHQgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/ICdZb3UgYXJlIFBsYXllciAxIChMZWZ0KScgOiAnWW91IGFyZSBQbGF5ZXIgMiAoUmlnaHQpJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAsIHJvbGVUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3VuZHMoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJhbGwoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuICAgICAgICAvLyBBZGQgY29sbGlkZXJzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJhbGwsIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmFsbCwgdGhpcy5yZW1vdGVQYWRkbGUuc3ByaXRlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5iYWxsLCB0aGlzLmxlZnRHb2FsLCB0aGlzLnNjb3JlTGVmdEdvYWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmJhbGwsIHRoaXMucmlnaHRHb2FsLCB0aGlzLnNjb3JlUmlnaHRHb2FsLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCAtIGJvdGggcGxheWVycyB1c2UgYXJyb3cga2V5c1xyXG4gICAgICAgIHRoaXMuY3Vyc29ycyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpO1xyXG5cclxuICAgICAgICAvLyBMYXVuY2ggYmFsbCB3aXRoIHNlcnZlci1wcm92aWRlZCBpbml0aWFsIHN0YXRlXHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KHRoaXMuaW5pdGlhbEJhbGwudngsIHRoaXMuaW5pdGlhbEJhbGwudnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICAvLyBDcmVhdGUgcGFkZGxlcyBiYXNlZCBvbiBwbGF5ZXIgcm9sZVxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFkZGxlID0gbmV3IFBhZGRsZSh0aGlzLCAncGxheWVyMScsIDUwLCAzMDApO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZSA9IG5ldyBQYWRkbGUodGhpcywgJ3BsYXllcjInLCA3NTAsIDMwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBhZGRsZSA9IG5ldyBQYWRkbGUodGhpcywgJ3BsYXllcjInLCA3NTAsIDMwMCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGFkZGxlID0gbmV3IFBhZGRsZSh0aGlzLCAncGxheWVyMScsIDUwLCAzMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGFkZGxlVXBkYXRlJzpcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBvcHBvbmVudCdzIHBhZGRsZSBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWRkbGUuc3ByaXRlLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3Njb3JlVXBkYXRlJzpcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzY29yZXMgZnJvbSBzZXJ2ZXJcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxTY29yZSA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gZGF0YS5wbGF5ZXIxU2NvcmUgOiBkYXRhLnBsYXllcjJTY29yZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlU2NvcmUgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/IGRhdGEucGxheWVyMlNjb3JlIDogZGF0YS5wbGF5ZXIxU2NvcmU7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dChkYXRhLnBsYXllcjFTY29yZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVSaWdodC5zZXRUZXh0KGRhdGEucGxheWVyMlNjb3JlLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN0b3AgYmFsbCwgc2VydmVyIHdpbGwgcmVsYXVuY2ggaXRcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zZXRQb3NpdGlvbig0MDAsIDMwMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2JhbGxSZWxhdW5jaCc6XHJcbiAgICAgICAgICAgICAgICAvLyBTZXJ2ZXIgaXMgcmVsYXVuY2hpbmcgdGhlIGJhbGwgd2l0aCBuZXcgdmVsb2NpdHlcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zZXRQb3NpdGlvbihkYXRhLmJhbGwueCwgZGF0YS5iYWxsLnkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KGRhdGEuYmFsbC52eCwgZGF0YS5iYWxsLnZ5KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEud2lubmVyLCBkYXRhLnBsYXllcjFTY29yZSwgZGF0YS5wbGF5ZXIyU2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2NvcmVMZWZ0R29hbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5nYW1lRW5kZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQmFsbCBoaXQgTEVGVCBnb2FsICh4PTApLCBzbyBub3RpZnkgc2VydmVyXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7IHR5cGU6ICdnb2FsJywgc2lkZTogJ2xlZnQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNjb3JlUmlnaHRHb2FsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBCYWxsIGhpdCBSSUdIVCBnb2FsICh4PTgwMCksIHNvIG5vdGlmeSBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogJ2dvYWwnLCBzaWRlOiAncmlnaHQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZEdhbWUod2lubmVyLCBwbGF5ZXIxU2NvcmUsIHBsYXllcjJTY29yZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICBjb25zdCBpc1dpbm5lciA9ICh3aW5uZXIgPT09ICdwbGF5ZXIxJyAmJiB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHdpbm5lciA9PT0gJ3BsYXllcjInICYmIHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjInKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dCA9IGlzV2lubmVyID8gJ1lvdSBXaW4hJyA6ICdZb3UgTG9zZSEnO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gaXNXaW5uZXIgPyAnIzAwZmYwMCcgOiAnI2ZmMDAwMCc7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyMDAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6IGNvbG9yXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyODAsIGBGaW5hbCBTY29yZTogJHtwbGF5ZXIxU2NvcmV9IC0gJHtwbGF5ZXIyU2NvcmV9YCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdPcHBvbmVudCBEaXNjb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTWVudUJ1dHRvbigpIHtcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgJ1JldHVybiB0byBNYWluIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJhbGwoKSB7XHJcbiAgICAgICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xyXG4gICAgICAgIGdyYXBoaWNzLmZpbGxTdHlsZSgweGZmZmZmZik7XHJcbiAgICAgICAgZ3JhcGhpY3MuZmlsbENpcmNsZSg4LCA4LCA4KTtcclxuICAgICAgICBncmFwaGljcy5nZW5lcmF0ZVRleHR1cmUoJ2JhbGwtbXVsdGknLCAxNiwgMTYpO1xyXG4gICAgICAgIGdyYXBoaWNzLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWxsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLCAzMDAsICdiYWxsLW11bHRpJyk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0Qm91bmNlKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJvdW5kcygpIHtcclxuICAgICAgICB0aGlzLmxlZnRHb2FsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMCwgMzAwLCBudWxsKTtcclxuICAgICAgICB0aGlzLmxlZnRHb2FsLnNldERpc3BsYXlTaXplKDEwLCA2MDApO1xyXG4gICAgICAgIHRoaXMubGVmdEdvYWwuYm9keS5zZXRTaXplKDEwLCA2MDApO1xyXG4gICAgICAgIHRoaXMubGVmdEdvYWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGVmdEdvYWwuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRHb2FsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoODAwLCAzMDAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMucmlnaHRHb2FsLnNldERpc3BsYXlTaXplKDEwLCA2MDApO1xyXG4gICAgICAgIHRoaXMucmlnaHRHb2FsLmJvZHkuc2V0U2l6ZSgxMCwgNjAwKTtcclxuICAgICAgICB0aGlzLnJpZ2h0R29hbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5yaWdodEdvYWwuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgbG9jYWwgcGFkZGxlIGlucHV0IC0gYm90aCBwbGF5ZXJzIHVzZSBhcnJvdyBrZXlzXHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy51cC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92ZSBsb2NhbCBwYWRkbGVcclxuICAgICAgICBjb25zdCBzcGVlZCA9IDMwMDtcclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAndXAnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5WSgtc3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZG93bicpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHlZKHNwZWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZW5kIHBhZGRsZSBwb3NpdGlvbiB0byBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3BhZGRsZU1vdmUnLFxyXG4gICAgICAgICAgICB5OiB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZS55XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMZWFkZXJib2FyZHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTGVhZGVyYm9hcmRzU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhcmdhciBzb25pZG9zIHNpIGVzIG5lY2VzYXJpb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnQm90b24nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMzAwLCAxMDAwLCA2MDAsIDB4MWExYTJlKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCA1MCwgJ0xFQURFUkJPQVJEUycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGUgY2FyZ2FcclxuICAgICAgICB0aGlzLmxvYWRpbmdUZXh0ID0gdGhpcy5hZGQudGV4dCg1MDAsIDE1MCwgJ0NhcmdhbmRvIHJhbmtpbmdzLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRlbmVkb3IgcGFyYSBsYSBsaXN0YVxyXG4gICAgICAgIHRoaXMucmFua2luZ3NDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoNTAwLCAyMDApO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgdm9sdmVyXHJcbiAgICAgICAgY29uc3QgYmFja0J0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1NTAsICdWb2x2ZXIgYWwgTWVuw7onLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwZmYwMCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmFja0J0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG4uc2V0Q29sb3IoJyMwMGZmMDAnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnQm90b24nKS5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDYXJnYXIgcmFua2luZ3NcclxuICAgICAgICB0aGlzLmxvYWRSYW5raW5ncygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvYWRSYW5raW5ncygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzJyk7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgYWwgY2FyZ2FyIHVzdWFyaW9zJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGaWx0cmFyIHVzdWFyaW9zIGNvbiBtYXhTY29yZSA+IDAgeSBvcmRlbmFyIHBvciBtYXhTY29yZSBkZXNjZW5kZW50ZVxyXG4gICAgICAgICAgICBjb25zdCByYW5rZWRVc2VycyA9IHVzZXJzXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHVzZXIgPT4gdXNlci5tYXhTY29yZSA+IDApXHJcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5tYXhTY29yZSAtIGEubWF4U2NvcmUpXHJcbiAgICAgICAgICAgICAgICAuc2xpY2UoMCwgMTApOyAvLyBUb3AgMTBcclxuXHJcbiAgICAgICAgICAgIC8vIExpbXBpYXIgY29udGVuZWRvclxyXG4gICAgICAgICAgICB0aGlzLnJhbmtpbmdzQ29udGFpbmVyLnJlbW92ZUFsbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJhbmtlZFVzZXJzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zZXRUZXh0KCdObyBoYXkgcHVudHVhY2lvbmVzIHJlZ2lzdHJhZGFzJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9jdWx0YXIgdGV4dG8gZGUgY2FyZ2FcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1vc3RyYXIgcmFua2luZ3NcclxuICAgICAgICAgICAgcmFua2VkVXNlcnMuZm9yRWFjaCgodXNlciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBpbmRleCAqIDMwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmFuayA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIHksIGAke3Jhbmt9LiAke3VzZXIubmFtZX06ICR7dXNlci5tYXhTY29yZX1gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgICAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUsIDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yYW5raW5nc0NvbnRhaW5lci5hZGQodGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHJhbmtpbmdzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zZXRUZXh0KCdFcnJvciBhbCBjYXJnYXIgcmFua2luZ3MnKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdFNjZW5lLmpzJztcclxuaW1wb3J0IHsgU2V0dGluZ3NTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1NldHRpbmdzU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCBMb2JieVNjZW5lIGZyb20gJy4vc2NlbmVzL0xvYmJ5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllckdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgTGVhZGVyYm9hcmRzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9MZWFkZXJib2FyZHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMDAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtNZW51U2NlbmUsIEdhbWVTY2VuZSwgUGF1c2VTY2VuZSwgQ3JlZGl0U2NlbmUsIFNldHRpbmdzU2NlbmUsIENvbm5lY3Rpb25Mb3N0U2NlbmUsIExvYmJ5U2NlbmUsIE11bHRpcGxheWVyR2FtZVNjZW5lLCBMZWFkZXJib2FyZHNTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWExYTJlJyxcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuLy8gR2xvYmFsIGNvbm5lY3Rpb24gbGlzdGVuZXI6IGFsIHBlcmRlciBjb25leGnDs24sIGFicmlyIENvbm5lY3Rpb25Mb3N0U2NlbmUgeSBwYXVzYXIgbGEgZXNjZW5hIGFjdGl2YVxyXG5jb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcigoZGF0YSkgPT4ge1xyXG4gIGlmICghZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFNpIHlhIGVzdMOhIGFiaWVydGEgbGEgZXNjZW5hIGRlIHJlY29uZXhpw7NuLCBubyBoYWNlbW9zIG5hZGFcclxuICAgICAgY29uc3QgY29ublNjZW5lID0gZ2FtZS5zY2VuZS5nZXRTY2VuZSgnQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICBpZiAoY29ublNjZW5lICYmIGNvbm5TY2VuZS5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQYXVzYXIgdG9kYXMgbGFzIGVzY2VuYXMgYWN0aXZhcyAoZXhjbHVpciBDb25uZWN0aW9uTG9zdFNjZW5lKVxyXG4gICAgICBjb25zdCBhY3RpdmVTY2VuZXMgPSBnYW1lLnNjZW5lLmdldFNjZW5lcyh0cnVlKTtcclxuICAgICAgY29uc3QgcHJldmlvdXNLZXlzID0gYWN0aXZlU2NlbmVzXHJcbiAgICAgICAgLmZpbHRlcihzID0+IHMuc2NlbmUgJiYgcy5zY2VuZS5rZXkgJiYgcy5zY2VuZS5rZXkgIT09ICdDb25uZWN0aW9uTG9zdFNjZW5lJylcclxuICAgICAgICAubWFwKHMgPT4gcy5zY2VuZS5rZXkpO1xyXG5cclxuICAgICAgcHJldmlvdXNLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZ2FtZS5zY2VuZS5wYXVzZShrZXkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihgW01haW5dIFVuYWJsZSB0byBwYXVzZSBzY2VuZSAke2tleX06YCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEluaWNpYXIgbGEgZXNjZW5hIGRlIGNvbmV4acOzbiBwZXJkaWRhIHBhc2FuZG8gbGFzIGVzY2VuYXMgcGF1c2FkYXNcclxuICAgICAgZ2FtZS5zY2VuZS5zdGFydCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZXM6IHByZXZpb3VzS2V5cyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWFpbl0gRXJyb3IgaGFuZGxpbmcgY29ubmVjdGlvbiBsb3NzOicsIGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG59KTsiXSwibmFtZXMiOlsiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJjcmVhdGUiLCJleGlzdGluZ011c2ljIiwiZ2FtZSIsIm11c2ljYU1lbnUiLCJpc1BsYXlpbmciLCJzb3VuZCIsInN0b3BBbGwiLCJhZGQiLCJwbGF5IiwibG9vcCIsInZvbHVtZSIsInNldE9yaWdpbiIsInNldERpc3BsYXlTaXplIiwic2NhbGUiLCJ3aWR0aCIsImhlaWdodCIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiZm9udFN0eWxlIiwiZm9udEZhbWlseSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRDb2xvciIsInNjZW5lIiwic3RhcnQiLCJjcmVkaXRCdG4iLCJzZXR0aW5nc0J0biIsImZyb20iLCJsZWFkZXJib2FyZHNCdG4iLCJwbGF5ZXJJbmZvVGV4dCIsImxvZ2luQnRuIiwib3BlbkxvZ2luTW9kYWwiLCJsb2FkU3RvcmVkVXNlciIsIm9ubGluZUJ0biIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJhbGVydCIsImNvbm5lY3Rpb25UZXh0IiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJldmVudHMiLCJvbmNlIiwiY2xvc2VMb2dpbk1vZGFsIiwiaXNBY3RpdmUiLCJzZXRUZXh0IiwicmF3IiwidXNlciIsInBhcnNlIiwic2hvd1VzZXIiLCJlIiwid2FybiIsInBsYXllciIsIm5hbWUiLCJvZmYiLCJsb2dvdXQiLCJyZW1vdmVJdGVtIiwiX2xvZ2luTW9kYWxPcGVuIiwiaW5wdXQiLCJlbmFibGVkIiwib3ZlcmxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIk9iamVjdCIsImFzc2lnbiIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwiYmFja2dyb3VuZCIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJ6SW5kZXgiLCJwb2ludGVyRXZlbnRzIiwic3RvcFBvaW50ZXIiLCJ0YXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJiYWNrZ3JvdW5kQ2xpY2tIYW5kbGVyIiwiX2RvbUJhY2tncm91bmRDbGlja0hhbmRsZXIiLCJwYW5lbCIsInBhZGRpbmciLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJib3hTaXppbmciLCJvdmVyZmxvdyIsInRpdGxlIiwidGV4dENvbnRlbnQiLCJtYXJnaW5Cb3R0b20iLCJ0ZXh0QWxpZ24iLCJjcmVhdGVMYWJlbEFuZElucHV0IiwibGFiZWxUZXh0IiwidHlwZSIsIndyYXBwZXIiLCJtYXJnaW4iLCJsYWJlbCIsIm91dGxpbmUiLCJhcHBlbmRDaGlsZCIsImVtYWlsUGFpciIsIm5hbWVQYWlyIiwiZmVlZGJhY2siLCJtaW5IZWlnaHQiLCJtYXJnaW5Ub3AiLCJidG5Sb3ciLCJlbnRlckJ0biIsImN1cnNvciIsImNhbmNlbEJ0biIsIl9kb21Nb2RhbCIsIl9kb21FbWFpbElucHV0IiwiX2RvbU5hbWVJbnB1dCIsIl9kb21GZWVkYmFjayIsImZvY3VzIiwic3VibWl0SGFuZGxlciIsImFzeW5jIiwic3VibWl0TG9naW5Eb20iLCJjYW5jZWxIYW5kbGVyIiwia2V5SGFuZGxlciIsImtleSIsIl9kb21TdWJtaXRIYW5kbGVyIiwiX2RvbUNhbmNlbEhhbmRsZXIiLCJfZG9tS2V5SGFuZGxlciIsIl9kb21TdG9wUG9pbnRlciIsIl9kb21FbnRlckJ0biIsIl9kb21DYW5jZWxCdG4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZW1haWwiLCJ2YWx1ZSIsInRyaW0iLCJyZXMiLCJlcnIiLCJjYXRjaCIsInNldEl0ZW0iLCJzZXRUaW1lb3V0Iiwic2h1dGRvd24iLCJQb20iLCJHYW1lT2JqZWN0cyIsIkltYWdlIiwiaWQiLCJ4IiwieSIsInNldFNjYWxlIiwic2V0RGVwdGgiLCJleGlzdGluZyIsImlzSGl0dGluZyIsImhpdE9mZnNldCIsInBvaW50ZXIiLCJ0aGVybW9tZXRlckVmZmVjdEFjdGl2ZSIsImhpdCIsInN0YXJ0WCIsInN0YXJ0WSIsInN0YXJ0QW5nbGUiLCJhbmdsZSIsInJhZGlhbnMiLCJEZWdUb1JhZCIsImRpc3RhbmNlIiwiZHgiLCJjb3MiLCJkeSIsInNpbiIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsImVhc2UiLCJvbkNvbXBsZXRlIiwiUGluIiwicG9wVXBEdXJhdGlvbiIsImhlYWx0aCIsImhvbGVzIiwiY3VycmVudEhvbGVJbmRleCIsIm1vdmVDb29sZG93biIsIl9sYXN0TW92ZVRpbWUiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0SW1tb3ZhYmxlIiwiYWxsb3dHcmF2aXR5Iiwic2V0VmlzaWJsZSIsIl9vbkhpdENhbGxiYWNrIiwiX3BvaW50ZXJSZWdpc3RlcmVkIiwiZGlzYWJsZUludGVyYWN0aXZlIiwic2V0SG9sZXMiLCJsZW5ndGgiLCJtb3ZlVG9Ib2xlIiwidGltZSIsIldyYXAiLCJwb3MiLCJzZXRQb3NpdGlvbiIsImhpZGUiLCJtb3ZlSW5kZXgiLCJkZWx0YSIsInBvcFVwIiwiX3dhc0hpdCIsImVtaXQiLCJob2xlSW5kZXgiLCJ0aW1lc3RhbXAiLCJkZWxheWVkQ2FsbCIsInNldFRpbnQiLCJjbGVhclRpbnQiLCJyZXNldCIsIlBPV0VSVVBfQ0xPQ0siLCJQT1dFUlVQX1RIRVJNT01FVEVSIiwiR2FtZVNjZW5lIiwiaW5pdCIsInRpbWVMZWZ0IiwiaXNHYW1lT3ZlciIsInB1bnRvc1BsYXllcjEiLCJwdW50b3NQbGF5ZXIyIiwicG93ZXJ1cEFtb3VudCIsInBvd2VydXBNYXhTdG9yZWRQMSIsInBvd2VydXBNYXhTdG9yZWRQMiIsInBvd2VydXBTdG9yZWRQMSIsInBvd2VydXBTdG9yZWRQMiIsInBvd2VydXBzVXNlZFAxIiwicG93ZXJ1cHNVc2VkUDIiLCJwb3dlcnVwIiwicG93ZXJ1cEhvbGVJbmRleCIsInBvd2VydXBEdXJhdGlvbiIsInBvd2VydXBTcGF3bk1pbiIsInBvd2VydXBTcGF3bk1heCIsInBpbkJsb2NrZWQiLCJ0aGVybW9tZXRlclRpbWVyIiwidG9wb1RpbWVyIiwiZ2FtZVRpbWVyIiwicmVjdGFuZ2xlIiwibXVzaWNhTml2ZWwiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNhbnZhcyIsIm1hcnRpbGxvIiwiYWN0aXZlUG9pbnRlciIsInNjb3JlUGxheWVyMSIsInNjb3JlUGxheWVyMiIsInRpbWVyVGV4dCIsImZvcm1hdFRpbWUiLCJwb3dlcnVwVGV4dFAxIiwicG93ZXJ1cFRleHRQMiIsImtleXMiLCJrZXlib2FyZCIsImFkZEtleXMiLCJvbmUiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiT05FIiwidHdvIiwiVFdPIiwidGhyZWUiLCJUSFJFRSIsImZvdXIiLCJGT1VSIiwiZml2ZSIsIkZJVkUiLCJzaXgiLCJTSVgiLCJlc2MiLCJFU0MiLCJzcGFjZSIsIlNQQUNFIiwib25SZXN1bWUiLCJjcmVhdGVUb3BvcyIsInNjaGVkdWxlTmV4dFBvd2VydXAiLCJwaWNrdXBQb3dlcnVwQnlQbGF5ZXIiLCJ1cGRhdGVTY29yZVVJIiwiaGFuZGxlUG9pbnRlckRvd24iLCJhZGRFdmVudCIsImRlbGF5IiwiZW5kUm91bmQiLCJ1cGRhdGVQb3dlcnVwVUkiLCJpc0xlZnQiLCJidXR0b24iLCJldmVudCIsImlzUmlnaHQiLCJwQm91bmRzIiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJ0b3BvIiwidXNlUG93ZXJ1cEJ5UGxheWVyIiwiYm91bmRzIiwiUmVjdGFuZ2xlIiwiY2FtZXJhcyIsIm1haW4iLCJzaGFrZSIsInRvcG9Ib2xlcyIsImxvY2FsWCIsImxvY2FsWSIsIkJldHdlZW4iLCJzcGF3blBvd2VydXBBdFJhbmRvbUhvbGUiLCJwb3dlcnVwVHlwZXMiLCJzcHJpdGVLZXkiLCJjdXJyZW50UG93ZXJ1cFR5cGUiLCJ5b3lvIiwicmVwZWF0IiwiZGVzdHJveSIsInBsYXllcklkIiwiZ2V0IiwicG93ZXJ1cFR5cGUiLCJwb3AiLCJwYXVzZWQiLCJmbGFzaCIsInNlY29uZHMiLCJmbG9vciIsInBhZFN0YXJ0IiwidXBkYXRlIiwiaXNEb3duIiwiSnVzdERvd24iLCJsYXVuY2giLCJvcmlnaW5hbFNjZW5lIiwicGF1c2UiLCJyZW1vdmUiLCJjeCIsImN5Iiwic2V0U3Ryb2tlU3R5bGUiLCJ3aW5uZXJUZXh0IiwidXBkYXRlVXNlclNjb3JlIiwiYnRuVyIsImNyZWF0ZUJ0biIsImJhc2VDb2xvciIsImhvdmVyQ29sb3IiLCJiZyIsIkNvbnRhaW5zIiwiY29udGFpbmVyIiwic2V0U2l6ZSIsInNldEZpbGxTdHlsZSIsImtpbGxUd2VlbnNPZiIsInNjYWxlWCIsInNjYWxlWSIsImJ0blkiLCJyZXN0YXJ0IiwibmV3U2NvcmUiLCJtYXgiLCJtYXhTY29yZSIsInVwZGF0ZWRVc2VyIiwiUGF1c2VTY2VuZSIsInciLCJoIiwiX3ByZXZDdXJzb3IiLCJvdXRlckJsb2NrZXIiLCJyZXN1bWVCdG4iLCJjcmVhdGVCdXR0b24iLCJtZW51QnRuIiwicmVzdW1lIiwic3RvcCIsIl9lc2NIYW5kbGVyIiwibm9ybWFsSGV4IiwiaG92ZXJIZXgiLCJub3JtYWxDb2xvciIsImJ0biIsIkNyZWRpdFNjZW5lIiwiY3JlZGl0cyIsImFsaWduIiwid29yZFdyYXAiLCJTZXR0aW5nc1NjZW5lIiwiX3JldHVyblRvIiwiX29yaWdpbmFsU2NlbmUiLCJwYW5lbFdpZHRoIiwibWluIiwicGFuZWxYIiwicGFuZWxZIiwicGFuZWxIZWlnaHQiLCJwYW5lbEJnIiwiZ3JhcGhpY3MiLCJmaWxsU3R5bGUiLCJmaWxsUm91bmRlZFJlY3QiLCJmaWxsR3JhZGllbnRTdHlsZSIsImxpbmVTdHlsZSIsInN0cm9rZVJvdW5kZWRSZWN0IiwiYWxwaGEiLCJsZXR0ZXJTcGFjaW5nIiwic2V0U3Ryb2tlIiwic2V0U2hhZG93IiwiY3JlYXRlVm9sdW1lU2xpZGVyIiwibGluZVNwYWNpbmciLCJiYWNrTGFiZWwiLCJmYWRlT3V0IiwiYmdCYXIiLCJtdXNpY0luc3RhbmNlcyIsImZpbHRlciIsIkJvb2xlYW4iLCJpbml0aWFsVm9sIiwiQ2xhbXAiLCJmaWxsQmFyIiwiaGFuZGxlIiwiY2lyY2xlIiwiZHJhZ2dhYmxlIiwicGVyY2VudFRleHQiLCJyb3VuZCIsInNldERyYWdnYWJsZSIsInVwZGF0ZVZvbHVtZSIsIm0iLCJzZXRWb2x1bWUiLCJvYmoiLCJkcmFnWCIsIndvcmxkWCIsInZvbCIsIm9wdHMiLCJiZ0NvbG9yIiwidGV4dENvbG9yIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJwcmV2aW91c1NjZW5lcyIsIkFycmF5IiwiaXNBcnJheSIsInByZXZpb3VzU2NlbmUiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImRvdHMiLCJwYXVzZUFsbCIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwicmVzdW1lQWxsIiwiTG9iYnlTY2VuZSIsIlNjZW5lIiwid3MiLCJwbGF5ZXJDb3VudFRleHQiLCJjYW5jZWxCdXR0b24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJsZWF2ZVF1ZXVlIiwiY29ubmVjdFRvU2VydmVyIiwid3NVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJzZW5kIiwib25tZXNzYWdlIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwicGxheWVyUm9sZSIsInJvbGUiLCJyb29tSWQiLCJpbml0aWFsQmFsbCIsImJhbGwiLCJyZWFkeVN0YXRlIiwiT1BFTiIsImNsb3NlIiwiTXVsdGlwbGF5ZXJHYW1lU2NlbmUiLCJpc1BhdXNlZCIsImdhbWVFbmRlZCIsImxvY2FsUGFkZGxlIiwicmVtb3RlUGFkZGxlIiwibG9jYWxTY29yZSIsInJlbW90ZVNjb3JlIiwiaSIsInNjb3JlTGVmdCIsInNjb3JlUmlnaHQiLCJyb2xlVGV4dCIsImNyZWF0ZUJvdW5kcyIsImNyZWF0ZUJhbGwiLCJzZXRVcFBsYXllcnMiLCJjb2xsaWRlciIsIm92ZXJsYXAiLCJsZWZ0R29hbCIsInNjb3JlTGVmdEdvYWwiLCJyaWdodEdvYWwiLCJzY29yZVJpZ2h0R29hbCIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwiY3Vyc29ycyIsImNyZWF0ZUN1cnNvcktleXMiLCJzZXRWZWxvY2l0eSIsInZ4IiwidnkiLCJQYWRkbGUiLCJwbGF5ZXIxU2NvcmUiLCJwbGF5ZXIyU2NvcmUiLCJlbmRHYW1lIiwid2lubmVyIiwic2VuZE1lc3NhZ2UiLCJzaWRlIiwiaXNXaW5uZXIiLCJjcmVhdGVNZW51QnV0dG9uIiwiZmlsbENpcmNsZSIsImdlbmVyYXRlVGV4dHVyZSIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsInNldEJvdW5jZSIsIm1lc3NhZ2UiLCJkaXJlY3Rpb24iLCJ1cCIsImRvd24iLCJzZXRWZWxvY2l0eVkiLCJMZWFkZXJib2FyZHNTY2VuZSIsImxvYWRpbmdUZXh0IiwicmFua2luZ3NDb250YWluZXIiLCJiYWNrQnRuIiwibG9hZFJhbmtpbmdzIiwiRXJyb3IiLCJyYW5rZWRVc2VycyIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwicmVtb3ZlQWxsIiwicmFuayIsImNvbmZpZyIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJjb25uU2NlbmUiLCJnZXRTY2VuZSIsInByZXZpb3VzS2V5cyIsImdldFNjZW5lcyIsInMiLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9