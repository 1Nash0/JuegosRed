(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{console.log("[ConnectionManager] Checking connection...");const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(console.log("[ConnectionManager] Response status:",e.status),e.ok){const t=await e.json();return console.log("[ConnectionManager] Connected users:",t.connected),this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return console.log("[ConnectionManager] Response not OK, status:",e.status),this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("[ConnectionManager] Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.image("Titulo","assets/Bocetos/Inicio.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){const e=this.game&&this.game.musicaMenu;e&&e.isPlaying?this.musicaMenu=e:(this.sound.stopAll(),this.musicaMenu=this.sound.add("Musica_menu"),this.musicaMenu.play({loop:!0,volume:.5}),this.game.musicaMenu=this.musicaMenu),this.add.image(0,0,"Titulo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.text(380,200,"MOLE",{fontSize:"72px",color:"#892327",fontStyle:"bold",fontFamily:"roboto"}).setOrigin(.5),this.add.text(600,200,"HOLE",{fontSize:"72px",color:"#253754",fontFamily:"roboto"}).setOrigin(.5);const s=this.add.text(500,320,"Local 2 Jugadores",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#00fff7ff")).on("pointerout",()=>s.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("GameScene")}),i=this.add.text(500,420,"CrÃ©ditos",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setColor("#00fff7ff")).on("pointerout",()=>i.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("CreditScene")}),o=this.add.text(500,470,"Ajustes",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>o.setColor("#00fff7ff")).on("pointerout",()=>o.setColor("#892327")).on("pointerdown",()=>{this.scene.start("SettingsScene",{from:"menu"})}),n=this.add.text(500,370,"Multijugador en LÃ­nea",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>n.setColor("#00fff7ff")).on("pointerout",()=>n.setColor("#892327")).on("pointerdown",()=>{this.scene.start("LobbyScene")});this.connectionText=this.add.text(500,530,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class i extends Phaser.GameObjects.Image{constructor(e,t,s,i){super(e,s,i,"Martillo"),this.scene=e,this.id=t,this.setOrigin(.5,.35),this.setScale(1),this.setDepth(5),e.add.existing(this),this.isHitting=!1,this.hitOffset=45,e.input.on("pointermove",e=>{this.isHitting||(this.x=e.x,this.y=e.y)})}hit(){if(this.isHitting)return;this.isHitting=!0;const e=this.x,t=this.y,s=this.angle,i=Phaser.Math.DegToRad(s+90),o=this.hitOffset,n=Math.cos(i)*o,r=Math.sin(i)*o;this.scene.tweens.add({targets:this,x:e+n,y:t+r,angle:s+18,duration:80,ease:"Power2.In",onComplete:()=>{this.scene.tweens.add({targets:this,x:e,y:t,angle:s,duration:140,ease:"Back.Out",onComplete:()=>{this.isHitting=!1}})}})}}class o{constructor(e,t,s,i){this.id=t,this.scene=e,this.isActive=!1,this.popUpDuration=1e3,this.health=1,this.holes=[],this.currentHoleIndex=0,this.moveCooldown=700,this._lastMoveTime=0,this.sprite=this.scene.physics.add.sprite(s,i,"bojack"),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.sprite.setVisible(!1),this.sprite.setScale(.5),this.sprite.setOrigin(.5),this.sprite.setDepth(2),this.hitSprite=this.scene.physics.add.sprite(s,i,"Pingolpeado"),this.hitSprite.setImmovable(!0),this.hitSprite.setScale(.5),this._onHitCallback=()=>this.hit(),this._pointerRegistered=!1,this.sprite.disableInteractive()}setHoles(e=[]){this.holes=e,this.holes.length&&(this.currentHoleIndex=0,this.moveToHole(this.currentHoleIndex))}moveToHole(e){if(!this.holes.length)return!1;const t=this.scene&&this.scene.time&&this.scene.time.now?this.scene.time.now:Date.now();if(t-this._lastMoveTime<this.moveCooldown)return!1;this._lastMoveTime=t,this.currentHoleIndex=Phaser.Math.Wrap(e,0,this.holes.length);const s=this.holes[this.currentHoleIndex];return this.sprite.setPosition(s.x,s.y),this.isActive&&this.hide(),!0}moveIndex(e){this.holes.length&&this.moveToHole(this.currentHoleIndex+e)}popUp(){if(!this.isActive){this.moveToHole(this.currentHoleIndex),this.isActive=!0,this.health=1,this._wasHit=!1,this.sprite.setVisible(!0),this.sprite.setInteractive({useHandCursor:!0}),this._pointerRegistered||(this.sprite.on("pointerdown",this._onHitCallback),this._pointerRegistered=!0);try{this.scene.events.emit("topoPopped",{id:this.id,holeIndex:this.currentHoleIndex,x:this.sprite.x,y:this.sprite.y,timestamp:this.scene.time?this.scene.time.now:Date.now()})}catch(e){console.warn("Emit topoPopped failed",e)}this.scene.time.delayedCall(this.popUpDuration,()=>{this.hide()})}}hide(){this.isActive=!1,this.sprite.setVisible(!1),this.hitSprite.setVisible(!1),this.sprite.disableInteractive()}hit(){return!!this.isActive&&(this.health-=1,this.sprite.setTint(16711680),this.hitSprite.setPosition(this.sprite.x,this.sprite.y),this.hitSprite.setVisible(!0),this.scene.time.delayedCall(100,()=>{this.sprite.clearTint()}),this.health<=0&&(this.hide(),!0))}reset(){this.health=1,this.isActive=!1,this.sprite.setVisible(!1),this.sprite.clearTint()}}class n{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}const r="clock",a="thermometer";class h extends e.Scene{constructor(){super("GameScene")}init(){this.timeLeft=60,this.isGameOver=!1,this.puntosPlayer1=0,this.puntosPlayer2=0,this.powerupAmount=20,this.powerupMaxStoredP1=3,this.powerupMaxStoredP2=3,this.powerupStoredP1=[],this.powerupStoredP2=[],this.powerupsUsedP1=0,this.powerupsUsedP2=0,this.powerupsUSADOSP1=0,this.powerupsUSADOSP2=0,this.powerup=null,this.powerupHoleIndex=-1,this.powerupDuration=5e3,this.powerupSpawnMin=4e3,this.powerupSpawnMax=12e3,this.thermometerEffectActive=!1,this.pinBlocked=!1,this.thermometerTimer=null,this.topoTimer=null,this.gameTimer=null,this.processor=new n}preload(){this.load.image("fondo","assets/fondo_game.png"),this.load.image("Martillo","assets/mazo.png"),this.load.image("bojack","assets/pin.png"),this.load.image("Pingolpeado","assets/pingolpeado.png"),this.load.image("reloj","assets/reloj.png"),this.load.image("agujero","assets/agujero.png"),this.load.image("termometro","assets/termometro.png"),this.load.audio("Musica_nivel","assets/Sonidos para_red/Hydrogen.mp3"),this.load.audio("Castor","assets/Sonidos para_red/Castor.mp3"),this.load.audio("Golpe","assets/Sonidos para_red/Golpe.mp3"),this.load.audio("Fin_partida","assets/Sonidos para_red/Miami.mp3"),this.load.audio("Sonido_martillo","assets/Sonidos para_red/Martillo_juez.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3"),this.load.audio("Frio","assets/Sonidos para_red/Tembleque.mp3")}create(){this.add.rectangle(500,300,1e3,600,1710638),this.add.image(0,0,"fondo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.image(200,480,"agujero").setScale(.5),this.add.image(320,320,"agujero").setScale(.5),this.add.image(440,480,"agujero").setScale(.5),this.add.image(560,320,"agujero").setScale(.5),this.add.image(680,480,"agujero").setScale(.5),this.add.image(800,320,"agujero").setScale(.5),this.musicaNivel=this.sound.add("Musica_nivel"),this.musicaNivel.play({loop:!0,volume:.5}),this.input.mouse.disableContextMenu(),this.game.canvas.style.cursor="none",this.martillo=new i(this,"Martillo",this.input.activePointer.x,this.input.activePointer.y),this.scorePlayer1=this.add.text(80,50,"Pom: 0",{fontSize:"32px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.scorePlayer2=this.add.text(850,50,"Pin: 0",{fontSize:"32px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.timerText=this.add.text(this.scale.width-20,this.scale.height-20,this.formatTime(this.timeLeft),{fontSize:"40px",fontStyle:"bold",color:"#ffffffff",fontFamily:"Arial"}).setOrigin(1,1),this.powerupTextP1=this.add.text(80,80,`P1 Powerups: ${this.powerupStoredP1}/${this.powerupMaxStoredP1}`,{fontSize:"16px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.powerupTextP2=this.add.text(this.scale.width+20,80,`P2 Powerups: ${this.powerupStoredP2}/${this.powerupMaxStoredP2}`,{fontSize:"16px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(1.5,0),this.keys=this.input.keyboard.addKeys({one:e.Input.Keyboard.KeyCodes.ONE,two:e.Input.Keyboard.KeyCodes.TWO,three:e.Input.Keyboard.KeyCodes.THREE,four:e.Input.Keyboard.KeyCodes.FOUR,five:e.Input.Keyboard.KeyCodes.FIVE,six:e.Input.Keyboard.KeyCodes.SIX,esc:e.Input.Keyboard.KeyCodes.ESC,space:e.Input.Keyboard.KeyCodes.SPACE}),this.events.on("resume",this.onResume,this),this.createTopos(),this.scheduleNextPowerup(),this.events.off("topoPopped"),this.events.on("topoPopped",(e={})=>{this.isGameOver||this.powerup&&this.powerupHoleIndex===e.holeIndex&&this.pickupPowerupByPlayer(2)}),this.input.on("pointerdown",e=>this.handlePointerDown(e)),this.gameTimer=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{this.isGameOver||(this.timeLeft--,this.timerText.setText(this.formatTime(this.timeLeft)),this.timeLeft<=0&&this.endRound())}}),this.updateScoreUI(),this.updatePowerupUI()}handlePointerDown(t){if(this.isGameOver)return;const s=0===t.button||t.event&&0===t.event.button,i=2===t.button||t.event&&2===t.event.button;if(this.powerup&&this.powerup.sprite){const e=this.powerup.sprite.getBounds();if(e&&e.contains(t.x,t.y)){if(s)return void this.pickupPowerupByPlayer(1);if(i)return void(this.topo&&this.powerupHoleIndex===this.topo.currentHoleIndex&&this.pickupPowerupByPlayer(2))}}if(i)this.usePowerupByPlayer(1);else if(s){if(this.martillo&&this.martillo.hit(),!this.topo||!this.topo.sprite)return;const s=this.topo.sprite.getBounds();if(new e.Geom.Rectangle(s.x+.25*s.width,s.y+.25*s.height,.5*s.width,.5*s.height).contains(t.x,t.y)&&this.topo.isActive)return this.puntosPlayer1+=1,this.updateScoreUI(),this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),void this.cameras.main.shake(200,.01);this.pinBlocked||(this.puntosPlayer2+=1,this.updateScoreUI(),this.sound.play("Sonido_martillo"))}}createTopos(){this.topoHoles=[{x:200,y:480},{x:320,y:320},{x:440,y:480},{x:560,y:320},{x:680,y:480},{x:800,y:320}],this.topo=new o(this,0,this.topoHoles[0].x,this.topoHoles[0].y),this.topo.setHoles(this.topoHoles),this.topo.sprite.setInteractive(),this.topo.sprite.on("pointerdown",()=>{this.isGameOver||this.topo.isActive&&!this.pinBlocked&&(this.puntosPlayer1+=1,this.updateScoreUI(),this.martillo&&this.martillo.hit(),this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),this.cameras.main.shake(200,.01))}),this.topoTimer=this.time.addEvent({delay:1500,loop:!0,callback:()=>{this.isGameOver||this.topo.isActive||this.topo.popUp()}})}scheduleNextPowerup(){if(this.isGameOver)return;if(this.powerup)return;if(this.powerupMaxStoredP1<=0)return;if(this.powerupMaxStoredP2<=0)return;const t=e.Math.Between(this.powerupSpawnMin,this.powerupSpawnMax);this.time.delayedCall(t,()=>{this.isGameOver||this.spawnPowerupAtRandomHole()})}spawnPowerupAtRandomHole(){if(!this.topoHoles||!this.topoHoles.length)return;if(this.powerup)return;const t=e.Math.Between(0,this.topoHoles.length-1),s=this.topoHoles[t],i=[r,a];let o;this.currentPowerupType=i[e.Math.Between(0,i.length-1)];let n=.15;this.currentPowerupType===r?o="reloj":this.currentPowerupType===a&&(o="termometro",n=.3),this.powerup=this.add.image(s.x,s.y-10,o).setScale(n).setDepth(8),this.powerupHoleIndex=t,this.powerup.setInteractive({useHandCursor:!0}),this.powerup.on("pointerdown",e=>{this.isGameOver||(0===e.button||e.event&&0===e.event.button)&&(this.pickupPowerupByPlayer(1),this.sound.play("Boton"))}),this.tweens.add({targets:this.powerup,y:s.y-16,duration:600,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.time.delayedCall(this.powerupDuration,()=>{this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1,this.scheduleNextPowerup())})}pickupPowerupByPlayer(e){if(!this.powerup)return!1;if(this.isGameOver)return!1;if(this.currentPowerupType===a&&2!==e)return!1;if(1===e){if(this.powerupsUsedP1>=3)return!1;if(this.powerupStoredP1.length>=this.powerupMaxStoredP1)return!1;this.powerupStoredP1.push(this.currentPowerupType)}else{if(this.powerupsUsedP2>=3)return!1;if(this.powerupStoredP2.length>=this.powerupMaxStoredP2)return!1;this.powerupStoredP2.push(this.currentPowerupType)}return this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1),this.scheduleNextPowerup(),!0}usePowerupByPlayer(e){if(this.isGameOver)return!1;let t;if(1===e){if(this.powerupStoredP1.length<=0)return!1;t=this.powerupStoredP1.pop(),this.powerupMaxStoredP1>0&&this.powerupMaxStoredP1--}else{if(this.powerupStoredP2.length<=0)return!1;t=this.powerupStoredP2.pop(),this.powerupMaxStoredP2>0&&this.powerupMaxStoredP2--}if(t===r)this.timeLeft+=this.powerupAmount,this.timerText.setText(this.formatTime(this.timeLeft));else if(t===a){this.thermometerEffectActive=!0,this.pinBlocked=!0,this.gameTimer.paused=!0,this.sound.play("Frio");const e=this.add.rectangle(this.scale.width/2,this.scale.height/2,this.scale.width,this.scale.height,8900331,.4).setDepth(10);this.thermometerTimer=this.time.addEvent({delay:1e3,repeat:3,callback:()=>{this.puntosPlayer2+=2,this.updateScoreUI()}}),this.time.delayedCall(4e3,()=>{this.thermometerEffectActive=!1,this.pinBlocked=!1,this.gameTimer.paused=!1,this.thermometerTimer&&(this.thermometerTimer.destroy(),this.thermometerTimer=null),e&&e.destroy()})}return this.cameras.main.flash(150,100,255,100),this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),1===e?this.powerupsUsedP1++:this.powerupsUsedP2++,!0}updateScoreUI(){this.scorePlayer1&&this.scorePlayer1.setText(`Pom: ${this.puntosPlayer1}`),this.scorePlayer2&&this.scorePlayer2.setText(`Pin: ${this.puntosPlayer2}`)}updatePowerupUI(){this.powerupTextP1&&this.powerupTextP1.setText(`P1 Powerups: ${this.powerupStoredP1.length}/${this.powerupMaxStoredP1}`),this.powerupTextP2&&this.powerupTextP2.setText(`P2 Powerups: ${this.powerupStoredP2.length}/${this.powerupMaxStoredP2}`)}formatTime(e){return`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}update(){this.isGameOver||(this.topo&&(this.keys.one.isDown&&this.topo.moveToHole(0),this.keys.two.isDown&&this.topo.moveToHole(1),this.keys.three.isDown&&this.topo.moveToHole(2),this.keys.four.isDown&&this.topo.moveToHole(3),this.keys.five.isDown&&this.topo.moveToHole(4),this.keys.six.isDown&&this.topo.moveToHole(5)),e.Input.Keyboard.JustDown(this.keys.esc)&&(this.isGameOver||(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())),e.Input.Keyboard.JustDown(this.keys.space)&&this.usePowerupByPlayer(2))}endRound(){this.isGameOver=!0,this.sound.stopAll(),this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto"),this.input.off("pointerdown"),this.martillo&&this.martillo.setVisible&&this.martillo.setVisible(!1),this.topoTimer&&this.topoTimer.remove(!1),this.gameTimer&&this.gameTimer.remove(!1),this.topo&&this.topo.sprite&&(this.topo.sprite.disableInteractive(),this.topo.hide());const t=this.scale.width/2,s=this.scale.height/2,i=this.add.rectangle(t,s,760,420,725536,.88).setOrigin(.5).setDepth(200);i.setStrokeStyle(4,2060267),i.scale=.85,this.tweens.add({targets:i,scale:1,duration:220,ease:"Back.Out"}),i.disableInteractive();let o="Empate";this.puntosPlayer1>this.puntosPlayer2?o="ðŸ†   Gana Jugador 1 (Pom)":this.puntosPlayer2>this.puntosPlayer1&&(o="ðŸ†   Gana Jugador 2 (Pin)"),this.add.text(t,s-130,o,{fontSize:"42px",fontStyle:"bold",color:"#ffffff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.rectangle(t,s-90,420,3,2060267).setOrigin(.5).setDepth(250),this.add.text(t,s-20,`P1 (Pom): ${this.puntosPlayer1}`,{fontSize:"26px",color:"#6c8bff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.text(t,s+20,`P2 (Pin): ${this.puntosPlayer2}`,{fontSize:"26px",color:"#ff6b6b",fontFamily:"Arial"}).setOrigin(.5).setDepth(250);const n=240,r=(t,s,i,o,r,a)=>{const h=this.add.rectangle(0,0,n,62,o).setOrigin(.5).setStrokeStyle(2,665408).setDepth(305),l=this.add.text(0,0,i,{fontSize:"22px",fontStyle:"bold",color:"#00131d",fontFamily:"Arial"}).setOrigin(.5).setDepth(306),c=this.add.rectangle(0,0,n,62,0,0).setOrigin(.5).setDepth(307).setInteractive(new e.Geom.Rectangle(-120,-31,n,62),e.Geom.Rectangle.Contains),d=this.add.container(t,s,[h,l,c]);return d.setSize(n,62),d.setInteractive(),d.setDepth(300),c.on("pointerover",()=>{h.setFillStyle(r),l.setColor("#ffffff"),this.tweens.killTweensOf(h),this.tweens.add({targets:h,scaleX:1.06,scaleY:1.06,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="pointer"}),c.on("pointerout",()=>{h.setFillStyle(o),l.setColor("#00131d"),this.tweens.killTweensOf(h),this.tweens.add({targets:h,scaleX:1,scaleY:1,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="auto"}),c.on("pointerdown",()=>{this.sound.get("Boton")&&this.sound.play("Boton",{volume:.5}),a()}),d},a=s+120;r(t-150,a,"Repetir",8970751,5222655,()=>this.scene.restart()),r(t+150,a,"MenÃº Principal",16767912,16758138,()=>this.scene.start("MenuScene"))}onResume(){this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="none"),this.input.on("pointerdown",e=>this.handlePointerDown(e))}}class l extends e.Scene{constructor(){super("PauseScene")}create(e={}){const t=this.scale.width,s=this.scale.height,i=t/2,o=s/2;this._prevCursor=this.game&&this.game.canvas&&this.game.canvas.style?this.game.canvas.style.cursor:"",this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto");const n=this.add.rectangle(i,o,t,s,0,.6).setOrigin(.5);n.setInteractive(),n.setDepth(0);const r=this.add.rectangle(i,o,540,460,1118746).setStrokeStyle(3,52326).setOrigin(.5);r.setDepth(1),r.scale=.9,this.tweens.add({targets:r,scale:1,duration:180,ease:"Back.Out"}),this.add.text(i,o-180,"PAUSADO",{fontSize:"40px",fontStyle:"bold",color:"#00cc66",fontFamily:"Arial"}).setOrigin(.5).setDepth(2),this.add.rectangle(i,o-140,340,3,52326).setOrigin(.5).setDepth(2);const a=this.createButton(i,o-40,"REANUDAR",52326,6750130),h=this.createButton(i,o+40,"MENÃš PRINCIPAL",16739179,16751258),l=this.createButton(i,o+120,"AJUSTES",16777215,13421772);a.setDepth(10),h.setDepth(10),l.setDepth(10),a.on("pointerdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),e.originalScene&&this.scene.resume(e.originalScene),this.scene.stop()}),h.on("pointerdown",()=>{e.originalScene&&this.scene.stop(e.originalScene),this.scene.start("MenuScene"),this.sound.stopAll()}),l.on("pointerdown",()=>{this.scene.start("SettingsScene",{from:"pause",originalScene:e.originalScene})}),this._escHandler=()=>a.emit("pointerdown"),this.input.keyboard.on("keydown-ESC",this._escHandler),this.events.once("shutdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),this._escHandler&&(this.input.keyboard.off("keydown-ESC",this._escHandler),this._escHandler=null)})}createButton(e,t,s,i,o){const n=`#${i.toString(16).padStart(6,"0")}`,r=`#${o.toString(16).padStart(6,"0")}`,a=this.add.rectangle(0,0,360,64,2040640).setStrokeStyle(2,i).setOrigin(.5),h=this.add.text(0,0,s,{fontSize:"22px",fontStyle:"bold",color:n,fontFamily:"Arial"}).setOrigin(.5),l=this.add.container(e,t,[a,h]);return l.setSize(360,64),l.setInteractive({useHandCursor:!0}),l.on("pointerover",()=>{a.setFillStyle(3093592),a.setStrokeStyle(3,o),h.setColor(r),h.setScale(1.05)}),l.on("pointerout",()=>{a.setFillStyle(2040640),a.setStrokeStyle(2,i),h.setColor(n),h.setScale(1)}),l.on("pointerdown",()=>{this.tweens.add({targets:l,scaleX:.98,scaleY:.98,duration:80,yoyo:!0})}),l}}class c extends e.Scene{constructor(){super("CreditScene")}preload(){this.load.image("Creditos","assets/FondoCreditos.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.add.image(0,0,"Creditos").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.sound.add("Musica_menu").play({loop:!0,volume:.5}),this.add.text(400,50,"CrÃ©ditos",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.credits=this.add.text(400,260,"\nDesarrolladores:\n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\n- Jaime Alonso del Real\n- David MartÃ­nez GarcÃ­a\nArte: \n- David MartÃ­nez GarcÃ­a\nSonidos y MÃºsica: \n- Jaime Alonso del Real\nTesteo: \n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\nGracias por jugar\n        ",{fontSize:"24px",color:"#ffffff",align:"center",wordWrap:{width:700}}).setOrigin(.5),this.tweens.add({targets:this.credits,y:this.credits.y-8,duration:1e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,delay:200}),this.localBtn=this.add.text(400,500,"Volver",{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("MenuScene")})}update(){}}class d extends e.Scene{constructor(){super("SettingsScene")}create(e={}){const t=this.scale.width/2,s=this.scale.height/2;this._returnTo=e.from||"menu",this._originalScene=e.originalScene||null,this.add.rectangle(t,s,this.scale.width,this.scale.height,0,.6);const i=Math.min(520,this.scale.width-80),o=t-i/2,n=s-210,r=this.add.graphics();r.fillStyle(0,.36),r.fillRoundedRect(o+6,n+8,i,420,16),r.fillGradientStyle(725536,725536,992312,992312,1),r.fillRoundedRect(o,n,i,420,16),r.lineStyle(2,2060267,.9),r.strokeRoundedRect(o,n,i,420,16),r.alpha=0,this.tweens.add({targets:r,alpha:1,duration:500,ease:"Cubic.Out"});const a=this.add.text(t,s-175,"AJUSTES",{fontSize:"40px",fontStyle:"bold",color:"#dff4ff",letterSpacing:3,align:"center"}).setOrigin(.5);a.setStroke("#7fd0ff",4),a.setShadow(2,2,"#000000",6,!1,!0),a.setScale(.95),this.tweens.add({targets:a,scale:1,duration:420,ease:"Back.Out"}),this.add.text(t-180,s-90,"Volumen",{fontSize:"22px",color:"#dff4ff",fontStyle:"bold"}).setOrigin(0,.5),this.createVolumeSlider(t-120,s-50,260),this.add.text(t,s+20,"CONTROLES\n\nðŸ–± Click izquierdo: Golpear\nðŸ–± Click derecho: Powerup P1\nâ£ Espacio: Powerup P2\n1-6: Mover topo\nESC: Pausa",{fontSize:"18px",color:"#cfe7ff",align:"center",fontStyle:"bold",lineSpacing:6}).setOrigin(.5,0);const h="pause"===this._returnTo?"Volver a Pausa":"Volver";this.localBtn=this.add.text(500,500,h,{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.cameras.main.fadeOut(180,10,10,10),this.time.delayedCall(200,()=>{"pause"===this._returnTo?this.scene.start("PauseScene",{originalScene:this._originalScene}):this.scene.start("MenuScene")})})}createVolumeSlider(t,s,i){const o=this.add.rectangle(t+i/2,s,i,8,2438479).setOrigin(.5),{musicaMenu:n,musicaNivel:r}=this.game||{},a=[n,r].filter(Boolean),h=e.Math.Clamp((a[0]&&a[0].volume)??this.sound.volume??1,0,1),l=this.add.rectangle(t,s,i*h,8,5222655).setOrigin(0,.5),c=this.add.circle(t+i*h,s,12,16777215).setStrokeStyle(3,2438479).setInteractive({draggable:!0}),d=this.add.text(t+i+14,s,Math.round(100*h)+"%",{fontSize:"18px",color:"#dff4ff"}).setOrigin(0,.5);this.input.setDraggable(c);const p=e=>{this.sound.volume=e,a.forEach(t=>{t&&"function"==typeof t.setVolume&&t.setVolume(e)}),n&&"function"==typeof n.setVolume&&n.setVolume(e),r&&"function"==typeof r.setVolume&&r.setVolume(e),l.width=i*e,d.setText(Math.round(100*e)+"%")};this.input.on("drag",(s,o,n)=>{o===c&&(n=e.Math.Clamp(n,t,t+i),o.x=n,p((n-t)/i))}),o.setInteractive({useHandCursor:!0}),o.on("pointerdown",s=>{const o=e.Math.Clamp(s.worldX-t,0,i),n=o/i;c.x=t+o,p(n)}),c.on("pointerover",()=>this.tweens.add({targets:c,scale:1.08,duration:120})),c.on("pointerout",()=>this.tweens.add({targets:c,scale:1,duration:120}))}createButton(e,t,s,i,o={}){const n=o.width||200,r=o.height||50,a=o.bgColor||8970751,h=o.textColor||"#00131d",l=this.add.container(e,t),c=this.add.rectangle(0,0,n,r,a).setOrigin(.5).setInteractive({useHandCursor:!0});c.setStrokeStyle(2,16777215,.08);const d=this.add.text(0,0,s,{fontSize:"20px",fontStyle:"bold",color:h}).setOrigin(.5);return l.add([c,d]),c.on("pointerover",()=>{this.tweens.add({targets:l,scale:1.04,duration:140,ease:"Power2"}),this.tweens.add({targets:c,alpha:.95,duration:140})}),c.on("pointerout",()=>{this.tweens.add({targets:l,scale:1,duration:120,ease:"Power2"}),this.tweens.add({targets:c,alpha:1,duration:120})}),c.on("pointerdown",()=>{this.tweens.add({targets:l,scale:.96,duration:80,yoyo:!0}),"function"==typeof i&&i()}),l}}class p extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScenes=[],Array.isArray(e.previousScenes)?this.previousScenes=e.previousScenes:e.previousScene&&(this.previousScenes=[e.previousScene])}create(){this.add.rectangle(500,300,1e3,600,0,.8),this.add.text(500,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0});try{this.sound.pauseAll()}catch(e){console.warn("[ConnectionLostScene] No se pudo pausar audio:",e)}this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener);try{this.sound.resumeAll()}catch(e){console.warn("[ConnectionLostScene] No se pudo reanudar audio:",e)}this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),Array.isArray(this.previousScenes)&&this.previousScenes.length>0&&this.previousScenes.forEach(e=>{try{e&&this.scene.get(e)&&this.scene.resume(e)}catch(t){console.warn(`[ConnectionLostScene] No se pudo reanudar escena ${e}:`,t)}})})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener);try{Array.isArray(this.previousScenes)&&this.previousScenes.length>0&&this.previousScenes.forEach(e=>{try{e&&this.scene.get(e)&&this.scene.resume(e)}catch(t){console.warn(`[ConnectionLostScene] No se pudo reanudar escena ${e} en shutdown:`,t)}}),this.sound.resumeAll()}catch(e){}}}class u extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.text(e/2,100,"Multijugador En lÃ­nea",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando al servidor...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancelar",{fontSize:"24px",color:"#ff6666",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000")}),s.on("pointerout",()=>{s.setColor("#ff6666")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,initialBall:e.ball});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class f extends e.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.initialBall=e.initialBall,this.ball=null,this.isPaused=!1,this.gameEnded=!1,this.localPaddle=null,this.remotePaddle=null,this.localScore=0,this.remoteScore=0}create(){this.add.rectangle(400,300,800,600,1710638);for(let e=0;e<12;e++)this.add.rectangle(400,50*e+25,10,30,4473924);this.scoreLeft=this.add.text(100,50,"0",{fontSize:"48px",color:"#00ff00"}),this.scoreRight=this.add.text(700,50,"0",{fontSize:"48px",color:"#00ff00"});const e="player1"===this.playerRole?"You are Player 1 (Left)":"You are Player 2 (Right)";this.add.text(400,20,e,{fontSize:"16px",color:"#ffff00"}).setOrigin(.5),this.createBounds(),this.createBall(),this.setUpPlayers(),this.physics.add.collider(this.ball,this.localPaddle.sprite),this.physics.add.collider(this.ball,this.remotePaddle.sprite),this.physics.add.overlap(this.ball,this.leftGoal,this.scoreLeftGoal,null,this),this.physics.add.overlap(this.ball,this.rightGoal,this.scoreRightGoal,null,this),this.setupWebSocketListeners(),this.cursors=this.input.keyboard.createCursorKeys(),this.ball.setVelocity(this.initialBall.vx,this.initialBall.vy)}setUpPlayers(){"player1"===this.playerRole?(this.localPaddle=new Paddle(this,"player1",50,300),this.remotePaddle=new Paddle(this,"player2",750,300)):(this.localPaddle=new Paddle(this,"player2",750,300),this.remotePaddle=new Paddle(this,"player1",50,300))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"paddleUpdate":this.remotePaddle.sprite.y=e.y;break;case"scoreUpdate":this.localScore="player1"===this.playerRole?e.player1Score:e.player2Score,this.remoteScore="player1"===this.playerRole?e.player2Score:e.player1Score,this.scoreLeft.setText(e.player1Score.toString()),this.scoreRight.setText(e.player2Score.toString()),this.ball.setVelocity(0,0),this.ball.setPosition(400,300);break;case"ballRelaunch":this.ball.setPosition(e.ball.x,e.ball.y),this.ball.setVelocity(e.ball.vx,e.ball.vy);break;case"gameOver":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}scoreLeftGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"left"})}scoreRightGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"right"})}endGame(e,t,s){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause();const i="player1"===e&&"player1"===this.playerRole||"player2"===e&&"player2"===this.playerRole,o=i?"You Win!":"You Lose!",n=i?"#00ff00":"#ff0000";this.add.text(400,200,o,{fontSize:"64px",color:n}).setOrigin(.5),this.add.text(400,280,`Final Score: ${t} - ${s}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),this.createMenuButton()}handleDisconnection(){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause(),this.add.text(400,250,"Opponent Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball-multi",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball-multi"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.leftGoal=this.physics.add.sprite(0,300,null),this.leftGoal.setDisplaySize(10,600),this.leftGoal.body.setSize(10,600),this.leftGoal.setImmovable(!0),this.leftGoal.setVisible(!1),this.rightGoal=this.physics.add.sprite(800,300,null),this.rightGoal.setDisplaySize(10,600),this.rightGoal.body.setSize(10,600),this.rightGoal.setImmovable(!0),this.rightGoal.setVisible(!1)}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){if(this.gameEnded)return;let e=null;e=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":"stop","up"===e?this.localPaddle.sprite.setVelocityY(-300):"down"===e?this.localPaddle.sprite.setVelocityY(300):this.localPaddle.sprite.setVelocityY(0),this.sendMessage({type:"paddleMove",y:this.localPaddle.sprite.y})}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}const m={type:e.AUTO,width:1e3,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,h,l,c,d,p,u,f],backgroundColor:"#1a1a2e"},y=new e.Game(m);t.addListener(e=>{if(!e.connected)try{const e=y.scene.getScene("ConnectionLostScene");if(e&&e.scene.isActive())return;const t=y.scene.getScenes(!0).filter(e=>e.scene&&e.scene.key&&"ConnectionLostScene"!==e.scene.key).map(e=>e.scene.key);t.forEach(e=>{try{y.scene.pause(e)}catch(t){console.warn(`[Main] Unable to pause scene ${e}:`,t)}}),y.scene.start("ConnectionLostScene",{previousScenes:t})}catch(e){console.error("[Main] Error handling connection loss:",e)}})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUFJRCxHQUFhQSxFQUFVclksTUFBTVMsV0FDL0IsT0FJRixNQUNNOFgsRUFEZS9aLEVBQUt3QixNQUFNd1ksV0FBVSxHQUV2QzFILE9BQU8ySCxHQUFLQSxFQUFFelksT0FBU3lZLEVBQUV6WSxNQUFNbVQsS0FBdUIsd0JBQWhCc0YsRUFBRXpZLE1BQU1tVCxLQUM5Q3VGLElBQUlELEdBQUtBLEVBQUV6WSxNQUFNbVQsS0FFcEJvRixFQUFhN2EsUUFBUXlWLElBQ25CLElBQ0UzVSxFQUFLd0IsTUFBTTBNLE1BQU15RyxFQUNuQixDQUFFLE1BQU96TyxHQUNQMUksUUFBUTJJLEtBQUssZ0NBQWdDd08sS0FBUXpPLEVBQ3ZELElBSUZsRyxFQUFLd0IsTUFBTUMsTUFBTSxzQkFBdUIsQ0FBRXFTLGVBQWdCaUcsR0FDNUQsQ0FBRSxNQUFPSSxHQUNQM2MsUUFBUWtCLE1BQU0seUNBQTBDeWIsRUFDMUQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWNlL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvZW50aXRpZXMvUG9tLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QaW4uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9TZXR0aW5nc1NjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbQ29ubmVjdGlvbk1hbmFnZXJdIENoZWNraW5nIGNvbm5lY3Rpb24uLi4nKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tDb25uZWN0aW9uTWFuYWdlcl0gUmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ29ubmVjdGlvbk1hbmFnZXJdIENvbm5lY3RlZCB1c2VyczonLCBkYXRhLmNvbm5lY3RlZCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ29ubmVjdGlvbk1hbmFnZXJdIFJlc3BvbnNlIG5vdCBPSywgc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbQ29ubmVjdGlvbk1hbmFnZXJdIEVycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG4gICAgICAgIC8vIElNw4FHRU5FU1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdUaXR1bG8nLCAnYXNzZXRzL0JvY2V0b3MvSW5pY2lvLnBuZycpOyAvLyBmb25kbyh0aXR1bG8pIFxyXG5cclxuICAgICAgICAvLyBTT05JRE9TXHJcbiAgdGhpcy5sb2FkLmF1ZGlvKCdNdXNpY2FfbWVudScsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9JdHMgU2FmZSBOb3cubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0JvdG9uJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0JvdG9uLm1wMycpOyAgXHJcbn1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIC8vIFNPTklET1MgLSBTaSB5YSBoYXkgbcO6c2ljYSBkZSBtZW7DuiBzb25hbmRvLCByZXV0aWxpemFybGE7IHNpIG5vLCBkZXRlbmVyIHkgY3JlYXJsYVxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBwcm9waWVkYWQgYWRqdW50YSBhbCBvYmpldG8gZ2FtZSBlbiB0aWVtcG8gZGUgZWplY3VjacOzblxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTXVzaWMgPSB0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLm11c2ljYU1lbnU7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nTXVzaWMgJiYgZXhpc3RpbmdNdXNpYy5pc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5tdXNpY2FNZW51ID0gZXhpc3RpbmdNdXNpYztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5tdXNpY2FNZW51ID0gdGhpcy5zb3VuZC5hZGQoJ011c2ljYV9tZW51Jyk7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWNhTWVudS5wbGF5KHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBhw7FhZGltb3MgcHJvcGllZGFkIGFsIG9iamV0byBnYW1lIGVuIHRpZW1wbyBkZSBlamVjdWNpw7NuXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5tdXNpY2FNZW51ID0gdGhpcy5tdXNpY2FNZW51O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnVGl0dWxvJykuc2V0T3JpZ2luKDAsIDApOyAgLy9mb25kbyh0aXR1bG8pXHJcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUodGhpcy5zY2FsZS53aWR0aCwgdGhpcy5zY2FsZS5oZWlnaHQpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgzODAsIDIwMCwgJ01PTEUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgMjAwLCAnSE9MRScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc3MnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMjUzNzU0JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bydcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzIwLCAnTG9jYWwgMiBKdWdhZG9yZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjODkyMzI3JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGxvY2FsQnRuLnNldENvbG9yKCcjMDBmZmY3ZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ0bi5zZXRDb2xvcignIzg5MjMyNycpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuYWRkKCdCb3RvbicpLnBsYXkoKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICAgY29uc3QgY3JlZGl0QnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQyMCwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM4OTIzMjcnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gY3JlZGl0QnRuLnNldENvbG9yKCcjMDBmZmY3ZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjcmVkaXRCdG4uc2V0Q29sb3IoJyM4OTIzMjcnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnQm90b24nKS5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRTY2VuZScpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgIGNvbnN0IHNldHRpbmdzQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDQ3MCwgJ0FqdXN0ZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjODkyMzI3JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHNldHRpbmdzQnRuLnNldENvbG9yKCcjMDBmZmY3ZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBzZXR0aW5nc0J0bi5zZXRDb2xvcignIzg5MjMyNycpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NldHRpbmdzU2NlbmUnLCB7IGZyb206ICdtZW51JyB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDM5MCwgJ011bHRpanVnYWRvciBvbmxpbmUgKG5vIGRpc3BvbmlibGUpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjY2NjYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG5cclxuICAgICAgICAvL09OTElORVxyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzcwLCAnTXVsdGlqdWdhZG9yIGVuIEzDrW5lYScsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvbmxpbmVCdG4uc2V0Q29sb3IoJyMwMGZmZjdmZicpKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb25saW5lQnRuLnNldENvbG9yKCcjODkyMzI3JykpXHJcbiAgICAgICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiBhbCBzZXJ2aWRvclxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MzAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2Vydmlkb3I6ICR7ZGF0YS5jb3VudH0gdXN1YXJpbyhzKSBjb25lY3RhZG8ocylgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2Vydmlkb3I6IERlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGE6IG5vIGRldGVuZXIgbGEgbcO6c2ljYSBhcXXDrSBwYXJhIHF1ZSBzaWdhIHNvbmFuZG8gY3VhbmRvIHZheWFtb3MgYSBBanVzdGVzXHJcbiAgICAgICAgICAgICAgICAvLyBTaSBxdWllcmVzIGRldGVuZXIgbGEgbcO6c2ljYSBhbCBjZXJyYXIgZWwgbWVuw7ogZGUgZm9ybWEgZGVmaW5pdGl2YSwgZGV0w6lubGEgYW50ZXMgZGUgaW5pY2lhciBsYSBudWV2YSBlc2NlbmEgKGVqLiBHYW1lU2NlbmUpLlxyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiIsImV4cG9ydCBjbGFzcyBQb20gZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2Uge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCAnTWFydGlsbG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuXHJcbiAgICAgdGhpcy5zZXRPcmlnaW4oMC41LCAwLjM1KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY2FsZSgxLjApO1xyXG4gICAgICAgIHRoaXMuc2V0RGVwdGgoNSk7XHJcblxyXG4gICAgICAgIHNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gRXN0YWRvXHJcbiAgICAgICAgdGhpcy5pc0hpdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmhpdE9mZnNldCA9IDQ1O1xyXG5cclxuICAgICAgICAvLyBFbCBtYXJ0aWxsbyBzaWd1ZSBhbCByYXTDs25cclxuICAgICAgICBzY2VuZS5pbnB1dC5vbigncG9pbnRlcm1vdmUnLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNIaXR0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnggPSBwb2ludGVyLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSBwb2ludGVyLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgIGhpdCgpIHtcclxuICAgIGlmICh0aGlzLmlzSGl0dGluZykgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuaXNIaXR0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCBzdGFydFggPSB0aGlzLng7XHJcbiAgICBjb25zdCBzdGFydFkgPSB0aGlzLnk7XHJcbiAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5hbmdsZTtcclxuXHJcbiAgICAvLyBEaXJlY2Npw7NuIGRlbCBnb2xwZSBzZWfDum4gZWwgw6FuZ3VsbyBkZWwgbWF6b1xyXG4gICAgY29uc3QgcmFkaWFucyA9IFBoYXNlci5NYXRoLkRlZ1RvUmFkKHN0YXJ0QW5nbGUgKyA5MCk7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuaGl0T2Zmc2V0O1xyXG5cclxuICAgIGNvbnN0IGR4ID0gTWF0aC5jb3MocmFkaWFucykgKiBkaXN0YW5jZTtcclxuICAgIGNvbnN0IGR5ID0gTWF0aC5zaW4ocmFkaWFucykgKiBkaXN0YW5jZTtcclxuXHJcbiAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgIHRhcmdldHM6IHRoaXMsXHJcbiAgICAgICAgeDogc3RhcnRYICsgZHgsXHJcbiAgICAgICAgeTogc3RhcnRZICsgZHksXHJcbiAgICAgICAgYW5nbGU6IHN0YXJ0QW5nbGUgKyAxOCxcclxuICAgICAgICBkdXJhdGlvbjogODAsXHJcbiAgICAgICAgZWFzZTogJ1Bvd2VyMi5JbicsXHJcbiAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcyxcclxuICAgICAgICAgICAgICAgIHg6IHN0YXJ0WCxcclxuICAgICAgICAgICAgICAgIHk6IHN0YXJ0WSxcclxuICAgICAgICAgICAgICAgIGFuZ2xlOiBzdGFydEFuZ2xlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDE0MCxcclxuICAgICAgICAgICAgICAgIGVhc2U6ICdCYWNrLk91dCcsXHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0hpdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxufVxyXG4iLCIvLyAuLi5leGlzdGluZyBjb2RlLi4uXHJcbmV4cG9ydCBjbGFzcyBQaW4ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9wVXBEdXJhdGlvbiA9IDEwMDA7IC8vIG1zIHF1ZSBhcGFyZWNlIGVsIHRvcG9cclxuICAgICAgICB0aGlzLmhlYWx0aCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuaG9sZXMgPSBbXTsgICAgICAgICAgICAvLyBwb3NpY2lvbmVzIHBvc2libGVzXHJcbiAgICAgICAgdGhpcy5jdXJyZW50SG9sZUluZGV4ID0gMDsgIC8vIMOtbmRpY2UgYWN0dWFsXHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgY29vbGRvd24gZW50cmUgbW92aW1pZW50b3NcclxuICAgICAgICB0aGlzLm1vdmVDb29sZG93biA9IDcwMDsgLy8gbXMgYSBlc3BlcmFyIGVudHJlIG1vdmVzIChhanVzdGEgYXF1w60pXHJcbiAgICAgICAgdGhpcy5fbGFzdE1vdmVUaW1lID0gMDtcclxuXHJcbiAgICAgICAgLy8gVXNhciBzcHJpdGUgZGUgYm9qYWNrXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnYm9qYWNrJyk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCgyKTtcclxuXHJcbiAgICAgICAgLy8gVXNhciBzcnBpdGUgZGUgcGluZ29scGVhZG8gcGFyYSBjdWFuZG8gZXMgZ29scGVhZG9cclxuICAgICAgICB0aGlzLmhpdFNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdQaW5nb2xwZWFkbycpO1xyXG4gICAgICAgIHRoaXMuaGl0U3ByaXRlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmhpdFNwcml0ZS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICAvLyBQcmVwYXJhciBjYWxsYmFjayBwZXJvIE5PIGRlamFyIGVsIHNwcml0ZSBpbnRlcmFjdGl2byBtaWVudHJhcyBlc3TDqSBvY3VsdG9cclxuICAgICAgICB0aGlzLl9vbkhpdENhbGxiYWNrID0gKCkgPT4gdGhpcy5oaXQoKTtcclxuICAgICAgICB0aGlzLl9wb2ludGVyUmVnaXN0ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRpc2FibGVJbnRlcmFjdGl2ZSgpOyAvLyBhc2VndXJhciBpbmljaW8gbm8gaW50ZXJhY3Rpdm9cclxuICAgIH1cclxuXHJcbiAgICAvLyBFc3RhYmxlY2VyIGxvcyBhZ3VqZXJvcyAoYXJyYXkgZGUge3gseX0pXHJcbiAgICBzZXRIb2xlcyhob2xlcyA9IFtdKSB7XHJcbiAgICAgICAgdGhpcy5ob2xlcyA9IGhvbGVzO1xyXG4gICAgICAgIGlmICh0aGlzLmhvbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRIb2xlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVUb0hvbGUodGhpcy5jdXJyZW50SG9sZUluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTW92ZXIgYWwgdG9wbyBhbCBhZ3VqZXJvIMOtbmRpY2UgKGNvbiB3cmFwKVxyXG4gICAgbW92ZVRvSG9sZShpbmRleCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ob2xlcy5sZW5ndGgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gKHRoaXMuc2NlbmUgJiYgdGhpcy5zY2VuZS50aW1lICYmIHRoaXMuc2NlbmUudGltZS5ub3cpID8gdGhpcy5zY2VuZS50aW1lLm5vdyA6IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMuX2xhc3RNb3ZlVGltZSA8IHRoaXMubW92ZUNvb2xkb3duKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbWFzaWFkYSByYXBpZGV6LCBpZ25vcmFyIG1vdmltaWVudG9cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sYXN0TW92ZVRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudEhvbGVJbmRleCA9IFBoYXNlci5NYXRoLldyYXAoaW5kZXgsIDAsIHRoaXMuaG9sZXMubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmhvbGVzW3RoaXMuY3VycmVudEhvbGVJbmRleF07XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24ocG9zLngsIHBvcy55KTtcclxuXHJcbiAgICAgICAgLy8gU2kgZWwgdG9wbyBlc3RhYmEgdmlzaWJsZSBhbCBtb3ZlcnNlLCBvY3VsdGFybG8gcGFyYSBwZW5hbGl6YXIgY2FtYmlvIHLDoXBpZG9cclxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIHJlbGF0aXZvICgtMSAvICsxKVxyXG4gICAgbW92ZUluZGV4KGRlbHRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhvbGVzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubW92ZVRvSG9sZSh0aGlzLmN1cnJlbnRIb2xlSW5kZXggKyBkZWx0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWwgdG9wbyBzYWxlIGRlbCBhZ3VqZXJvXHJcbiAgICBwb3BVcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFzZWd1cmFyc2UgZGUgZXN0YXIgZW4gZWwgYWd1amVybyBjb3JyZWN0byBhbCBzYWxpclxyXG4gICAgICAgIHRoaXMubW92ZVRvSG9sZSh0aGlzLmN1cnJlbnRIb2xlSW5kZXgpO1xyXG5cclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhlYWx0aCA9IDE7XHJcbiAgICAgICAgdGhpcy5fd2FzSGl0ID0gZmFsc2U7IC8vIHJlc2V0ZWFyIGN1YW5kbyBhcGFyZWNlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQWN0aXZhciBpbnRlcmFjY2nDs24gc29sbyBjdWFuZG8gZXMgdmlzaWJsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuX3BvaW50ZXJSZWdpc3RlcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLm9uKCdwb2ludGVyZG93bicsIHRoaXMuX29uSGl0Q2FsbGJhY2spO1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludGVyUmVnaXN0ZXJlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbWl0aXIgZXZlbnRvIGRlIFwic2FsaWRhXCIgcGFyYSBxdWUgbGEgZXNjZW5hIHB1ZWRhIHJlYWNjaW9uYXIgKGVqLiByZWNvZ2VyIHBvd2VydXApXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMuZW1pdCgndG9wb1BvcHBlZCcsIHtcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgaG9sZUluZGV4OiB0aGlzLmN1cnJlbnRIb2xlSW5kZXgsXHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnNwcml0ZS54LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy5zcHJpdGUueSxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogKHRoaXMuc2NlbmUudGltZSkgPyB0aGlzLnNjZW5lLnRpbWUubm93IDogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIGRlZmVuc2l2bzogbm8gcm9tcGVyIHNpIHNjZW5lLmV2ZW50cyBubyBleGlzdGVcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdFbWl0IHRvcG9Qb3BwZWQgZmFpbGVkJywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbCB0b3BvIHNlIGVzY29uZGUgZGVzcHXDqXMgZGUgY2llcnRvIHRpZW1wb1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aGlzLnBvcFVwRHVyYXRpb24sICgpID0+IHtcclxuICAgICAgICAgICAgLy8gaGlkZSgpIHNlIGVuY2FyZ2Fyw6EgZGUgZW1pdGlyIGV2ZW50byBkZSBcIm1pc3NcIiBzaSBjb3JyZXNwb25kZVxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbCB0b3BvIHNlIGVzY29uZGUgZW4gZWwgYWd1amVyb1xyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oaXRTcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgLy8gRGVzYWN0aXZhciBpbnRlcmFjY2nDs24gY3VhbmRvIGVzdMOhIG9jdWx0b1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEN1YW5kbyBzZSBnb2xwZWEgYWwgdG9wbyAtIHJldG9ybmEgdHJ1ZSBzaSBmdWUgZ29scGVhZG9cclxuICAgIGhpdCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5oZWFsdGggLT0gMTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmYwMDAwKTsgLy8gUGFycGFkZWEgcm9qbyBcclxuICAgICAgICB0aGlzLmhpdFNwcml0ZS5zZXRQb3NpdGlvbih0aGlzLnNwcml0ZS54LCB0aGlzLnNwcml0ZS55KTtcclxuICAgICAgICB0aGlzLmhpdFNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgxMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuY2xlYXJUaW50KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhlYWx0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSW5kaWNhciBxdWUgZnVlIGdvbHBlYWRvXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldGVhciBlbCB0b3BvXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmhlYWx0aCA9IDE7XHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0UGxheWVycyhwbGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgIH1cclxuXHJcbiAgICBzZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICAgICAgLy8gU2VudCBvdmVyIHRoZSB3ZWJzb2NrZXRcclxuICAgIH1cclxufSIsIi8vIHNyYy9zY2VuZXMvR2FtZVNjZW5lLmpzXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUG9tIH0gZnJvbSAnLi4vZW50aXRpZXMvUG9tJztcclxuaW1wb3J0IHsgUGluIH0gZnJvbSAnLi4vZW50aXRpZXMvUGluJztcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBQYXVzZUdhbWVDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvUHVhc2VHYW1lQ29tbWFuZCc7XHJcblxyXG5jb25zdCBQT1dFUlVQX0NMT0NLID0gJ2Nsb2NrJztcclxuY29uc3QgUE9XRVJVUF9USEVSTU9NRVRFUiA9ICd0aGVybW9tZXRlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBHYW1lIHN0YXRlXHJcbiAgICB0aGlzLnRpbWVMZWZ0ID0gNjA7IC8vIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBTY29yZXNcclxuICAgIHRoaXMucHVudG9zUGxheWVyMSA9IDA7IC8vIFBvbVxyXG4gICAgdGhpcy5wdW50b3NQbGF5ZXIyID0gMDsgLy8gUGluXHJcblxyXG4gICAgLy8gUG93ZXJ1cCBjb25maWcgJiBzdGF0ZVxyXG4gICAgdGhpcy5wb3dlcnVwQW1vdW50ID0gMjA7XHJcbiAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMSA9IDM7XHJcbiAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMiA9IDM7XHJcbiAgICB0aGlzLnBvd2VydXBTdG9yZWRQMSA9IFtdO1xyXG4gICAgdGhpcy5wb3dlcnVwU3RvcmVkUDIgPSBbXTtcclxuICAgIHRoaXMucG93ZXJ1cHNVc2VkUDEgPSAwO1xyXG4gICAgdGhpcy5wb3dlcnVwc1VzZWRQMiA9IDA7XHJcbiAgICB0aGlzLnBvd2VydXBzVVNBRE9TUDEgPSAwO1xyXG4gICAgdGhpcy5wb3dlcnVwc1VTQURPU1AyID0gMDtcclxuXHJcbiAgICB0aGlzLnBvd2VydXAgPSBudWxsO1xyXG4gICAgdGhpcy5wb3dlcnVwSG9sZUluZGV4ID0gLTE7XHJcbiAgICB0aGlzLnBvd2VydXBEdXJhdGlvbiA9IDUwMDA7XHJcbiAgICB0aGlzLnBvd2VydXBTcGF3bk1pbiA9IDQwMDA7XHJcbiAgICB0aGlzLnBvd2VydXBTcGF3bk1heCA9IDEyMDAwO1xyXG5cclxuICAgIC8vIFRoZXJtb21ldGVyIGVmZmVjdFxyXG4gICAgdGhpcy50aGVybW9tZXRlckVmZmVjdEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5waW5CbG9ja2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLnRoZXJtb21ldGVyVGltZXIgPSBudWxsO1xyXG5cclxuICAgIC8vIHRpbWVycyAvIHJlZmVyZW5jZXNcclxuICAgIHRoaXMudG9wb1RpbWVyID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZVRpbWVyID0gbnVsbDtcclxuXHJcbiAgICAvL0NvbW1hbmRcclxuICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICB9XHJcblxyXG4gIHByZWxvYWQoKSB7XHJcbiAgICAvLyBJTcOBR0VORVNcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL2ZvbmRvX2dhbWUucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ01hcnRpbGxvJywgJ2Fzc2V0cy9tYXpvLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdib2phY2snLCAnYXNzZXRzL3Bpbi5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnUGluZ29scGVhZG8nLCAnYXNzZXRzL3BpbmdvbHBlYWRvLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdyZWxvaicsICdhc3NldHMvcmVsb2oucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FndWplcm8nLCAnYXNzZXRzL2FndWplcm8ucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ3Rlcm1vbWV0cm8nLCAnYXNzZXRzL3Rlcm1vbWV0cm8ucG5nJyk7XHJcblxyXG4gICAgLy8gU09OSURPU1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdNdXNpY2Ffbml2ZWwnLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvSHlkcm9nZW4ubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0Nhc3RvcicsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9DYXN0b3IubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0dvbHBlJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0dvbHBlLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdGaW5fcGFydGlkYScsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9NaWFtaS5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvX21hcnRpbGxvJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL01hcnRpbGxvX2p1ZXoubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0JvdG9uJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0JvdG9uLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdGcmlvJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL1RlbWJsZXF1ZS5tcDMnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIC8vIEJhY2tncm91bmQgJiBVSSBjb250YWluZXJcclxuICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDMwMCwgMTAwMCwgNjAwLCAweDFhMWEyZSk7XHJcbiAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwLCAwKTtcclxuICAgIGJnLnNldERpc3BsYXlTaXplKHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0KTtcclxuXHJcbiAgICB0aGlzLmFkZC5pbWFnZSgyMDAsIDQ4MCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoMzIwLCAzMjAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuICAgIHRoaXMuYWRkLmltYWdlKDQ0MCwgNDgwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcbiAgICB0aGlzLmFkZC5pbWFnZSg1NjAsIDMyMCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoNjgwLCA0ODAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuICAgIHRoaXMuYWRkLmltYWdlKDgwMCwgMzIwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgLy8gU29uaWRvIGRlIGZvbmRvXHJcbiAgIHRoaXMubXVzaWNhTml2ZWwgPSB0aGlzLnNvdW5kLmFkZCgnTXVzaWNhX25pdmVsJyk7XHJcbnRoaXMubXVzaWNhTml2ZWwucGxheSh7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG5cclxuXHJcblxyXG4gICAgLy8gQ3Vyc29yOiBvY3VsdGFtb3MgcG9yIGRlZmVjdG87IGxhIGVudGlkYWQgUG9tIHB1ZWRlIG1vc3RyYXIgc3UgcHJvcGlvIHNwcml0ZVxyXG4gICAgdGhpcy5pbnB1dC5tb3VzZS5kaXNhYmxlQ29udGV4dE1lbnUoKTtcclxuICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xyXG5cclxuICAgIC8vIE1hcnRpbGxvIHF1ZSBzaWd1ZSBhbCByYXTDs24gKFBvbSlcclxuICB0aGlzLm1hcnRpbGxvID0gbmV3IFBvbShcclxuICB0aGlzLFxyXG4gICdNYXJ0aWxsbycsXHJcbiAgdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLngsXHJcbiAgdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLnlcclxuKTtcclxuXHJcblxyXG4gIFxyXG5cclxuICAgIC8vIFNjb3JlcyBhcnJpYmEgYSBsYSBpenF1aWVyZGEgeSBkZXJlY2hhXHJcbiAgICB0aGlzLnNjb3JlUGxheWVyMSA9IHRoaXMuYWRkLnRleHQoODAsIDUwLCAnUG9tOiAwJywge1xyXG4gICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICBjb2xvcjogJyM2YTdjYjRmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMCwgMCk7XHJcblxyXG4gICAgdGhpcy5zY29yZVBsYXllcjIgPSB0aGlzLmFkZC50ZXh0KDg1MCwgNTAsICdQaW46IDAnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzllNGI0YmZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLCAwKTtcclxuXHJcbiAgICAvLyBUaW1lciBhYmFqbyBhIGxhIGRlcmVjaGFcclxuICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dChcclxuICAgICAgdGhpcy5zY2FsZS53aWR0aCAtIDIwLFxyXG4gICAgICB0aGlzLnNjYWxlLmhlaWdodCAtIDIwLFxyXG4gICAgICB0aGlzLmZvcm1hdFRpbWUodGhpcy50aW1lTGVmdCksXHJcbiAgICAgIHsgZm9udFNpemU6ICc0MHB4Jyxmb250U3R5bGU6ICdib2xkJywgY29sb3I6ICcjZmZmZmZmZmYnLCBmb250RmFtaWx5OiAnQXJpYWwnIH1cclxuICAgICkuc2V0T3JpZ2luKDEsIDEpO1xyXG5cclxuICAgIC8vIFBvd2VydXAgVUlcclxuICAgIHRoaXMucG93ZXJ1cFRleHRQMSA9IHRoaXMuYWRkLnRleHQoODAsIDgwLCBgUDEgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDF9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkUDF9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBjb2xvcjogJyM2YTdjYjRmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMCwgMCk7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwVGV4dFAyID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoICsgMjAsIDgwLCBgUDIgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDJ9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkUDJ9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBjb2xvcjogJyM5ZTRiNGJmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMS41LCAwKTtcclxuXHJcbiAgICAvLyBUZWNsYXM6IHNvbG8gc2UgY3JlYW4gdW5hIHZlelxyXG4gICAgdGhpcy5rZXlzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgb25lOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuT05FLFxyXG4gICAgICB0d286IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5UV08sXHJcbiAgICAgIHRocmVlOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVEhSRUUsXHJcbiAgICAgIGZvdXI6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5GT1VSLFxyXG4gICAgICBmaXZlOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRklWRSxcclxuICAgICAgc2l4OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuU0lYLFxyXG4gICAgICBlc2M6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MsXHJcbiAgICAgIHNwYWNlOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuU1BBQ0VcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJlc3VtZSBoYW5kbGVyIChjdWFuZG8gdnVlbHZlcyBkZXNkZSBwYXVzYSlcclxuICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCB0aGlzLm9uUmVzdW1lLCB0aGlzKTtcclxuXHJcbiAgICAvLyBDcmVhciB0b3BvIChQaW4pXHJcbiAgICB0aGlzLmNyZWF0ZVRvcG9zKCk7XHJcblxyXG4gICAgLy8gU3RhcnQgcG93ZXJ1cCBzcGF3bnNcclxuICAgIHRoaXMuc2NoZWR1bGVOZXh0UG93ZXJ1cCgpO1xyXG5cclxuICAgIC8vIEV2ZW50byB0b3BvIHBvcHBlZDogcmVjb2dlIGVsIHBvd2VydXAgYXV0b23DoXRpY2FtZW50ZSBwYXJhIFAyIHNpIGNvaW5jaWRlXHJcbiAgICB0aGlzLmV2ZW50cy5vZmYoJ3RvcG9Qb3BwZWQnKTsgLy8gYXNlZ3VyYW1vcyBxdWUgbm8gaGF5YSBkdXBsaWNhZG9zXHJcbiAgICB0aGlzLmV2ZW50cy5vbigndG9wb1BvcHBlZCcsIChkYXRhID0ge30pID0+IHtcclxuICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICBpZiAodGhpcy5wb3dlcnVwICYmIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9PT0gZGF0YS5ob2xlSW5kZXgpIHtcclxuICAgICAgICAvLyBTaSBlbCB0b3BvIGFwYXJlY2UgZXhhY3RhbWVudGUgZW4gZWwgcG93ZXJ1cCAtPiBzZSByZWNvZ2UgcGFyYSBQMiAoUGluKVxyXG4gICAgICAgIHRoaXMucGlja3VwUG93ZXJ1cEJ5UGxheWVyKDIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJbnB1dCBwb2ludGVyOiBtYW5lamFkb3Igw7puaWNvXHJcbiAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyKSA9PiB0aGlzLmhhbmRsZVBvaW50ZXJEb3duKHBvaW50ZXIpKTtcclxuXHJcbiAgICAvLyBUaW1lciBjdWVudGEgYXRyw6FzXHJcbiAgICB0aGlzLmdhbWVUaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgIGRlbGF5OiAxMDAwLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgICB0aGlzLnRpbWVMZWZ0LS07XHJcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dCh0aGlzLmZvcm1hdFRpbWUodGhpcy50aW1lTGVmdCkpO1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVMZWZ0IDw9IDApIHtcclxuICAgICAgICAgIHRoaXMuZW5kUm91bmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFzZWd1cmFtb3MgcXVlIGxvcyB0ZXh0b3MgeSBVSSBlc3TDqW4gc2luY3Jvbml6YWRvc1xyXG4gICAgdGhpcy51cGRhdGVTY29yZVVJKCk7XHJcbiAgICB0aGlzLnVwZGF0ZVBvd2VydXBVSSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEhlbHBlcjogcG9pbnRlciBoYW5kbGVyXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGhhbmRsZVBvaW50ZXJEb3duKHBvaW50ZXIpIHtcclxuICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpc0xlZnQgPSBwb2ludGVyLmJ1dHRvbiA9PT0gMCB8fCAocG9pbnRlci5ldmVudCAmJiBwb2ludGVyLmV2ZW50LmJ1dHRvbiA9PT0gMCk7XHJcbiAgICBjb25zdCBpc1JpZ2h0ID0gcG9pbnRlci5idXR0b24gPT09IDIgfHwgKHBvaW50ZXIuZXZlbnQgJiYgcG9pbnRlci5ldmVudC5idXR0b24gPT09IDIpO1xyXG5cclxuICAgIC8vIFNpIGhheSBwb3dlcnVwIHkgc2UgY2xpY2tlYSBzb2JyZSDDqWxcclxuICAgIGlmICh0aGlzLnBvd2VydXAgJiYgdGhpcy5wb3dlcnVwLnNwcml0ZSkge1xyXG4gICAgICBjb25zdCBwQm91bmRzID0gdGhpcy5wb3dlcnVwLnNwcml0ZS5nZXRCb3VuZHMoKTtcclxuICAgICAgaWYgKHBCb3VuZHMgJiYgcEJvdW5kcy5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSkpIHtcclxuICAgICAgICBpZiAoaXNMZWZ0KSB7XHJcbiAgICAgICAgICB0aGlzLnBpY2t1cFBvd2VydXBCeVBsYXllcigxKTsgLy8gUGluIHJlY29nZSBjb24gTE1CXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1JpZ2h0KSB7XHJcbiAgICAgICAgICAvLyBTaSBlbCB0b3BvIGVzdMOhIGVuIGVsIG1pc21vIGFndWplcm8sIFAyIHB1ZWRlIHJlY29nZXIgY29uIFJNQlxyXG4gICAgICAgICAgaWYgKHRoaXMudG9wbyAmJiB0aGlzLnBvd2VydXBIb2xlSW5kZXggPT09IHRoaXMudG9wby5jdXJyZW50SG9sZUluZGV4KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGlja3VwUG93ZXJ1cEJ5UGxheWVyKDIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpIHNlIGhhY2UgUk1CIGVuIG90cm8gc2l0aW86IHVzYXIgcG93ZXJ1cCBQMSAoUG9tKVxyXG4gICAgaWYgKGlzUmlnaHQpIHtcclxuICAgICAgdGhpcy51c2VQb3dlcnVwQnlQbGF5ZXIoMSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTaSBMTUI6IGludGVudGFyIGdvbHBlYXIgdG9wbyAoc2kgZXN0w6EgYWN0aXZvKSDigJQgc2kgZmFsbGFzLCBwdW50byBwYXJhIGp1Z2Fkb3IgMiAoUG9tKVxyXG4gICAgaWYgKGlzTGVmdCkge1xyXG5cclxuICAvLyBhbmltYWNpw7NuIGRlbCBtYXJ0aWxsbyBTSUVNUFJFIHF1ZSBzZSBnb2xwZWFcclxuICBpZiAodGhpcy5tYXJ0aWxsbykge1xyXG4gICAgdGhpcy5tYXJ0aWxsby5oaXQoKTtcclxuICB9XHJcblxyXG4gIGlmICghdGhpcy50b3BvIHx8ICF0aGlzLnRvcG8uc3ByaXRlKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGJvdW5kcyA9IHRoaXMudG9wby5zcHJpdGUuZ2V0Qm91bmRzKCk7XHJcbiAgY29uc3Qgc21hbGxlckJvdW5kcyA9IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoXHJcbiAgICBib3VuZHMueCArIGJvdW5kcy53aWR0aCAqIDAuMjUsXHJcbiAgICBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQgKiAwLjI1LFxyXG4gICAgYm91bmRzLndpZHRoICogMC41LFxyXG4gICAgYm91bmRzLmhlaWdodCAqIDAuNVxyXG4gICk7XHJcbiAgY29uc3QgY2xpY2tlZFRvcG8gPSBzbWFsbGVyQm91bmRzLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuXHJcbiAgaWYgKGNsaWNrZWRUb3BvICYmIHRoaXMudG9wby5pc0FjdGl2ZSkge1xyXG4gICAgLy8gR29scGUgZXhpdG9zb1xyXG4gICAgdGhpcy5wdW50b3NQbGF5ZXIxICs9IDE7XHJcbiAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuICAgIHRoaXMudG9wby5oaWRlKCk7XHJcbiAgICB0aGlzLnNvdW5kLnBsYXkoJ0dvbHBlJyk7XHJcbiAgICB0aGlzLnNvdW5kLnBsYXkoJ0Nhc3RvcicpO1xyXG4gICAgdGhpcy5jYW1lcmFzLm1haW4uc2hha2UoMjAwLCAwLjAxKTtcclxuICAgIHJldHVybjtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gRmFsbG9cclxuICAgIGlmICghdGhpcy5waW5CbG9ja2VkKSB7XHJcbiAgICAgIHRoaXMucHVudG9zUGxheWVyMiArPSAxO1xyXG4gICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuICAgICAgdGhpcy5zb3VuZC5wbGF5KCdTb25pZG9fbWFydGlsbG8nKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuICB9XHJcblxyXG4gIFxyXG4gIGNyZWF0ZVRvcG9zKCkge1xyXG4gICAgdGhpcy50b3BvSG9sZXMgPSBbXHJcbiAgICAgIHsgeDogMjAwLCB5OiA0ODAgfSxcclxuICAgICAgeyB4OiAzMjAsIHk6IDMyMCB9LFxyXG4gICAgICB7IHg6IDQ0MCwgeTogNDgwIH0sXHJcbiAgICAgIHsgeDogNTYwLCB5OiAzMjAgfSxcclxuICAgICAgeyB4OiA2ODAsIHk6IDQ4MCB9LFxyXG4gICAgICB7IHg6IDgwMCwgeTogMzIwIH1cclxuICAgIF07XHJcblxyXG4gICAgdGhpcy50b3BvID0gbmV3IFBpbih0aGlzLCAwLCB0aGlzLnRvcG9Ib2xlc1swXS54LCB0aGlzLnRvcG9Ib2xlc1swXS55KTtcclxuICAgIHRoaXMudG9wby5zZXRIb2xlcyh0aGlzLnRvcG9Ib2xlcyk7XHJcblxyXG4gICAgLy8gRWwgUGluICh0b3BvKSBkZWJlIG1hbmVqYXIgc3UgcHJvcGlvIHBvaW50ZXJkb3duOyBsbyBjb25lY3RhbW9zIGFxdcOtIGRlIGZvcm1hIHNlZ3VyYTpcclxuICAgIHRoaXMudG9wby5zcHJpdGUuc2V0SW50ZXJhY3RpdmUoKTtcclxuICAgIHRoaXMudG9wby5zcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIGlmICh0aGlzLnRvcG8uaXNBY3RpdmUgJiYgIXRoaXMucGluQmxvY2tlZCkge1xyXG4gICAgICAgIC8vIEdvbHBlIGV4aXRvc28gLT4gcHVudG8gcGFyYSBqdWdhZG9yIDEgKFBvbSlcclxuICAgICAgICB0aGlzLnB1bnRvc1BsYXllcjEgKz0gMTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFyIGVsIG1hcnRpbGxvIGN1YW5kbyBnb2xwZWFcclxuICAgICAgICBpZiAodGhpcy5tYXJ0aWxsbykge1xyXG4gICAgICAgICAgdGhpcy5tYXJ0aWxsby5oaXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE9jdWx0YSB0b3BvLCByZXByb2R1Y2Ugc29uaWRvcyB5IGVmZWN0b1xyXG4gICAgICAgIHRoaXMudG9wby5oaWRlKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdHb2xwZScpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnQ2FzdG9yJyk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNoYWtlKDIwMCwgMC4wMSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRpbWVyIGRlIGFwYXJpY2nDs24gZGVsIHRvcG8gKHBvcFVwIGNhZGEgWCBtcyBzaSBlc3TDoSBlc2NvbmRpZG8pXHJcbiAgICB0aGlzLnRvcG9UaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgIGRlbGF5OiAxNTAwLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgICBpZiAoIXRoaXMudG9wby5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgdGhpcy50b3BvLnBvcFVwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIFxyXG4gIC8vIFBvd2VydXBzXHJcblxyXG4gIHNjaGVkdWxlTmV4dFBvd2VydXAoKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5wb3dlcnVwKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5wb3dlcnVwTWF4U3RvcmVkUDEgPD0gMCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cE1heFN0b3JlZFAyIDw9IDApIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBkZWxheSA9IFBoYXNlci5NYXRoLkJldHdlZW4odGhpcy5wb3dlcnVwU3Bhd25NaW4sIHRoaXMucG93ZXJ1cFNwYXduTWF4KTtcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChkZWxheSwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIHRoaXMuc3Bhd25Qb3dlcnVwQXRSYW5kb21Ib2xlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNwYXduUG93ZXJ1cEF0UmFuZG9tSG9sZSgpIHtcclxuICAgIGlmICghdGhpcy50b3BvSG9sZXMgfHwgIXRoaXMudG9wb0hvbGVzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGluZGV4ID0gUGhhc2VyLk1hdGguQmV0d2VlbigwLCB0aGlzLnRvcG9Ib2xlcy5sZW5ndGggLSAxKTtcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMudG9wb0hvbGVzW2luZGV4XTtcclxuXHJcbiAgICAvLyBFbGVnaXIgdGlwbyBhbGVhdG9yaWFtZW50ZVxyXG4gICAgY29uc3QgcG93ZXJ1cFR5cGVzID0gW1BPV0VSVVBfQ0xPQ0ssIFBPV0VSVVBfVEhFUk1PTUVURVJdO1xyXG4gICAgdGhpcy5jdXJyZW50UG93ZXJ1cFR5cGUgPSBwb3dlcnVwVHlwZXNbUGhhc2VyLk1hdGguQmV0d2VlbigwLCBwb3dlcnVwVHlwZXMubGVuZ3RoIC0gMSldO1xyXG5cclxuICAgIGxldCBzcHJpdGVLZXk7XHJcbiAgICBsZXQgc2NhbGUgPSAwLjE1OyAvLyBlc2NhbGEgcG9yIGRlZmVjdG8gcGFyYSByZWxvalxyXG4gICAgaWYgKHRoaXMuY3VycmVudFBvd2VydXBUeXBlID09PSBQT1dFUlVQX0NMT0NLKSB7XHJcbiAgICAgIHNwcml0ZUtleSA9ICdyZWxvaic7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFBvd2VydXBUeXBlID09PSBQT1dFUlVQX1RIRVJNT01FVEVSKSB7XHJcbiAgICAgIHNwcml0ZUtleSA9ICd0ZXJtb21ldHJvJztcclxuICAgICAgc2NhbGUgPSAwLjMwOyAvLyBlc2NhbGEgbcOhcyBncmFuZGUgcGFyYSB0ZXJtw7NtZXRyb1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucG93ZXJ1cCA9IHRoaXMuYWRkLmltYWdlKHBvcy54LCBwb3MueSAtIDEwLCBzcHJpdGVLZXkpLnNldFNjYWxlKHNjYWxlKS5zZXREZXB0aCg4KTtcclxuXHJcbiAgICB0aGlzLnBvd2VydXBIb2xlSW5kZXggPSBpbmRleDtcclxuICAgIHRoaXMucG93ZXJ1cC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgLy8gRXZlbnRvIGNsaWNrIGVuIHBvd2VydXA6IEp1Z2Fkb3IgMSAoUGluKSAoTE1CKSByZWNvZ2VcclxuICAgIHRoaXMucG93ZXJ1cC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IGlzTGVmdCA9IHBvaW50ZXIuYnV0dG9uID09PSAwIHx8IChwb2ludGVyLmV2ZW50ICYmIHBvaW50ZXIuZXZlbnQuYnV0dG9uID09PSAwKTtcclxuICAgICAgaWYgKGlzTGVmdCkge1xyXG4gICAgICAgIHRoaXMucGlja3VwUG93ZXJ1cEJ5UGxheWVyKDEpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnQm90b24nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZmxvdGFjacOzbiBzdXRpbFxyXG4gICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgdGFyZ2V0czogdGhpcy5wb3dlcnVwLFxyXG4gICAgICB5OiBwb3MueSAtIDE2LFxyXG4gICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICByZXBlYXQ6IC0xLFxyXG4gICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBleHBpcmFjacOzbiBkZWwgcG93ZXJ1cFxyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKHRoaXMucG93ZXJ1cER1cmF0aW9uLCAoKSA9PiB7XHJcbiAgICAgIGlmICghdGhpcy5wb3dlcnVwKSByZXR1cm47XHJcbiAgICAgIHRoaXMucG93ZXJ1cC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMucG93ZXJ1cCA9IG51bGw7XHJcbiAgICAgIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9IC0xO1xyXG4gICAgICB0aGlzLnNjaGVkdWxlTmV4dFBvd2VydXAoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcGlja3VwUG93ZXJ1cEJ5UGxheWVyKHBsYXllcklkKSB7XHJcbiAgICBpZiAoIXRoaXMucG93ZXJ1cCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIFRlcm3Ds21ldHJvIHNvbG8gcHVlZGUgc2VyIHJlY29naWRvIHBvciBQb20gKFAyKVxyXG4gICAgaWYgKHRoaXMuY3VycmVudFBvd2VydXBUeXBlID09PSBQT1dFUlVQX1RIRVJNT01FVEVSICYmIHBsYXllcklkICE9PSAyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHBsYXllcklkID09PSAxKSB7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBzVXNlZFAxID49IDMpIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAxLmxlbmd0aCA+PSB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB0aGlzLnBvd2VydXBTdG9yZWRQMS5wdXNoKHRoaXMuY3VycmVudFBvd2VydXBUeXBlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBzVXNlZFAyID49IDMpIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAyLmxlbmd0aCA+PSB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB0aGlzLnBvd2VydXBTdG9yZWRQMi5wdXNoKHRoaXMuY3VycmVudFBvd2VydXBUeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTb25pZG8gYWwgcmVjb2dlciBwb3dlcnVwXHJcbiAgICBpZiAodGhpcy5zb3VuZC5nZXQoJ0JvdG9uJykpIHRoaXMuc291bmQucGxheSgnQm90b24nKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgVUlcclxuICAgIHRoaXMudXBkYXRlUG93ZXJ1cFVJKCk7XHJcblxyXG4gICAgLy8gRGVzdHJveSBwb3dlcnVwIGFuZCBzY2hlZHVsZSBuZXh0IHNwYXduXHJcbiAgICBpZiAodGhpcy5wb3dlcnVwKSB7XHJcbiAgICAgIHRoaXMucG93ZXJ1cC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMucG93ZXJ1cCA9IG51bGw7XHJcbiAgICAgIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9IC0xO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zY2hlZHVsZU5leHRQb3dlcnVwKCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHVzZVBvd2VydXBCeVBsYXllcihwbGF5ZXJJZCkge1xyXG4gICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGxldCBwb3dlcnVwVHlwZTtcclxuICAgIGlmIChwbGF5ZXJJZCA9PT0gMSkge1xyXG4gICAgICBpZiAodGhpcy5wb3dlcnVwU3RvcmVkUDEubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgcG93ZXJ1cFR5cGUgPSB0aGlzLnBvd2VydXBTdG9yZWRQMS5wb3AoKTtcclxuICAgICAgaWYodGhpcy5wb3dlcnVwTWF4U3RvcmVkUDE+MClcclxuICAgICAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMS0tO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAyLmxlbmd0aCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHBvd2VydXBUeXBlID0gdGhpcy5wb3dlcnVwU3RvcmVkUDIucG9wKCk7XHJcbiAgICAgIGlmKHRoaXMucG93ZXJ1cE1heFN0b3JlZFAyPjApXHJcbiAgICAgICAgdGhpcy5wb3dlcnVwTWF4U3RvcmVkUDItLTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcHBseSBlZmZlY3QgYmFzZWQgb24gdHlwZVxyXG4gICAgaWYgKHBvd2VydXBUeXBlID09PSBQT1dFUlVQX0NMT0NLKSB7XHJcbiAgICAgIC8vIEF1bWVudGFyIHRpZW1wb1xyXG4gICAgICB0aGlzLnRpbWVMZWZ0ICs9IHRoaXMucG93ZXJ1cEFtb3VudDtcclxuICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dCh0aGlzLmZvcm1hdFRpbWUodGhpcy50aW1lTGVmdCkpO1xyXG4gICAgfSBlbHNlIGlmIChwb3dlcnVwVHlwZSA9PT0gUE9XRVJVUF9USEVSTU9NRVRFUikge1xyXG4gICAgICAvLyBBY3RpdmFyIGVmZWN0byBkZWwgdGVybcOzbWV0cm9cclxuICAgICAgdGhpcy50aGVybW9tZXRlckVmZmVjdEFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMucGluQmxvY2tlZCA9IHRydWU7XHJcbiAgICAgIC8vZGV0ZW5lciBlbCB0aWVtcG9cclxuICAgICAgdGhpcy5nYW1lVGltZXIucGF1c2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgIC8vc29uaWRvIGRlIGZyaW9cclxuICAgICAgdGhpcy5zb3VuZC5wbGF5KCdGcmlvJyk7XHJcblxyXG5cclxuXHJcbiAgICAgIC8vIENyZWFyIG92ZXJsYXkgYXp1bCBjbGFybyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKFxyXG4gICAgICAgIHRoaXMuc2NhbGUud2lkdGggLyAyLFxyXG4gICAgICAgIHRoaXMuc2NhbGUuaGVpZ2h0IC8gMixcclxuICAgICAgICB0aGlzLnNjYWxlLndpZHRoLFxyXG4gICAgICAgIHRoaXMuc2NhbGUuaGVpZ2h0LFxyXG4gICAgICAgIDB4ODdDRUVCLCAvLyBTa3kgYmx1ZSAvIGF6dWwgY2xhcm9cclxuICAgICAgICAwLjQgLy8gYWxmYSA0MCUgcGFyYSBxdWUgc2UgdmVhIGRlIGZvbmRvIHBlcm8gdHJhbnNwYXJlbnRlXHJcbiAgICAgICkuc2V0RGVwdGgoMTApOyAvLyBwb3IgZW5jaW1hIGRlIGxhIG1heW9yw61hIGRlIG9iamV0b3MgcGVybyBubyBkZSBVSSBjcsOtdGljYVxyXG4gICAgICBcclxuICAgICAgdGhpcy50aGVybW9tZXRlclRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICBkZWxheTogMTAwMCxcclxuICAgICAgICByZXBlYXQ6IDMsIC8vIDQgdGlja3M6IDAsMSwyLDNcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wdW50b3NQbGF5ZXIyICs9IDI7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNDAwMCwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudGhlcm1vbWV0ZXJFZmZlY3RBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBpbkJsb2NrZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVUaW1lci5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy50aGVybW9tZXRlclRpbWVyKSB7XHJcbiAgICAgICAgICB0aGlzLnRoZXJtb21ldGVyVGltZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgdGhpcy50aGVybW9tZXRlclRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRWxpbWluYXIgZWwgb3ZlcmxheSBhbCB0ZXJtaW5hclxyXG4gICAgICAgIGlmIChvdmVybGF5KSB7XHJcbiAgICAgICAgICBvdmVybGF5LmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZlZWRiYWNrIHZpc3VhbCB5IHNvbm9yb1xyXG4gICAgdGhpcy5jYW1lcmFzLm1haW4uZmxhc2goMTUwLCAxMDAsIDI1NSwgMTAwKTtcclxuICAgIGlmICh0aGlzLnNvdW5kLmdldCgnQm90b24nKSkgdGhpcy5zb3VuZC5wbGF5KCdCb3RvbicpO1xyXG5cclxuICAgIC8vIGFjdHVhbGl6YXIgVUlcclxuICAgIHRoaXMudXBkYXRlUG93ZXJ1cFVJKCk7XHJcblxyXG4gICAgLy8gaW5jcmVtZW50YXIgY29udGFkb3IgZGUgcG93ZXJ1cHMgdXNhZG9zXHJcbiAgICBpZiAocGxheWVySWQgPT09IDEpIHtcclxuICAgICAgdGhpcy5wb3dlcnVwc1VzZWRQMSsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wb3dlcnVwc1VzZWRQMisrO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIFVJIHVwZGF0ZSBoZWxwZXJzXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHVwZGF0ZVNjb3JlVUkoKSB7XHJcbiAgICAvLyBDb25zaXN0ZW5jaWEgY29uIGFzaWduYWNpw7NuOiBQMSA9IFBvbSwgUDIgPSBQaW5cclxuICAgIGlmICh0aGlzLnNjb3JlUGxheWVyMSkgdGhpcy5zY29yZVBsYXllcjEuc2V0VGV4dChgUG9tOiAke3RoaXMucHVudG9zUGxheWVyMX1gKTtcclxuICAgIGlmICh0aGlzLnNjb3JlUGxheWVyMikgdGhpcy5zY29yZVBsYXllcjIuc2V0VGV4dChgUGluOiAke3RoaXMucHVudG9zUGxheWVyMn1gKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvd2VydXBVSSgpIHtcclxuICAgIGlmICh0aGlzLnBvd2VydXBUZXh0UDEpIHRoaXMucG93ZXJ1cFRleHRQMS5zZXRUZXh0KGBQMSBQb3dlcnVwczogJHt0aGlzLnBvd2VydXBTdG9yZWRQMS5sZW5ndGh9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkUDF9YCk7XHJcbiAgICBpZiAodGhpcy5wb3dlcnVwVGV4dFAyKSB0aGlzLnBvd2VydXBUZXh0UDIuc2V0VGV4dChgUDIgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDIubGVuZ3RofS8ke3RoaXMucG93ZXJ1cE1heFN0b3JlZFAyfWApO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEZvcm1hdCB0aW1lIGhlbHBlclxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBmb3JtYXRUaW1lKHNlY29uZHMpIHtcclxuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgcyA9IChzZWNvbmRzICUgNjApLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIHJldHVybiBgJHttfToke3N9YDtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBVcGRhdGUgbG9vcFxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICB1cGRhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcblxyXG4gICAgLy8gTWFuZWpvIHRlY2xhcyAxLTY6IG1vdmVyIHRvcG8gKHNvbG8gc2kgdG9wbyBlc3TDoSBkaXNwb25pYmxlKVxyXG4gICAgaWYgKHRoaXMudG9wbykge1xyXG4gICAgICBpZiAodGhpcy5rZXlzLm9uZS5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDApO1xyXG4gICAgICBpZiAodGhpcy5rZXlzLnR3by5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDEpO1xyXG4gICAgICBpZiAodGhpcy5rZXlzLnRocmVlLmlzRG93bikgdGhpcy50b3BvLm1vdmVUb0hvbGUoMik7XHJcbiAgICAgIGlmICh0aGlzLmtleXMuZm91ci5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDMpO1xyXG4gICAgICBpZiAodGhpcy5rZXlzLmZpdmUuaXNEb3duKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSg0KTtcclxuICAgICAgaWYgKHRoaXMua2V5cy5zaXguaXNEb3duKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSg1KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFU0MgcGFyYSBwYXVzYXJcclxuICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLmVzYykpIHtcclxuICAgICAgaWYgKCF0aGlzLmlzR2FtZU92ZXIpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU1BBQ0UgcGFyYSB1c2FyIHBvd2VydXAgUDJcclxuICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLnNwYWNlKSkge1xyXG4gICAgICB0aGlzLnVzZVBvd2VydXBCeVBsYXllcigyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBFbmQgcm91bmQgKHBhbnRhbGxhIGZpbmFsKVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZW5kUm91bmQoKSB7XHJcbiAgdGhpcy5pc0dhbWVPdmVyID0gdHJ1ZTtcclxuICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAvL3RoaXMuc291bmQucGxheSgnRmluX3BhcnRpZGEnLCB7IHZvbHVtZTogMC41IH0pO1xyXG5cclxuICAvLyBNb3N0cmFyIGN1cnNvclxyXG4gIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICB9XHJcblxyXG4gIC8vIERlc2FjdGl2YXIgaW5wdXQgZ2VuZXJhbFxyXG4gIHRoaXMuaW5wdXQub2ZmKCdwb2ludGVyZG93bicpO1xyXG5cclxuICAvLyBPY3VsdGFyIG1hcnRpbGxvXHJcbiAgaWYgKHRoaXMubWFydGlsbG8gJiYgdGhpcy5tYXJ0aWxsby5zZXRWaXNpYmxlKSB7XHJcbiAgICB0aGlzLm1hcnRpbGxvLnNldFZpc2libGUoZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZW5lciB0aW1lcnNcclxuICBpZiAodGhpcy50b3BvVGltZXIpIHRoaXMudG9wb1RpbWVyLnJlbW92ZShmYWxzZSk7XHJcbiAgaWYgKHRoaXMuZ2FtZVRpbWVyKSB0aGlzLmdhbWVUaW1lci5yZW1vdmUoZmFsc2UpO1xyXG5cclxuICBpZiAodGhpcy50b3BvICYmIHRoaXMudG9wby5zcHJpdGUpIHtcclxuICAgIHRoaXMudG9wby5zcHJpdGUuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICB0aGlzLnRvcG8uaGlkZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29vcmRlbmFkYXNcclxuICBjb25zdCBjeCA9IHRoaXMuc2NhbGUud2lkdGggLyAyO1xyXG4gIGNvbnN0IGN5ID0gdGhpcy5zY2FsZS5oZWlnaHQgLyAyO1xyXG5cclxuICAvLyBQYW5lbFxyXG4gIGNvbnN0IHBhbmVsID0gdGhpcy5hZGQucmVjdGFuZ2xlKGN4LCBjeSwgNzYwLCA0MjAsIDB4MGIxMjIwLCAwLjg4KVxyXG4gICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAuc2V0RGVwdGgoMjAwKTtcclxuICBwYW5lbC5zZXRTdHJva2VTdHlsZSg0LCAweDFmNmZlYik7XHJcbiAgcGFuZWwuc2NhbGUgPSAwLjg1O1xyXG5cclxuICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgdGFyZ2V0czogcGFuZWwsXHJcbiAgICBzY2FsZTogMSxcclxuICAgIGR1cmF0aW9uOiAyMjAsXHJcbiAgICBlYXNlOiAnQmFjay5PdXQnXHJcbiAgfSk7XHJcblxyXG4gIC8vIElNUE9SVEFOVEU6IGVsIHBhbmVsIE5PIGRlYmUgc2VyIGludGVyYWN0aXZvXHJcbiAgcGFuZWwuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG4gIC8vIFdpbm5lciB0ZXh0XHJcbiAgbGV0IHdpbm5lclRleHQgPSAnRW1wYXRlJztcclxuICBpZiAodGhpcy5wdW50b3NQbGF5ZXIxID4gdGhpcy5wdW50b3NQbGF5ZXIyKSB3aW5uZXJUZXh0ID0gJ/Cfj4YgICBHYW5hIEp1Z2Fkb3IgMSAoUG9tKSc7XHJcbiAgZWxzZSBpZiAodGhpcy5wdW50b3NQbGF5ZXIyID4gdGhpcy5wdW50b3NQbGF5ZXIxKSB3aW5uZXJUZXh0ID0gJ/Cfj4YgICBHYW5hIEp1Z2Fkb3IgMiAoUGluKSc7XHJcblxyXG4gIHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMTMwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDI1MCk7XHJcblxyXG4gIHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3kgLSA5MCwgNDIwLCAzLCAweDFmNmZlYilcclxuICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgLnNldERlcHRoKDI1MCk7XHJcblxyXG4gIC8vIFN0YXRzXHJcbiAgdGhpcy5hZGQudGV4dChjeCwgY3kgLSAyMCwgYFAxIChQb20pOiAke3RoaXMucHVudG9zUGxheWVyMX1gLCB7XHJcbiAgICBmb250U2l6ZTogJzI2cHgnLFxyXG4gICAgY29sb3I6ICcjNmM4YmZmJyxcclxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyNTApO1xyXG5cclxuICB0aGlzLmFkZC50ZXh0KGN4LCBjeSArIDIwLCBgUDIgKFBpbik6ICR7dGhpcy5wdW50b3NQbGF5ZXIyfWAsIHtcclxuICAgIGZvbnRTaXplOiAnMjZweCcsXHJcbiAgICBjb2xvcjogJyNmZjZiNmInLFxyXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDI1MCk7XHJcblxyXG4gXHJcblxyXG4gIGNvbnN0IGJ0blcgPSAyNDA7XHJcbiAgY29uc3QgYnRuSCA9IDYyO1xyXG5cclxuICBjb25zdCBjcmVhdGVCdG4gPSAoeCwgeSwgdGV4dCwgYmFzZUNvbG9yLCBob3ZlckNvbG9yLCBjYWxsYmFjaykgPT4ge1xyXG4gICAgLy8gZm9uZG8gdmlzaWJsZVxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgYnRuVywgYnRuSCwgYmFzZUNvbG9yKVxyXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgLnNldFN0cm9rZVN0eWxlKDIsIDB4MGEyNzQwKVxyXG4gICAgICAuc2V0RGVwdGgoMzA1KTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6ICcjMDAxMzFkJyxcclxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMzA2KTtcclxuXHJcbiAgICAvLyBab25hIGludGVyYWN0aXZhIHRyYW5zcGFyZW50ZSBFWEFDVEFNRU5URSBkZWwgbWlzbW8gdGFtYcOxbyBxdWUgZWwgYmdcclxuICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBidG5XLCBidG5ILCAweDAwMDAwMCwgMClcclxuICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgIC5zZXREZXB0aCgzMDcpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZShuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC1idG5XLzIsIC1idG5ILzIsIGJ0blcsIGJ0bkgpLCBQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMpO1xyXG5cclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5LCBbYmcsIGxhYmVsLCBoaXRdKTtcclxuICAgIGNvbnRhaW5lci5zZXRTaXplKGJ0blcsIGJ0bkgpO1xyXG4gICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICBjb250YWluZXIuc2V0RGVwdGgoMzAwKTtcclxuXHJcbiAgICAvLyBIb3ZlciB1c2FuZG8gZWwgaGl0Ym94IChjb2luY2lkZSBzaWVtcHJlIGNvbiBsYSBhcGFyaWVuY2lhKVxyXG4gICAgaGl0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICBiZy5zZXRGaWxsU3R5bGUoaG92ZXJDb2xvcik7XHJcbiAgICAgICAgbGFiZWwuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMua2lsbFR3ZWVuc09mKGJnKTtcclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgdGFyZ2V0czogYmcsXHJcbiAgICAgICAgICBzY2FsZVg6IDEuMDYsXHJcbiAgICAgICAgICBzY2FsZVk6IDEuMDYsXHJcbiAgICAgICAgICBkdXJhdGlvbjogMTIwLFxyXG4gICAgICAgICAgZWFzZTogJ1Bvd2VyMidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgIGJnLnNldEZpbGxTdHlsZShiYXNlQ29sb3IpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKCcjMDAxMzFkJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmtpbGxUd2VlbnNPZihiZyk7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgIHRhcmdldHM6IGJnLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgZHVyYXRpb246IDEyMCxcclxuICAgICAgICAgIGVhc2U6ICdQb3dlcjInXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQuZ2V0KCdCb3RvbicpKSB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYnRuWSA9IGN5ICsgMTIwO1xyXG5cclxuICBjcmVhdGVCdG4oXHJcbiAgICBjeCAtIDE1MCwgXHJcbiAgICBidG5ZLFxyXG4gICAgXCJSZXBldGlyXCIsXHJcbiAgICAweDg4ZTFmZiwgICAgLy8gYmFzZVxyXG4gICAgMHg0ZmIwZmYsICAgIC8vIGhvdmVyXHJcbiAgICAoKSA9PiB0aGlzLnNjZW5lLnJlc3RhcnQoKSxcclxuICAgIFxyXG4gICk7XHJcblxyXG4gIGNyZWF0ZUJ0bihcclxuICAgIGN4ICsgMTUwLFxyXG4gICAgYnRuWSxcclxuICAgIFwiTWVuw7ogUHJpbmNpcGFsXCIsXHJcbiAgICAweGZmZGJhOCwgICAvLyBiYXNlXHJcbiAgICAweGZmYjU3YSwgICAvLyBob3ZlclxyXG4gICAgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJylcclxuICApO1xyXG59XHJcblxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gUmVzdW1lIGhhbmRsZXIgXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIG9uUmVzdW1lKCkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuY2FudmFzICYmIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUpIHtcclxuICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICAvLyByZWFjdGl2YXIgaW5wdXQgcG9pbnRlclxyXG4gICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4gdGhpcy5oYW5kbGVQb2ludGVyRG93bihwb2ludGVyKSk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhID0ge30pIHtcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY3ggPSB3IC8gMjtcclxuICAgICAgICBjb25zdCBjeSA9IGggLyAyO1xyXG5cclxuICAgICAgICB0aGlzLl9wcmV2Q3Vyc29yID0gKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuY2FudmFzICYmIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUpID8gdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgOiAnJztcclxuICAgICAgICBpZiAodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5jYW52YXMgJiYgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG91dGVyQmxvY2tlciA9IHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3ksIHcsIGgsIDB4MDAwMDAwLCAwLjYpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIG91dGVyQmxvY2tlci5zZXRJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgIG91dGVyQmxvY2tlci5zZXREZXB0aCgwKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmFkZC5yZWN0YW5nbGUoY3gsIGN5LCA1NDAsIDQ2MCwgMHgxMTEyMWEpLnNldFN0cm9rZVN0eWxlKDMsIDB4MDBjYzY2KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBwYW5lbC5zZXREZXB0aCgxKTtcclxuXHJcbiAgICAgICAgcGFuZWwuc2NhbGUgPSAwLjk7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogcGFuZWwsIHNjYWxlOiAxLCBkdXJhdGlvbjogMTgwLCBlYXNlOiAnQmFjay5PdXQnIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGN4LCBjeSAtIDE4MCwgJ1BBVVNBRE8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMGNjNjYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3kgLSAxNDAsIDM0MCwgMywgMHgwMGNjNjYpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDIpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bWVCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihjeCwgY3kgLSA0MCwgJ1JFQU5VREFSJywgMHgwMGNjNjYsIDB4NjZmZmIyKTtcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5jcmVhdGVCdXR0b24oY3gsIGN5ICsgNDAsICdNRU7DmiBQUklOQ0lQQUwnLCAweGZmNmI2YiwgMHhmZjlhOWEpO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzQnRuID0gdGhpcy5jcmVhdGVCdXR0b24oY3gsIGN5ICsgMTIwLCAnQUpVU1RFUycsIDB4ZmZmZmZmLCAweGNjY2NjYyk7XHJcblxyXG4gICAgICAgIHJlc3VtZUJ0bi5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgbWVudUJ0bi5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgc2V0dGluZ3NCdG4uc2V0RGVwdGgoMTApO1xyXG4gICAgICAgIHJlc3VtZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9IHRoaXMuX3ByZXZDdXJzb3IgfHwgJ2F1dG8nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5vcmlnaW5hbFNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWVudUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLm9yaWdpbmFsU2NlbmUpIHRoaXMuc2NlbmUuc3RvcChkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNldHRpbmdzQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgIC8vIEluZGljYXIgcXVlIHZlbmltb3MgZGVsIG1lbsO6IGRlIHBhdXNhIHkgcGFzYXIgbGEgZXNjZW5hIG9yaWdpbmFsIHBhcmEgcG9kZXIgcmVhbnVkYXJsYSBhbCB2b2x2ZXJcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NldHRpbmdzU2NlbmUnLCB7IGZyb206ICdwYXVzZScsIG9yaWdpbmFsU2NlbmU6IGRhdGEub3JpZ2luYWxTY2VuZSB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fZXNjSGFuZGxlciA9ICgpID0+IHJlc3VtZUJ0bi5lbWl0KCdwb2ludGVyZG93bicpO1xyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgdGhpcy5fZXNjSGFuZGxlcik7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5jYW52YXMgJiYgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSB0aGlzLl9wcmV2Q3Vyc29yIHx8ICdhdXRvJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZXNjSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vZmYoJ2tleWRvd24tRVNDJywgdGhpcy5fZXNjSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lc2NIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJ1dHRvbih4LCB5LCB0ZXh0LCBub3JtYWxIZXgsIGhvdmVySGV4KSB7XHJcbiAgICBjb25zdCB3aWR0aCA9IDM2MDtcclxuICAgIGNvbnN0IGhlaWdodCA9IDY0O1xyXG4gICAgY29uc3Qgbm9ybWFsQ29sb3IgPSBgIyR7bm9ybWFsSGV4LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpfWA7XHJcbiAgICBjb25zdCBob3ZlckNvbG9yID0gYCMke2hvdmVySGV4LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpfWA7XHJcblxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgxZjIzNDApXHJcbiAgICAgICAgLnNldFN0cm9rZVN0eWxlKDIsIG5vcm1hbEhleClcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmFkZC50ZXh0KDAsIDAsIHRleHQsIHtcclxuICAgICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgIGNvbG9yOiBub3JtYWxDb2xvcixcclxuICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBjb25zdCBidG4gPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSwgW2JnLCBsYWJlbF0pO1xyXG5cclxuICAgIC8vIEVzdGFibGVjZSBlbCB0YW1hw7FvIGRlbCBib3TDs25cclxuICAgIGJ0bi5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgIC8vIEhJVEJPWCBQRVJGRUNUTyBzaW4gb2Zmc2V0cyByYXJvc1xyXG4gICAgYnRuLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICBidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDJmMzQ1OCk7XHJcbiAgICAgICAgYmcuc2V0U3Ryb2tlU3R5bGUoMywgaG92ZXJIZXgpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKGhvdmVyQ29sb3IpO1xyXG4gICAgICAgIGxhYmVsLnNldFNjYWxlKDEuMDUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDFmMjM0MCk7XHJcbiAgICAgICAgYmcuc2V0U3Ryb2tlU3R5bGUoMiwgbm9ybWFsSGV4KTtcclxuICAgICAgICBsYWJlbC5zZXRDb2xvcihub3JtYWxDb2xvcik7XHJcbiAgICAgICAgbGFiZWwuc2V0U2NhbGUoMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGJ0biwgc2NhbGVYOiAwLjk4LCBzY2FsZVk6IDAuOTgsIGR1cmF0aW9uOiA4MCwgeW95bzogdHJ1ZSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBidG47XHJcbn1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG5cclxuICAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRvcycsICdhc3NldHMvRm9uZG9DcmVkaXRvcy5wbmcnKTsgLy8gZm9uZG8odGl0dWxvKSBcclxuICAgICAgICAvLyBTT0xPIFNPTklET1MgKG9wY2lvbmFsKVxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTXVzaWNhX21lbnUnLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvSXRzIFNhZmUgTm93Lm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnQm90b24nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQm90b24ubXAzJyk7ICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ0NyZWRpdG9zJykuc2V0T3JpZ2luKDAsIDApOyAgLy9mb25kbyh0aXR1bG8pXHJcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUodGhpcy5zY2FsZS53aWR0aCwgdGhpcy5zY2FsZS5oZWlnaHQpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gU09OSURPU1xyXG4gICAgICAgIHRoaXMuc291bmQuYWRkKCdNdXNpY2FfbWVudScpLnBsYXkoeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSB9KTtcclxuXHJcbiAgICAgICAgLy8gVMONVFVMT1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCA1MCwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBURVhUTyBERSBDUsOJRElUT1NcclxuICAgICAgICBjb25zdCBjcmVkaXRzVGV4dCA9IGBcclxuRGVzYXJyb2xsYWRvcmVzOlxyXG4tIENyaXN0aWFuIEJvYWJlc1xyXG4tIE5hc3JlZGRpbiBFbCBLaGl5YXQgSW11c2F0aW5cclxuLSBKYWltZSBBbG9uc28gZGVsIFJlYWxcclxuLSBEYXZpZCBNYXJ0w61uZXogR2FyY8OtYVxyXG5BcnRlOiBcclxuLSBEYXZpZCBNYXJ0w61uZXogR2FyY8OtYVxyXG5Tb25pZG9zIHkgTcO6c2ljYTogXHJcbi0gSmFpbWUgQWxvbnNvIGRlbCBSZWFsXHJcblRlc3RlbzogXHJcbi0gQ3Jpc3RpYW4gQm9hYmVzXHJcbi0gTmFzcmVkZGluIEVsIEtoaXlhdCBJbXVzYXRpblxyXG5HcmFjaWFzIHBvciBqdWdhclxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlZGl0cyA9IHRoaXMuYWRkLnRleHQoNDAwLCAyNjAsIGNyZWRpdHNUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDcwMCB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFR3ZWVuOiBwZXF1ZcOxbyBtb3ZpbWllbnRvIGRlICdmbG90YWNpw7NuJyAoYm9iYmluZylcclxuICAgICAgICAvLyBtdWV2ZSBsb3MgY3LDqWRpdG9zIHVub3MgcG9jb3MgcMOteGVsZXMgYXJyaWJhL2FiYWpvIGVuIGJ1Y2xlXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jcmVkaXRzLFxyXG4gICAgICAgICAgICB5OiB0aGlzLmNyZWRpdHMueSAtIDgsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnLFxyXG4gICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xLFxyXG4gICAgICAgICAgICAvLyBsaWdlcmEgdmFyaWFjacOzbiBkZSBpbmljaW8gcGFyYSBubyBzaW5jcm9uaXphciBleGFjdGFtZW50ZSBzaSBoYXkgb3Ryb3Mgb2JqZXRvc1xyXG4gICAgICAgICAgICBkZWxheTogMjAwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCT1TDk04gUEFSQSBWT0xWRVJcclxuICAgICAgICB0aGlzLmxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDUwMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZTE4ZmExZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2ZmZmZmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2UxOGZhMWZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBFbCBtb3ZpbWllbnRvIGRlIGxvcyBjcsOpZGl0b3MgbG8gZ2VzdGlvbmEgZWwgdHdlZW4gY3JlYWRvIGVuIGNyZWF0ZSgpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoJ1NldHRpbmdzU2NlbmUnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZShkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IGN4ID0gdGhpcy5zY2FsZS53aWR0aCAvIDI7XHJcbiAgICBjb25zdCBjeSA9IHRoaXMuc2NhbGUuaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAvLyBEZSBkw7NuZGUgc2UgYWJyacOzIGVzdGUgbWVuw7ogKFwibWVudVwiIHBvciBkZWZlY3RvKS4gU2kgdmllbmUgZGVzZGUgcGF1c2EsIGd1YXJkYW1vcyBsYSBlc2NlbmEgb3JpZ2luYWwgdGFtYmnDqW4uXHJcbiAgICB0aGlzLl9yZXR1cm5UbyA9IGRhdGEuZnJvbSB8fCAnbWVudSc7XHJcbiAgICB0aGlzLl9vcmlnaW5hbFNjZW5lID0gZGF0YS5vcmlnaW5hbFNjZW5lIHx8IG51bGw7XHJcblxyXG4gICAgLy8gRm9uZG8gb3NjdXJvXHJcbiAgICB0aGlzLmFkZC5yZWN0YW5nbGUoY3gsIGN5LCB0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCwgMHgwMDAwMDAsIDAuNik7XHJcblxyXG4gICAgLy8gUGFuZWwgKHJvdW5kZWQgd2l0aCBzaGFkb3cgKyBncmFkaWVudClcclxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig1MjAsIHRoaXMuc2NhbGUud2lkdGggLSA4MCk7XHJcbiAgICBjb25zdCBwYW5lbEhlaWdodCA9IDQyMDtcclxuICAgIGNvbnN0IHBhbmVsWCA9IGN4IC0gcGFuZWxXaWR0aCAvIDI7XHJcbiAgICBjb25zdCBwYW5lbFkgPSBjeSAtIHBhbmVsSGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IHBhbmVsUmFkaXVzID0gMTY7XHJcblxyXG4gICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAvLyBzaGFkb3dcclxuICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjM2KTtcclxuICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KHBhbmVsWCArIDYsIHBhbmVsWSArIDgsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCBwYW5lbFJhZGl1cyk7XHJcbiAgICAvLyBtYWluIGdyYWRpZW50ICh0b3AtPmJvdHRvbSlcclxuICAgIHBhbmVsQmcuZmlsbEdyYWRpZW50U3R5bGUoMHgwYjEyMjAsIDB4MGIxMjIwLCAweDBmMjQzOCwgMHgwZjI0MzgsIDEpO1xyXG4gICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QocGFuZWxYLCBwYW5lbFksIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCBwYW5lbFJhZGl1cyk7XHJcbiAgICAvLyBzdHJva2VcclxuICAgIHBhbmVsQmcubGluZVN0eWxlKDIsIDB4MWY2ZmViLCAwLjkpO1xyXG4gICAgcGFuZWxCZy5zdHJva2VSb3VuZGVkUmVjdChwYW5lbFgsIHBhbmVsWSwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIHBhbmVsUmFkaXVzKTtcclxuXHJcbiAgICBwYW5lbEJnLmFscGhhID0gMDtcclxuICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IHBhbmVsQmcsIGFscGhhOiAxLCBkdXJhdGlvbjogNTAwLCBlYXNlOiAnQ3ViaWMuT3V0JyB9KTtcclxuXHJcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMTc1LCAnQUpVU1RFUycsIHtcclxuICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGNvbG9yOiAnI2RmZjRmZicsXHJcbiAgICAgIGxldHRlclNwYWNpbmc6IDMsXHJcbiAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICB0aXRsZS5zZXRTdHJva2UoJyM3ZmQwZmYnLCA0KTtcclxuICAgIHRpdGxlLnNldFNoYWRvdygyLCAyLCAnIzAwMDAwMCcsIDYsIGZhbHNlLCB0cnVlKTtcclxuICAgIHRpdGxlLnNldFNjYWxlKDAuOTUpO1xyXG4gICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogdGl0bGUsIHNjYWxlOiAxLCBkdXJhdGlvbjogNDIwLCBlYXNlOiAnQmFjay5PdXQnIH0pO1xyXG5cclxuXHJcbiAgICAvLyAtLS0gVk9MVU1FTiAtLS1cclxuICAgIHRoaXMuYWRkLnRleHQoY3ggLSAxODAsIGN5IC0gOTAsICdWb2x1bWVuJywge1xyXG4gICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICBjb2xvcjogJyNkZmY0ZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVWb2x1bWVTbGlkZXIoY3ggLSAxMjAsIGN5IC0gNTAsIDI2MCk7IC8vIENvbnRyb2xzIG11c2ljIHZvbHVtZSB3aGVuIHBvc3NpYmxlIChhZmZlY3RzIG1lbnUvZ2FtZSBtdXNpYyBpbnN0YW5jZXMpXHJcblxyXG4gICAgLy8gLS0tIENPTlRST0xFUyAtLS1cclxuICAgIHRoaXMuYWRkLnRleHQoY3gsIGN5ICsgMjAsXHJcbiAgICAgICdDT05UUk9MRVNcXG5cXG4nICtcclxuICAgICAgJ/CflrEgQ2xpY2sgaXpxdWllcmRvOiBHb2xwZWFyXFxuJyArXHJcbiAgICAgICfwn5axIENsaWNrIGRlcmVjaG86IFBvd2VydXAgUDFcXG4nICtcclxuICAgICAgJ+KQoyBFc3BhY2lvOiBQb3dlcnVwIFAyXFxuJyArXHJcbiAgICAgICcxLTY6IE1vdmVyIHRvcG9cXG4nICtcclxuICAgICAgJ0VTQzogUGF1c2EnLFxyXG4gICAgICB7XHJcbiAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICBjb2xvcjogJyNjZmU3ZmYnLFxyXG4gICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICBsaW5lU3BhY2luZzogNlxyXG4gICAgICB9XHJcbiAgICApLnNldE9yaWdpbigwLjUsIDApO1xyXG5cclxuICAgIFxyXG4gICAgLy8gQk9Uw5NOIFBBUkEgVk9MVkVSIChlc3RpbG8gdGV4dG8gc29saWNpdGFkbylcclxuICAgIGNvbnN0IGJhY2tMYWJlbCA9IHRoaXMuX3JldHVyblRvID09PSAncGF1c2UnID8gJ1ZvbHZlciBhIFBhdXNhJyA6ICdWb2x2ZXInO1xyXG4gICAgdGhpcy5sb2NhbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsIGJhY2tMYWJlbCwge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNlMThmYTFmZicsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLmxvY2FsQnRuLnNldENvbG9yKCcjZmZmZmZmZmYnKSlcclxuICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2UxOGZhMWZmJykpXHJcbiAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gcGVxdWXDsWEgYW5pbWFjacOzbiBkZSBmYWRlLW91dCBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTgwLCAxMCwgMTAsIDEwKTtcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwLCAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5fcmV0dXJuVG8gPT09ICdwYXVzZScpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5fb3JpZ2luYWxTY2VuZSB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgICBcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIFNsaWRlciBkZSB2b2x1bWVuIFxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGNyZWF0ZVZvbHVtZVNsaWRlcih4LCB5LCB3aWR0aCkge1xyXG4gICAgY29uc3QgYmFySGVpZ2h0ID0gODtcclxuICAgIGNvbnN0IGJnQmFyID0gdGhpcy5hZGQucmVjdGFuZ2xlKHggKyB3aWR0aCAvIDIsIHksIHdpZHRoLCBiYXJIZWlnaHQsIDB4MjUzNTRmKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBQcmVmZXIgbXVzaWMgaW5zdGFuY2Ugdm9sdW1lIGlmIGF2YWlsYWJsZSAobWVudSBvciBsZXZlbCksIGVsc2UgZmFsbGJhY2sgdG8gZ2xvYmFsXHJcbiAgICAvLyBAdHMtaWdub3JlIC0gcHJvcGVydGllcyBtYXkgYmUgYXR0YWNoZWQgdG8gdGhlIGdhbWUgaW5zdGFuY2UgYXQgcnVudGltZVxyXG4gICAgY29uc3QgeyBtdXNpY2FNZW51LCBtdXNpY2FOaXZlbCB9ID0gKHRoaXMuZ2FtZSB8fCB7fSk7XHJcbiAgICBjb25zdCBtdXNpY0luc3RhbmNlcyA9IFttdXNpY2FNZW51LCBtdXNpY2FOaXZlbF0uZmlsdGVyKEJvb2xlYW4pO1xyXG4gICAgY29uc3QgaW5pdGlhbFZvbCA9IFBoYXNlci5NYXRoLkNsYW1wKChtdXNpY0luc3RhbmNlc1swXSAmJiBtdXNpY0luc3RhbmNlc1swXS52b2x1bWUpID8/IHRoaXMuc291bmQudm9sdW1lID8/IDEsIDAsIDEpO1xyXG5cclxuICAgIGNvbnN0IGZpbGxCYXIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoeCwgeSwgd2lkdGggKiBpbml0aWFsVm9sLCBiYXJIZWlnaHQsIDB4NGZiMGZmKS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGUgPSB0aGlzLmFkZC5jaXJjbGUoeCArIHdpZHRoICogaW5pdGlhbFZvbCwgeSwgMTIsIDB4ZmZmZmZmKVxyXG4gICAgICAuc2V0U3Ryb2tlU3R5bGUoMywgMHgyNTM1NGYpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuXHJcbiAgICBjb25zdCBwZXJjZW50VGV4dCA9IHRoaXMuYWRkLnRleHQoeCArIHdpZHRoICsgMTQsIHksIE1hdGgucm91bmQoaW5pdGlhbFZvbCAqIDEwMCkgKyAnJScsIHtcclxuICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgY29sb3I6ICcjZGZmNGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoaGFuZGxlKTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVWb2x1bWUgPSAodm9sdW1lKSA9PiB7XHJcbiAgICAgIHRoaXMuc291bmQudm9sdW1lID0gdm9sdW1lO1xyXG4gICAgICAvLyBBcHBseSB0byBrbm93biBtdXNpYyBpbnN0YW5jZXMgc28gdGhlIG1lbnUvbXVzaWMgdm9sdW1lIHVwZGF0ZXMgaW4gcmVhbCB0aW1lXHJcbiAgICAgIG11c2ljSW5zdGFuY2VzLmZvckVhY2gobSA9PiB7XHJcbiAgICAgICAgaWYgKG0gJiYgdHlwZW9mIG0uc2V0Vm9sdW1lID09PSAnZnVuY3Rpb24nKSBtLnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gQWxzbyB1cGRhdGUgYW55IG11c2ljIGN1cnJlbnRseSBzdG9yZWQgb24gZ2FtZSBvYmplY3QgZHluYW1pY2FsbHlcclxuICAgICAgaWYgKG11c2ljYU1lbnUgJiYgdHlwZW9mIG11c2ljYU1lbnUuc2V0Vm9sdW1lID09PSAnZnVuY3Rpb24nKSBtdXNpY2FNZW51LnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICBpZiAobXVzaWNhTml2ZWwgJiYgdHlwZW9mIG11c2ljYU5pdmVsLnNldFZvbHVtZSA9PT0gJ2Z1bmN0aW9uJykgbXVzaWNhTml2ZWwuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICAgIGZpbGxCYXIud2lkdGggPSB3aWR0aCAqIHZvbHVtZTtcclxuICAgICAgcGVyY2VudFRleHQuc2V0VGV4dChNYXRoLnJvdW5kKHZvbHVtZSAqIDEwMCkgKyAnJScpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlucHV0Lm9uKCdkcmFnJywgKHBvaW50ZXIsIG9iaiwgZHJhZ1gpID0+IHtcclxuICAgICAgaWYgKG9iaiAhPT0gaGFuZGxlKSByZXR1cm47XHJcbiAgICAgIGRyYWdYID0gUGhhc2VyLk1hdGguQ2xhbXAoZHJhZ1gsIHgsIHggKyB3aWR0aCk7XHJcbiAgICAgIG9iai54ID0gZHJhZ1g7XHJcbiAgICAgIGNvbnN0IHZvbHVtZSA9IChkcmFnWCAtIHgpIC8gd2lkdGg7XHJcbiAgICAgIHVwZGF0ZVZvbHVtZSh2b2x1bWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWxsb3cgY2xpY2tpbmcgb24gYmdCYXIgdG8gc2V0IHZvbHVtZSBxdWlja2x5XHJcbiAgICBiZ0Jhci5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICBiZ0Jhci5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICBjb25zdCBsb2NhbFggPSBQaGFzZXIuTWF0aC5DbGFtcChwb2ludGVyLndvcmxkWCAtICh4KSwgMCwgd2lkdGgpO1xyXG4gICAgICBjb25zdCB2b2wgPSBsb2NhbFggLyB3aWR0aDtcclxuICAgICAgaGFuZGxlLnggPSB4ICsgbG9jYWxYO1xyXG4gICAgICB1cGRhdGVWb2x1bWUodm9sKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGhhbmRsZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBoYW5kbGUsIHNjYWxlOiAxLjA4LCBkdXJhdGlvbjogMTIwIH0pKTtcclxuICAgIGhhbmRsZS5vbigncG9pbnRlcm91dCcsICgpID0+IHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGhhbmRsZSwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxMjAgfSkpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gQm90w7NuIHNpbXBsZSByZXV0aWxpemFibGUgKGNvbmZpZ3VyYWJsZSB5IGFuaW1hZG8pXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgY3JlYXRlQnV0dG9uKHgsIHksIHRleHQsIGNhbGxiYWNrLCBvcHRzID0ge30pIHtcclxuICAgIGNvbnN0IHdpZHRoID0gb3B0cy53aWR0aCB8fCAyMDA7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBvcHRzLmhlaWdodCB8fCA1MDtcclxuICAgIGNvbnN0IGJnQ29sb3IgPSBvcHRzLmJnQ29sb3IgfHwgMHg4OGUxZmY7XHJcbiAgICBjb25zdCB0ZXh0Q29sb3IgPSBvcHRzLnRleHRDb2xvciB8fCAnIzAwMTMxZCc7XHJcblxyXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpO1xyXG5cclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIGJnQ29sb3IpXHJcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIGJnLnNldFN0cm9rZVN0eWxlKDIsIDB4ZmZmZmZmLCAwLjA4KTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6IHRleHRDb2xvclxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgY29udGFpbmVyLmFkZChbYmcsIGxhYmVsXSk7XHJcblxyXG4gICAgYmcub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjA0LCBkdXJhdGlvbjogMTQwLCBlYXNlOiAnUG93ZXIyJyB9KTtcclxuICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogYmcsIGFscGhhOiAwLjk1LCBkdXJhdGlvbjogMTQwIH0pO1xyXG4gICAgfSk7XHJcbiAgICBiZy5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMSwgZHVyYXRpb246IDEyMCwgZWFzZTogJ1Bvd2VyMicgfSk7XHJcbiAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGJnLCBhbHBoYTogMSwgZHVyYXRpb246IDEyMCB9KTtcclxuICAgIH0pO1xyXG4gICAgYmcub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAwLjk2LCBkdXJhdGlvbjogODAsIHlveW86IHRydWUgfSk7XHJcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuLyoqXHJcbiAqIEVzY2VuYSBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2UgcGllcmRlIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogUGF1c2EgZWwgcmVzdG8gZGUgZXNjZW5hcyB5IGNvbXBydWViYSBjb250aW51YW1lbnRlIGhhc3RhIHF1ZSBzZSByZXN0YWJsZXpjYVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIEd1YXJkYXIgbGFzIGVzY2VuYXMgcXVlIGVzdGFiYW4gYWN0aXZhcyBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICAvLyBQdWVkZSB2ZW5pciBjb21vIHByZXZpb3VzU2NlbmVzIChhcnJheSkgbyBwcmV2aW91c1NjZW5lIChzdHJpbmcgcG9yIGNvbXBhdGliaWxpZGFkKVxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZXMgPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLnByZXZpb3VzU2NlbmVzKSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmVzID0gZGF0YS5wcmV2aW91c1NjZW5lcztcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmVzID0gW2RhdGEucHJldmlvdXNTY2VuZV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDMwMCwgMTAwMCwgNjAwLCAweDAwMDAwMCwgMC44KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICdDT05FWEnDk04gUEVSRElEQScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3NcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdJbnRlbnRvczogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgcGFycGFkZWFudGVcclxuICAgICAgICB0aGlzLmRvdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMjAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG90Q291bnQgPSAodGhpcy5kb3RDb3VudCArIDEpICUgNDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvdHMgPSAnLicucmVwZWF0KHRoaXMuZG90Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoYEludGVudGFuZG8gcmVjb25lY3RhciR7ZG90c31gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQYXVzYXIgdG9kb3MgbG9zIHNvbmlkb3MgcGFyYSBpbmRpY2FyIHF1ZSB0b2RvIHNlIGRldHV2b1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGF1c2VBbGwoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0Nvbm5lY3Rpb25Mb3N0U2NlbmVdIE5vIHNlIHB1ZG8gcGF1c2FyIGF1ZGlvOicsIGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gUmVzdGF1cmFyIGF1ZGlvXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5yZXN1bWVBbGwoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0Nvbm5lY3Rpb25Mb3N0U2NlbmVdIE5vIHNlIHB1ZG8gcmVhbnVkYXIgYXVkaW86JywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNZW5zYWplIGRlIMOpeGl0b1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoUNvbmV4acOzbiByZXN0YWJsZWNpZGEhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciBhIGxhcyBlc2NlbmFzIGFudGVyaW9yZXNcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJldmlvdXNTY2VuZXMpICYmIHRoaXMucHJldmlvdXNTY2VuZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lcy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAmJiB0aGlzLnNjZW5lLmdldChrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFtDb25uZWN0aW9uTG9zdFNjZW5lXSBObyBzZSBwdWRvIHJlYW51ZGFyIGVzY2VuYSAke2tleX06YCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEludGVudGFyIHJlYW51ZGFyIGVzY2VuYXMgeSBhdWRpbyBwb3Igc2VndXJpZGFkIChzaSBubyBzZSByZWFudWRhcm9uIGVuIG9uUmVjb25uZWN0ZWQpXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcmV2aW91c1NjZW5lcykgJiYgdGhpcy5wcmV2aW91c1NjZW5lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmVzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICYmIHRoaXMuc2NlbmUuZ2V0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0Nvbm5lY3Rpb25Mb3N0U2NlbmVdIE5vIHNlIHB1ZG8gcmVhbnVkYXIgZXNjZW5hICR7a2V5fSBlbiBzaHV0ZG93bjpgLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnJlc3VtZUFsbCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gTm8gaGFjZW1vcyBuYWRhIGNyw610aWNvIHNpIGZhbGxhXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBMb2JieSBTY2VuZSAtIFdhaXRpbmcgZm9yIG11bHRpcGxheWVyIG1hdGNobWFraW5nXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2JieVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKHsga2V5OiAnTG9iYnlTY2VuZScgfSk7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgLy8gVGl0bGVcclxuICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdNdWx0aWp1Z2Fkb3IgRW4gbMOtbmVhJywge1xyXG4gICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBTdGF0dXMgdGV4dFxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0NvbmVjdGFuZG8gYWwgc2Vydmlkb3IuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFBsYXllciBjb3VudCB0ZXh0XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMjAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwZmYwMCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLSAxMDAsICdDYW5jZWxhcicsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmY2NjY2JyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzMzMzMzMycsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRDb2xvcignI2ZmNjY2NicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7XHJcblxyXG4gICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcblxyXG4gICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnV2FpdGluZyBmb3Igb3Bwb25lbnQuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGVycm9yIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBsb3N0IScpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRmFpbGVkIHRvIGNvbm5lY3QhJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICBjYXNlICdxdWV1ZVN0YXR1cyc6XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dChgUGxheWVycyBpbiBxdWV1ZTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIScsIGRhdGEpO1xyXG4gICAgICAgIC8vIFN0b3JlIGdhbWUgZGF0YSBhbmQgdHJhbnNpdGlvbiB0byBtdWx0aXBsYXllciBnYW1lIHNjZW5lXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTXVsdGlwbGF5ZXJHYW1lU2NlbmUnLCB7XHJcbiAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgIHJvb21JZDogZGF0YS5yb29tSWQsXHJcbiAgICAgICAgICBpbml0aWFsQmFsbDogZGF0YS5iYWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGVhdmVRdWV1ZSgpIHtcclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBQb20gfSBmcm9tICcuLi9lbnRpdGllcy9Qb20nO1xyXG5pbXBvcnQgeyBQaW4gfSBmcm9tICcuLi9lbnRpdGllcy9QaW4nO1xyXG5cclxuLyoqXHJcbiAqIE11bHRpcGxheWVyIEdhbWUgU2NlbmUgLSBPbmxpbmUgcG9uZyBnYW1lXHJcbiAqIEJhbGwgcGh5c2ljcyBydW4gb24gYm90aCBjbGllbnRzIChkZXRlcm1pbmlzdGljKVxyXG4gKiBTZXJ2ZXIgb25seSB0cmFja3Mgc2NvcmVzIGFuZCByZWxheXMgcGFkZGxlIHBvc2l0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE11bHRpcGxheWVyR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTXVsdGlwbGF5ZXJHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLndzID0gZGF0YS53cztcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyBvciAncGxheWVyMidcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbEJhbGwgPSBkYXRhLmluaXRpYWxCYWxsO1xyXG4gICAgICAgIHRoaXMuYmFsbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBhZGRsZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQYWRkbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubG9jYWxTY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVTY29yZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MWExYTJlKTtcclxuXHJcbiAgICAgICAgLy8gQ2VudGVyIGRpc2NvbnRpbnVlZCBsaW5lXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIGkgKiA1MCArIDI1LCAxMCwgMzAsIDB4NDQ0NDQ0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNjb3JlIHRleHRzXHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQgPSB0aGlzLmFkZC50ZXh0KDEwMCwgNTAsICcwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVSaWdodCA9IHRoaXMuYWRkLnRleHQoNzAwLCA1MCwgJzAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwZmYwMCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUm9sZSBpbmRpY2F0b3JcclxuICAgICAgICBjb25zdCByb2xlVGV4dCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ1lvdSBhcmUgUGxheWVyIDEgKExlZnQpJyA6ICdZb3UgYXJlIFBsYXllciAyIChSaWdodCknO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyMCwgcm9sZVRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUJvdW5kcygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQmFsbCgpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBjb2xsaWRlcnNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmFsbCwgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5iYWxsLCB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmJhbGwsIHRoaXMubGVmdEdvYWwsIHRoaXMuc2NvcmVMZWZ0R29hbCwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuYmFsbCwgdGhpcy5yaWdodEdvYWwsIHRoaXMuc2NvcmVSaWdodEdvYWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgV2ViU29ja2V0IGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMuc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIGlucHV0IC0gYm90aCBwbGF5ZXJzIHVzZSBhcnJvdyBrZXlzXHJcbiAgICAgICAgdGhpcy5jdXJzb3JzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKCk7XHJcblxyXG4gICAgICAgIC8vIExhdW5jaCBiYWxsIHdpdGggc2VydmVyLXByb3ZpZGVkIGluaXRpYWwgc3RhdGVcclxuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkodGhpcy5pbml0aWFsQmFsbC52eCwgdGhpcy5pbml0aWFsQmFsbC52eSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBwYWRkbGVzIGJhc2VkIG9uIHBsYXllciByb2xlXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWRkbGUgPSBuZXcgUGFkZGxlKHRoaXMsICdwbGF5ZXIxJywgNTAsIDMwMCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGFkZGxlID0gbmV3IFBhZGRsZSh0aGlzLCAncGxheWVyMicsIDc1MCwgMzAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFkZGxlID0gbmV3IFBhZGRsZSh0aGlzLCAncGxheWVyMicsIDc1MCwgMzAwKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWRkbGUgPSBuZXcgUGFkZGxlKHRoaXMsICdwbGF5ZXIxJywgNTAsIDMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdwYWRkbGVVcGRhdGUnOlxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIG9wcG9uZW50J3MgcGFkZGxlIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUueSA9IGRhdGEueTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnc2NvcmVVcGRhdGUnOlxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNjb3JlcyBmcm9tIHNlcnZlclxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFNjb3JlID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyBkYXRhLnBsYXllcjFTY29yZSA6IGRhdGEucGxheWVyMlNjb3JlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVTY29yZSA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gZGF0YS5wbGF5ZXIyU2NvcmUgOiBkYXRhLnBsYXllcjFTY29yZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlTGVmdC5zZXRUZXh0KGRhdGEucGxheWVyMVNjb3JlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVJpZ2h0LnNldFRleHQoZGF0YS5wbGF5ZXIyU2NvcmUudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RvcCBiYWxsLCBzZXJ2ZXIgd2lsbCByZWxhdW5jaCBpdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFBvc2l0aW9uKDQwMCwgMzAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnYmFsbFJlbGF1bmNoJzpcclxuICAgICAgICAgICAgICAgIC8vIFNlcnZlciBpcyByZWxhdW5jaGluZyB0aGUgYmFsbCB3aXRoIG5ldyB2ZWxvY2l0eVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFBvc2l0aW9uKGRhdGEuYmFsbC54LCBkYXRhLmJhbGwueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoZGF0YS5iYWxsLnZ4LCBkYXRhLmJhbGwudnkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdnYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoZGF0YS53aW5uZXIsIGRhdGEucGxheWVyMVNjb3JlLCBkYXRhLnBsYXllcjJTY29yZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzY29yZUxlZnRHb2FsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBCYWxsIGhpdCBMRUZUIGdvYWwgKHg9MCksIHNvIG5vdGlmeSBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogJ2dvYWwnLCBzaWRlOiAnbGVmdCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2NvcmVSaWdodEdvYWwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUVuZGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIEJhbGwgaGl0IFJJR0hUIGdvYWwgKHg9ODAwKSwgc28gbm90aWZ5IHNlcnZlclxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoeyB0eXBlOiAnZ29hbCcsIHNpZGU6ICdyaWdodCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZSh3aW5uZXIsIHBsYXllcjFTY29yZSwgcGxheWVyMlNjb3JlKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzV2lubmVyID0gKHdpbm5lciA9PT0gJ3BsYXllcjEnICYmIHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAod2lubmVyID09PSAncGxheWVyMicgJiYgdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMicpO1xyXG5cclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID0gaXNXaW5uZXIgPyAnWW91IFdpbiEnIDogJ1lvdSBMb3NlISc7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBpc1dpbm5lciA/ICcjMDBmZjAwJyA6ICcjZmYwMDAwJztcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIwMCwgd2lubmVyVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogY29sb3JcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI4MCwgYEZpbmFsIFNjb3JlOiAke3BsYXllcjFTY29yZX0gLSAke3BsYXllcjJTY29yZX1gLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ09wcG9uZW50IERpc2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDAwLCAnUmV0dXJuIHRvIE1haW4gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQmFsbCgpIHtcclxuICAgICAgICBjb25zdCBncmFwaGljcyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuZmlsbFN0eWxlKDB4ZmZmZmZmKTtcclxuICAgICAgICBncmFwaGljcy5maWxsQ2lyY2xlKDgsIDgsIDgpO1xyXG4gICAgICAgIGdyYXBoaWNzLmdlbmVyYXRlVGV4dHVyZSgnYmFsbC1tdWx0aScsIDE2LCAxNik7XHJcbiAgICAgICAgZ3JhcGhpY3MuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICB0aGlzLmJhbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsIDMwMCwgJ2JhbGwtbXVsdGknKTtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRCb3VuY2UoMSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQm91bmRzKCkge1xyXG4gICAgICAgIHRoaXMubGVmdEdvYWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgwLCAzMDAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMubGVmdEdvYWwuc2V0RGlzcGxheVNpemUoMTAsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5sZWZ0R29hbC5ib2R5LnNldFNpemUoMTAsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5sZWZ0R29hbC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sZWZ0R29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5yaWdodEdvYWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg4MDAsIDMwMCwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEdvYWwuc2V0RGlzcGxheVNpemUoMTAsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEdvYWwuYm9keS5zZXRTaXplKDEwLCA2MDApO1xyXG4gICAgICAgIHRoaXMucmlnaHRHb2FsLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnJpZ2h0R29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUVuZGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBsb2NhbCBwYWRkbGUgaW5wdXQgLSBib3RoIHBsYXllcnMgdXNlIGFycm93IGtleXNcclxuICAgICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLnVwLmlzRG93bikge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJzb3JzLmRvd24uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb3ZlIGxvY2FsIHBhZGRsZVxyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gMzAwO1xyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHlZKC1zcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eVkoc3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlbmQgcGFkZGxlIHBvc2l0aW9uIHRvIHNlcnZlclxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAncGFkZGxlTW92ZScsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBTZXR0aW5nc1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvU2V0dGluZ3NTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzJztcclxuaW1wb3J0IExvYmJ5U2NlbmUgZnJvbSAnLi9zY2VuZXMvTG9iYnlTY2VuZS5qcyc7XHJcbmltcG9ydCB7IE11bHRpcGxheWVyR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTXVsdGlwbGF5ZXJHYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMnO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogMTAwMCxcclxuICAgIGhlaWdodDogNjAwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHk6IDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbTWVudVNjZW5lLCBHYW1lU2NlbmUsIFBhdXNlU2NlbmUsIENyZWRpdFNjZW5lLCBTZXR0aW5nc1NjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBMb2JieVNjZW5lLCBNdWx0aXBsYXllckdhbWVTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWExYTJlJyxcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuLy8gR2xvYmFsIGNvbm5lY3Rpb24gbGlzdGVuZXI6IGFsIHBlcmRlciBjb25leGnDs24sIGFicmlyIENvbm5lY3Rpb25Mb3N0U2NlbmUgeSBwYXVzYXIgbGEgZXNjZW5hIGFjdGl2YVxyXG5jb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcigoZGF0YSkgPT4ge1xyXG4gIGlmICghZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFNpIHlhIGVzdMOhIGFiaWVydGEgbGEgZXNjZW5hIGRlIHJlY29uZXhpw7NuLCBubyBoYWNlbW9zIG5hZGFcclxuICAgICAgY29uc3QgY29ublNjZW5lID0gZ2FtZS5zY2VuZS5nZXRTY2VuZSgnQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICBpZiAoY29ublNjZW5lICYmIGNvbm5TY2VuZS5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQYXVzYXIgdG9kYXMgbGFzIGVzY2VuYXMgYWN0aXZhcyAoZXhjbHVpciBDb25uZWN0aW9uTG9zdFNjZW5lKVxyXG4gICAgICBjb25zdCBhY3RpdmVTY2VuZXMgPSBnYW1lLnNjZW5lLmdldFNjZW5lcyh0cnVlKTtcclxuICAgICAgY29uc3QgcHJldmlvdXNLZXlzID0gYWN0aXZlU2NlbmVzXHJcbiAgICAgICAgLmZpbHRlcihzID0+IHMuc2NlbmUgJiYgcy5zY2VuZS5rZXkgJiYgcy5zY2VuZS5rZXkgIT09ICdDb25uZWN0aW9uTG9zdFNjZW5lJylcclxuICAgICAgICAubWFwKHMgPT4gcy5zY2VuZS5rZXkpO1xyXG5cclxuICAgICAgcHJldmlvdXNLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZ2FtZS5zY2VuZS5wYXVzZShrZXkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihgW01haW5dIFVuYWJsZSB0byBwYXVzZSBzY2VuZSAke2tleX06YCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEluaWNpYXIgbGEgZXNjZW5hIGRlIGNvbmV4acOzbiBwZXJkaWRhIHBhc2FuZG8gbGFzIGVzY2VuYXMgcGF1c2FkYXNcclxuICAgICAgZ2FtZS5zY2VuZS5zdGFydCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZXM6IHByZXZpb3VzS2V5cyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWFpbl0gRXJyb3IgaGFuZGxpbmcgY29ubmVjdGlvbiBsb3NzOicsIGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG59KTsiXSwibmFtZXMiOlsiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJjcmVhdGUiLCJleGlzdGluZ011c2ljIiwiZ2FtZSIsIm11c2ljYU1lbnUiLCJpc1BsYXlpbmciLCJzb3VuZCIsInN0b3BBbGwiLCJhZGQiLCJwbGF5IiwibG9vcCIsInZvbHVtZSIsInNldE9yaWdpbiIsInNldERpc3BsYXlTaXplIiwic2NhbGUiLCJ3aWR0aCIsImhlaWdodCIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiZm9udFN0eWxlIiwiZm9udEZhbWlseSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRDb2xvciIsInNjZW5lIiwic3RhcnQiLCJjcmVkaXRCdG4iLCJzZXR0aW5nc0J0biIsImZyb20iLCJvbmxpbmVCdG4iLCJjb25uZWN0aW9uVGV4dCIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5IiwiaXNBY3RpdmUiLCJzZXRUZXh0Iiwic2h1dGRvd24iLCJQb20iLCJHYW1lT2JqZWN0cyIsIkltYWdlIiwiaWQiLCJ4IiwieSIsInNldFNjYWxlIiwic2V0RGVwdGgiLCJleGlzdGluZyIsImlzSGl0dGluZyIsImhpdE9mZnNldCIsImlucHV0IiwicG9pbnRlciIsImhpdCIsInN0YXJ0WCIsInN0YXJ0WSIsInN0YXJ0QW5nbGUiLCJhbmdsZSIsInJhZGlhbnMiLCJEZWdUb1JhZCIsImRpc3RhbmNlIiwiZHgiLCJjb3MiLCJkeSIsInNpbiIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsImVhc2UiLCJvbkNvbXBsZXRlIiwiUGluIiwicG9wVXBEdXJhdGlvbiIsImhlYWx0aCIsImhvbGVzIiwiY3VycmVudEhvbGVJbmRleCIsIm1vdmVDb29sZG93biIsIl9sYXN0TW92ZVRpbWUiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0SW1tb3ZhYmxlIiwiYWxsb3dHcmF2aXR5Iiwic2V0VmlzaWJsZSIsImhpdFNwcml0ZSIsIl9vbkhpdENhbGxiYWNrIiwiX3BvaW50ZXJSZWdpc3RlcmVkIiwiZGlzYWJsZUludGVyYWN0aXZlIiwic2V0SG9sZXMiLCJsZW5ndGgiLCJtb3ZlVG9Ib2xlIiwidGltZSIsIldyYXAiLCJwb3MiLCJzZXRQb3NpdGlvbiIsImhpZGUiLCJtb3ZlSW5kZXgiLCJkZWx0YSIsInBvcFVwIiwiX3dhc0hpdCIsImV2ZW50cyIsImVtaXQiLCJob2xlSW5kZXgiLCJ0aW1lc3RhbXAiLCJlIiwid2FybiIsImRlbGF5ZWRDYWxsIiwic2V0VGludCIsImNsZWFyVGludCIsInJlc2V0IiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiUE9XRVJVUF9DTE9DSyIsIlBPV0VSVVBfVEhFUk1PTUVURVIiLCJHYW1lU2NlbmUiLCJpbml0IiwidGltZUxlZnQiLCJpc0dhbWVPdmVyIiwicHVudG9zUGxheWVyMSIsInB1bnRvc1BsYXllcjIiLCJwb3dlcnVwQW1vdW50IiwicG93ZXJ1cE1heFN0b3JlZFAxIiwicG93ZXJ1cE1heFN0b3JlZFAyIiwicG93ZXJ1cFN0b3JlZFAxIiwicG93ZXJ1cFN0b3JlZFAyIiwicG93ZXJ1cHNVc2VkUDEiLCJwb3dlcnVwc1VzZWRQMiIsInBvd2VydXBzVVNBRE9TUDEiLCJwb3dlcnVwc1VTQURPU1AyIiwicG93ZXJ1cCIsInBvd2VydXBIb2xlSW5kZXgiLCJwb3dlcnVwRHVyYXRpb24iLCJwb3dlcnVwU3Bhd25NaW4iLCJwb3dlcnVwU3Bhd25NYXgiLCJ0aGVybW9tZXRlckVmZmVjdEFjdGl2ZSIsInBpbkJsb2NrZWQiLCJ0aGVybW9tZXRlclRpbWVyIiwidG9wb1RpbWVyIiwiZ2FtZVRpbWVyIiwicHJvY2Vzc29yIiwicmVjdGFuZ2xlIiwibXVzaWNhTml2ZWwiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNhbnZhcyIsInN0eWxlIiwiY3Vyc29yIiwibWFydGlsbG8iLCJhY3RpdmVQb2ludGVyIiwic2NvcmVQbGF5ZXIxIiwic2NvcmVQbGF5ZXIyIiwidGltZXJUZXh0IiwiZm9ybWF0VGltZSIsInBvd2VydXBUZXh0UDEiLCJwb3dlcnVwVGV4dFAyIiwia2V5cyIsImtleWJvYXJkIiwiYWRkS2V5cyIsIm9uZSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJPTkUiLCJ0d28iLCJUV08iLCJ0aHJlZSIsIlRIUkVFIiwiZm91ciIsIkZPVVIiLCJmaXZlIiwiRklWRSIsInNpeCIsIlNJWCIsImVzYyIsIkVTQyIsInNwYWNlIiwiU1BBQ0UiLCJvblJlc3VtZSIsImNyZWF0ZVRvcG9zIiwic2NoZWR1bGVOZXh0UG93ZXJ1cCIsIm9mZiIsInBpY2t1cFBvd2VydXBCeVBsYXllciIsImhhbmRsZVBvaW50ZXJEb3duIiwiYWRkRXZlbnQiLCJkZWxheSIsImVuZFJvdW5kIiwidXBkYXRlU2NvcmVVSSIsInVwZGF0ZVBvd2VydXBVSSIsImlzTGVmdCIsImJ1dHRvbiIsImV2ZW50IiwiaXNSaWdodCIsInBCb3VuZHMiLCJnZXRCb3VuZHMiLCJjb250YWlucyIsInRvcG8iLCJ1c2VQb3dlcnVwQnlQbGF5ZXIiLCJib3VuZHMiLCJSZWN0YW5nbGUiLCJjYW1lcmFzIiwibWFpbiIsInNoYWtlIiwidG9wb0hvbGVzIiwiQmV0d2VlbiIsInNwYXduUG93ZXJ1cEF0UmFuZG9tSG9sZSIsInBvd2VydXBUeXBlcyIsInNwcml0ZUtleSIsImN1cnJlbnRQb3dlcnVwVHlwZSIsInlveW8iLCJyZXBlYXQiLCJkZXN0cm95IiwicGxheWVySWQiLCJnZXQiLCJwb3dlcnVwVHlwZSIsInBvcCIsInBhdXNlZCIsIm92ZXJsYXkiLCJmbGFzaCIsInNlY29uZHMiLCJmbG9vciIsInBhZFN0YXJ0IiwidXBkYXRlIiwiaXNEb3duIiwiSnVzdERvd24iLCJsYXVuY2giLCJvcmlnaW5hbFNjZW5lIiwicGF1c2UiLCJyZW1vdmUiLCJjeCIsImN5IiwicGFuZWwiLCJzZXRTdHJva2VTdHlsZSIsIndpbm5lclRleHQiLCJidG5XIiwiY3JlYXRlQnRuIiwiYmFzZUNvbG9yIiwiaG92ZXJDb2xvciIsImJnIiwibGFiZWwiLCJDb250YWlucyIsImNvbnRhaW5lciIsInNldFNpemUiLCJzZXRGaWxsU3R5bGUiLCJraWxsVHdlZW5zT2YiLCJzY2FsZVgiLCJzY2FsZVkiLCJidG5ZIiwicmVzdGFydCIsIlBhdXNlU2NlbmUiLCJ3IiwiaCIsIl9wcmV2Q3Vyc29yIiwib3V0ZXJCbG9ja2VyIiwicmVzdW1lQnRuIiwiY3JlYXRlQnV0dG9uIiwibWVudUJ0biIsInJlc3VtZSIsInN0b3AiLCJfZXNjSGFuZGxlciIsIm9uY2UiLCJub3JtYWxIZXgiLCJob3ZlckhleCIsIm5vcm1hbENvbG9yIiwiYnRuIiwiQ3JlZGl0U2NlbmUiLCJjcmVkaXRzIiwiYWxpZ24iLCJ3b3JkV3JhcCIsIlNldHRpbmdzU2NlbmUiLCJfcmV0dXJuVG8iLCJfb3JpZ2luYWxTY2VuZSIsInBhbmVsV2lkdGgiLCJtaW4iLCJwYW5lbFgiLCJwYW5lbFkiLCJwYW5lbEhlaWdodCIsInBhbmVsQmciLCJncmFwaGljcyIsImZpbGxTdHlsZSIsImZpbGxSb3VuZGVkUmVjdCIsImZpbGxHcmFkaWVudFN0eWxlIiwibGluZVN0eWxlIiwic3Ryb2tlUm91bmRlZFJlY3QiLCJhbHBoYSIsInRpdGxlIiwibGV0dGVyU3BhY2luZyIsInNldFN0cm9rZSIsInNldFNoYWRvdyIsImNyZWF0ZVZvbHVtZVNsaWRlciIsImxpbmVTcGFjaW5nIiwiYmFja0xhYmVsIiwiZmFkZU91dCIsImJnQmFyIiwibXVzaWNJbnN0YW5jZXMiLCJmaWx0ZXIiLCJCb29sZWFuIiwiaW5pdGlhbFZvbCIsIkNsYW1wIiwiZmlsbEJhciIsImhhbmRsZSIsImNpcmNsZSIsImRyYWdnYWJsZSIsInBlcmNlbnRUZXh0Iiwicm91bmQiLCJzZXREcmFnZ2FibGUiLCJ1cGRhdGVWb2x1bWUiLCJtIiwic2V0Vm9sdW1lIiwib2JqIiwiZHJhZ1giLCJsb2NhbFgiLCJ3b3JsZFgiLCJ2b2wiLCJvcHRzIiwiYmdDb2xvciIsInRleHRDb2xvciIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja0ludGVydmFsIiwicHJldmlvdXNTY2VuZXMiLCJBcnJheSIsImlzQXJyYXkiLCJwcmV2aW91c1NjZW5lIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJkb3RzIiwicGF1c2VBbGwiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsInJlc3VtZUFsbCIsImtleSIsIkxvYmJ5U2NlbmUiLCJTY2VuZSIsIndzIiwicGxheWVyQ291bnRUZXh0IiwiY2FuY2VsQnV0dG9uIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImxlYXZlUXVldWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJ3c1VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsIldlYlNvY2tldCIsIm9ub3BlbiIsInNlbmQiLCJ0eXBlIiwib25tZXNzYWdlIiwicGFyc2UiLCJoYW5kbGVTZXJ2ZXJNZXNzYWdlIiwib25lcnJvciIsIm9uY2xvc2UiLCJwb3NpdGlvbiIsInBsYXllclJvbGUiLCJyb2xlIiwicm9vbUlkIiwiaW5pdGlhbEJhbGwiLCJiYWxsIiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJjbG9zZSIsIk11bHRpcGxheWVyR2FtZVNjZW5lIiwiaXNQYXVzZWQiLCJnYW1lRW5kZWQiLCJsb2NhbFBhZGRsZSIsInJlbW90ZVBhZGRsZSIsImxvY2FsU2NvcmUiLCJyZW1vdGVTY29yZSIsImkiLCJzY29yZUxlZnQiLCJzY29yZVJpZ2h0Iiwicm9sZVRleHQiLCJjcmVhdGVCb3VuZHMiLCJjcmVhdGVCYWxsIiwic2V0VXBQbGF5ZXJzIiwiY29sbGlkZXIiLCJvdmVybGFwIiwibGVmdEdvYWwiLCJzY29yZUxlZnRHb2FsIiwicmlnaHRHb2FsIiwic2NvcmVSaWdodEdvYWwiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImN1cnNvcnMiLCJjcmVhdGVDdXJzb3JLZXlzIiwic2V0VmVsb2NpdHkiLCJ2eCIsInZ5IiwiUGFkZGxlIiwicGxheWVyMVNjb3JlIiwicGxheWVyMlNjb3JlIiwiZW5kR2FtZSIsIndpbm5lciIsInNlbmRNZXNzYWdlIiwic2lkZSIsImlzV2lubmVyIiwiY3JlYXRlTWVudUJ1dHRvbiIsImZpbGxDaXJjbGUiLCJnZW5lcmF0ZVRleHR1cmUiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJzZXRCb3VuY2UiLCJtZXNzYWdlIiwiZGlyZWN0aW9uIiwidXAiLCJkb3duIiwic2V0VmVsb2NpdHlZIiwiY29uZmlnIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNvbm5TY2VuZSIsImdldFNjZW5lIiwicHJldmlvdXNLZXlzIiwiZ2V0U2NlbmVzIiwicyIsIm1hcCIsImVyciJdLCJzb3VyY2VSb290IjoiIn0=