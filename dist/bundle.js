(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{console.log("[ConnectionManager] Checking connection...");const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(console.log("[ConnectionManager] Response status:",e.status),e.ok){const t=await e.json();return console.log("[ConnectionManager] Connected users:",t.connected),this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return console.log("[ConnectionManager] Response not OK, status:",e.status),this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("[ConnectionManager] Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.image("Titulo","assets/Bocetos/FondoJuego.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){const e=this.game&&this.game.musicaMenu;e&&e.isPlaying?this.musicaMenu=e:(this.sound.stopAll(),this.musicaMenu=this.sound.add("Musica_menu"),this.musicaMenu.play({loop:!0,volume:.5}),this.game.musicaMenu=this.musicaMenu),this.add.image(0,0,"Titulo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.text(380,200,"MOLE",{fontSize:"72px",color:"#892327",fontStyle:"bold",fontFamily:"roboto"}).setOrigin(.5),this.add.text(600,200,"HOLE",{fontSize:"72px",color:"#253754",fontFamily:"roboto"}).setOrigin(.5);const s=this.add.text(500,320,"Local 2 Jugadores",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#00fff7ff")).on("pointerout",()=>s.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("GameScene")}),o=this.add.text(500,420,"CrÃ©ditos",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>o.setColor("#00fff7ff")).on("pointerout",()=>o.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("CreditScene")}),i=this.add.text(500,470,"Ajustes",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setColor("#00fff7ff")).on("pointerout",()=>i.setColor("#892327")).on("pointerdown",()=>{this.scene.start("SettingsScene",{from:"menu"})}),n=this.add.text(500,520,"Leaderboards",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>n.setColor("#00fff7ff")).on("pointerout",()=>n.setColor("#892327")).on("pointerdown",()=>{this.scene.start("LeaderboardsScene")});this.playerInfoText=this.add.text(850,30,"",{fontSize:"18px",color:"#ffffff"}).setOrigin(1,0),this.loginBtn=this.add.text(850,60,"Iniciar sesiÃ³n",{fontSize:"16px",color:"#ffd27f"}).setOrigin(1,0).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.loginBtn.setColor("#fff")).on("pointerout",()=>this.loginBtn.setColor("#ffd27f")).on("pointerdown",()=>this.openLoginModal()),this.loadStoredUser();const r=this.add.text(500,370,"Multijugador en LÃ­nea",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>r.setColor("#00fff7ff")).on("pointerout",()=>r.setColor("#892327")).on("pointerdown",()=>{if(!localStorage.getItem("playerUser"))return alert("Necesitas iniciar sesiÃ³n para jugar en lÃ­nea"),void this.openLoginModal();this.scene.start("LobbyScene")});this.connectionText=this.add.text(500,580,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener),this.events.once("shutdown",()=>this.closeLoginModal())}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}loadStoredUser(){try{const e=localStorage.getItem("playerUser");if(!e)return;const t=JSON.parse(e);this.showUser(t)}catch(e){console.warn("[MenuScene] Error loading stored user:",e)}}showUser(e){this.player=e,this.playerInfoText.setText(`Jugador: ${e.name}`),this.loginBtn.setText("Cerrar sesiÃ³n"),this.loginBtn.off("pointerdown"),this.loginBtn.on("pointerdown",()=>this.logout())}logout(){localStorage.removeItem("playerUser"),this.player=null,this.playerInfoText.setText(""),this.loginBtn.setText("Iniciar sesiÃ³n"),this.loginBtn.off("pointerdown"),this.loginBtn.on("pointerdown",()=>this.openLoginModal())}openLoginModal(){if(this._loginModalOpen)return;this._loginModalOpen=!0;try{this.input.enabled=!1}catch(e){}const e=document.createElement("div");Object.assign(e.style,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"99999",pointerEvents:"auto"});const t=t=>{t.target===e&&(t.stopPropagation(),t.preventDefault())};e.addEventListener("pointerdown",t,!0),e.addEventListener("mousedown",t,!0);const s=t=>{t.target===e&&this.closeLoginModal()};e.addEventListener("click",s,!0),this._domBackgroundClickHandler=s;const o=document.createElement("div");Object.assign(o.style,{width:"420px",padding:"18px",background:"#0b1220",border:"2px solid #1f6feb",borderRadius:"8px",color:"#dff4ff",fontFamily:"sans-serif",boxSizing:"border-box",overflow:"hidden"});const i=document.createElement("div");i.textContent="Login / Nickname",Object.assign(i.style,{fontSize:"20px",marginBottom:"8px",textAlign:"center"});const n=(e,t="text")=>{const s=document.createElement("div");s.style.margin="8px 0";const o=document.createElement("div");o.textContent=e,o.style.marginBottom="6px",o.style.color="#dff4ff";const i=document.createElement("input");return i.type=t,Object.assign(i.style,{width:"100%",padding:"8px 10px",fontSize:"14px",borderRadius:"6px",border:"1px solid #234",background:"#123",color:"#ffffff",boxSizing:"border-box",outline:"none"}),s.appendChild(o),s.appendChild(i),{wrapper:s,input:i}},r=n("Email:","email"),a=n("Nickname:","text"),l=document.createElement("div");Object.assign(l.style,{color:"#ff8888",minHeight:"18px",marginTop:"6px"});const h=document.createElement("div");h.style.display="flex",h.style.justifyContent="space-between",h.style.marginTop="12px";const d=document.createElement("button");d.textContent="Entrar",Object.assign(d.style,{padding:"8px 14px",background:"#00ff00",border:"none",borderRadius:"6px",cursor:"pointer"});const c=document.createElement("button");c.textContent="Cancelar",Object.assign(c.style,{padding:"8px 14px",background:"#ff8888",border:"none",borderRadius:"6px",cursor:"pointer"}),h.appendChild(d),h.appendChild(c),o.appendChild(i),o.appendChild(r.wrapper),o.appendChild(a.wrapper),o.appendChild(l),o.appendChild(h),e.appendChild(o),document.body.appendChild(e),this._domModal=e,this._domEmailInput=r.input,this._domNameInput=a.input,this._domFeedback=l,this._domEmailInput.focus();const p=async()=>{await this.submitLoginDom()},u=()=>{this.closeLoginModal()},f=e=>{"Enter"===e.key&&p(),"Escape"===e.key&&u()};this._domSubmitHandler=p,this._domCancelHandler=u,this._domKeyHandler=f,this._domStopPointer=t,d.addEventListener("click",p),c.addEventListener("click",u),document.addEventListener("keydown",f),this._domEnterBtn=d,this._domCancelBtn=c}closeLoginModal(){if(this._loginModalOpen){this._loginModalOpen=!1;try{this.input.enabled=!0}catch(e){}try{this._domEnterBtn&&this._domSubmitHandler&&this._domEnterBtn.removeEventListener("click",this._domSubmitHandler)}catch(e){}try{this._domCancelBtn&&this._domCancelHandler&&this._domCancelBtn.removeEventListener("click",this._domCancelHandler)}catch(e){}try{this._domKeyHandler&&document.removeEventListener("keydown",this._domKeyHandler)}catch(e){}try{this._domModal&&this._domStopPointer&&(this._domModal.removeEventListener("pointerdown",this._domStopPointer,!0),this._domModal.removeEventListener("mousedown",this._domStopPointer,!0))}catch(e){}try{this._domModal&&this._domBackgroundClickHandler&&this._domModal.removeEventListener("click",this._domBackgroundClickHandler,!0)}catch(e){}this._domModal&&this._domModal.parentNode&&this._domModal.parentNode.removeChild(this._domModal),this._domModal=null,this._domEmailInput=null,this._domNameInput=null,this._domFeedback=null,this._domEnterBtn=null,this._domCancelBtn=null,this._domKeyHandler=null,this._domSubmitHandler=null,this._domCancelHandler=null,this._domStopPointer=null}}async submitLoginDom(){if(!this._domEmailInput||!this._domNameInput||!this._domFeedback)return;const e=this._domEmailInput.value.trim(),t=this._domNameInput.value.trim();if(e&&t)try{this._domFeedback.textContent="Enviando...";const s=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,name:t})});if(!s.ok){const e=await s.json().catch(()=>({}));return void(this._domFeedback.textContent=e.error||"Error al loguear")}const o=await s.json();localStorage.setItem("playerUser",JSON.stringify(o)),this.showUser(o),this._domFeedback.textContent="Â¡Bienvenido!",setTimeout(()=>this.closeLoginModal(),600)}catch(e){console.error("[MenuScene] Error en login DOM:",e),this._domFeedback.textContent="Error de red"}else this._domFeedback.textContent="Email y nickname son requeridos"}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class o extends Phaser.GameObjects.Image{constructor(e,t,s,o){super(e,s,o,"Martillo"),this.scene=e,this.id=t,this.setOrigin(.5,.35),this.setScale(1),this.setDepth(5),e.add.existing(this),this.isHitting=!1,this.hitOffset=45,e.input.on("pointermove",e=>{this.isHitting||this.scene.thermometerEffectActive||(this.x=e.x,this.y=e.y)})}hit(){if(this.isHitting)return;this.isHitting=!0;const e=this.x,t=this.y,s=this.angle,o=Phaser.Math.DegToRad(s+90),i=this.hitOffset,n=Math.cos(o)*i,r=Math.sin(o)*i;this.scene.tweens.add({targets:this,x:e+n,y:t+r,angle:s+18,duration:80,ease:"Power2.In",onComplete:()=>{this.scene.tweens.add({targets:this,x:e,y:t,angle:s,duration:140,ease:"Back.Out",onComplete:()=>{this.isHitting=!1}})}})}}class i{constructor(e,t,s,o){this.id=t,this.scene=e,this.isActive=!1,this.popUpDuration=1e3,this.health=1,this.holes=[],this.currentHoleIndex=0,this.moveCooldown=700,this._lastMoveTime=0,this.sprite=this.scene.physics.add.sprite(s,o,"bojack"),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.sprite.setVisible(!1),this.sprite.setScale(.5),this.sprite.setOrigin(.5),this.sprite.setDepth(2),this._onHitCallback=()=>this.hit(),this._pointerRegistered=!1,this.sprite.disableInteractive()}setHoles(e=[]){this.holes=e,this.holes.length&&(this.currentHoleIndex=0,this.moveToHole(this.currentHoleIndex))}moveToHole(e){if(!this.holes.length)return!1;const t=this.scene&&this.scene.time&&this.scene.time.now?this.scene.time.now:Date.now();if(t-this._lastMoveTime<this.moveCooldown)return!1;this._lastMoveTime=t,this.currentHoleIndex=Phaser.Math.Wrap(e,0,this.holes.length);const s=this.holes[this.currentHoleIndex];return this.sprite.setPosition(s.x,s.y),this.isActive&&this.hide(),!0}moveIndex(e){this.holes.length&&this.moveToHole(this.currentHoleIndex+e)}popUp(){if(!this.isActive){this.moveToHole(this.currentHoleIndex),this.isActive=!0,this.health=1,this._wasHit=!1,this.sprite.setVisible(!0),this.sprite.setInteractive({useHandCursor:!0}),this._pointerRegistered||(this.sprite.on("pointerdown",this._onHitCallback),this._pointerRegistered=!0);try{this.scene.events.emit("topoPopped",{id:this.id,holeIndex:this.currentHoleIndex,x:this.sprite.x,y:this.sprite.y,timestamp:this.scene.time?this.scene.time.now:Date.now()})}catch(e){console.warn("Emit topoPopped failed",e)}this.scene.time.delayedCall(this.popUpDuration,()=>{this.hide()})}}hide(){if(this.isActive&&(this.isActive=!1,this.sprite.setVisible(!1),this.sprite.disableInteractive(),!this._wasHit))try{this.scene.events.emit("topoMissed",{id:this.id,holeIndex:this.currentHoleIndex})}catch(e){console.warn("Emit topoMissed failed",e)}}hit(){return!!this.isActive&&(this._wasHit=!0,this.health-=1,this.sprite.setTint(16711680),this.scene.time.delayedCall(100,()=>{this.sprite.clearTint()}),this.health<=0&&(this.hide(),!0))}reset(){this.health=1,this.isActive=!1,this.sprite.setVisible(!1),this.sprite.clearTint()}}const n="clock",r="thermometer";class a extends e.Scene{constructor(){super("GameScene")}init(){this.timeLeft=6,this.isGameOver=!1,this.puntosPlayer1=0,this.puntosPlayer2=0,this.powerupAmount=20,this.powerupMaxStoredP1=3,this.powerupMaxStoredP2=3,this.powerupStoredP1=[],this.powerupStoredP2=[],this.powerupsUsedP1=0,this.powerupsUsedP2=0,this.powerup=null,this.powerupHoleIndex=-1,this.powerupDuration=5e3,this.powerupSpawnMin=4e3,this.powerupSpawnMax=12e3,this.thermometerEffectActive=!1,this.pinBlocked=!1,this.thermometerTimer=null,this.topoTimer=null,this.gameTimer=null}preload(){this.load.image("fondo","assets/fondo_game.png"),this.load.image("Martillo","assets/mazo.png"),this.load.image("bojack","assets/pin.png"),this.load.image("Pingolpeado","assets/pingolpeado.png"),this.load.image("reloj","assets/relojarena.png"),this.load.image("agujero","assets/agujero.png"),this.load.image("termometro","assets/termometro.png"),this.load.audio("Musica_nivel","assets/Sonidos para_red/Hydrogen.mp3"),this.load.audio("Castor","assets/Sonidos para_red/Castor.mp3"),this.load.audio("Golpe","assets/Sonidos para_red/Golpe.mp3"),this.load.audio("Sonido_martillo","assets/Sonidos para_red/Martillo_juez.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3"),this.load.audio("Frio","assets/Sonidos para_red/Tembleque.mp3")}create(){this.add.rectangle(500,300,1e3,600,1710638),this.add.image(0,0,"fondo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.image(200,480,"agujero").setScale(.5),this.add.image(320,320,"agujero").setScale(.5),this.add.image(440,480,"agujero").setScale(.5),this.add.image(560,320,"agujero").setScale(.5),this.add.image(680,480,"agujero").setScale(.5),this.add.image(800,320,"agujero").setScale(.5),this.musicaNivel=this.sound.add("Musica_nivel"),this.musicaNivel.play({loop:!0,volume:.5}),this.input.mouse.disableContextMenu(),this.game.canvas.style.cursor="none",this.martillo=new o(this,"Martillo",this.input.activePointer.x,this.input.activePointer.y),this.scorePlayer1=this.add.text(80,50,"Pom: 0",{fontSize:"32px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.scorePlayer2=this.add.text(850,50,"Pin: 0",{fontSize:"32px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.timerText=this.add.text(this.scale.width-20,this.scale.height-20,this.formatTime(this.timeLeft),{fontSize:"40px",fontStyle:"bold",color:"#ffffffff",fontFamily:"Arial"}).setOrigin(1,1),this.powerupTextP1=this.add.text(80,80,`P1 Powerups: ${this.powerupStoredP1}/${this.powerupMaxStoredP1}`,{fontSize:"16px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.powerupTextP2=this.add.text(this.scale.width+20,80,`P2 Powerups: ${this.powerupStoredP2}/${this.powerupMaxStoredP2}`,{fontSize:"16px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(1.5,0),this.keys=this.input.keyboard.addKeys({one:e.Input.Keyboard.KeyCodes.ONE,two:e.Input.Keyboard.KeyCodes.TWO,three:e.Input.Keyboard.KeyCodes.THREE,four:e.Input.Keyboard.KeyCodes.FOUR,five:e.Input.Keyboard.KeyCodes.FIVE,six:e.Input.Keyboard.KeyCodes.SIX,esc:e.Input.Keyboard.KeyCodes.ESC,space:e.Input.Keyboard.KeyCodes.SPACE}),this.events.on("resume",this.onResume,this),this.createTopos(),this.scheduleNextPowerup(),this.events.off("topoPopped"),this.events.on("topoPopped",(e={})=>{this.isGameOver||this.powerup&&this.powerupHoleIndex===e.holeIndex&&this.pickupPowerupByPlayer(2)}),this.events.off("topoMissed"),this.events.on("topoMissed",(e={})=>{this.isGameOver||this.pinBlocked||(this.puntosPlayer2+=1,this.updateScoreUI())}),this.input.on("pointerdown",e=>this.handlePointerDown(e)),this.gameTimer=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{this.isGameOver||(this.timeLeft--,this.timerText.setText(this.formatTime(this.timeLeft)),this.timeLeft<=0&&this.endRound())}}),this.updateScoreUI(),this.updatePowerupUI()}handlePointerDown(t){if(this.isGameOver)return;const s=0===t.button||t.event&&0===t.event.button,o=2===t.button||t.event&&2===t.event.button;if(this.powerup&&this.powerup.sprite){const e=this.powerup.sprite.getBounds();if(e&&e.contains(t.x,t.y)){if(s)return void this.pickupPowerupByPlayer(1);if(o)return void(this.topo&&this.powerupHoleIndex===this.topo.currentHoleIndex&&this.pickupPowerupByPlayer(2))}}if(o)this.usePowerupByPlayer(1);else if(s){if(this.martillo&&this.martillo.hit(),!this.topo||!this.topo.sprite)return;const s=this.topo.sprite.getBounds();if(new e.Geom.Rectangle(s.x+.25*s.width,s.y+.25*s.height,.5*s.width,.5*s.height).contains(t.x,t.y)&&this.topo.isActive)return this.puntosPlayer1+=1,this.updateScoreUI(),this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),void this.cameras.main.shake(200,.01);this.pinBlocked||(this.puntosPlayer2+=1,this.updateScoreUI(),this.sound.play("Sonido_martillo"))}}createTopos(){this.topoHoles=[{x:200,y:480},{x:320,y:320},{x:440,y:480},{x:560,y:320},{x:680,y:480},{x:800,y:320}],this.topo=new i(this,0,this.topoHoles[0].x,this.topoHoles[0].y),this.topo.setHoles(this.topoHoles),this.topo.sprite.setInteractive(),this.topo.sprite.on("pointerdown",(e,t,s,o)=>{try{o&&o.stopPropagation&&o.stopPropagation()}catch(e){}this.isGameOver||this.topo.isActive&&!this.pinBlocked&&(this.puntosPlayer1+=1,this.updateScoreUI(),this.martillo&&this.martillo.hit(),"function"==typeof this.topo.hit?this.topo.hit():this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),this.cameras.main.shake(200,.01))}),this.topoTimer=this.time.addEvent({delay:1500,loop:!0,callback:()=>{this.isGameOver||this.topo.isActive||this.topo.popUp()}})}scheduleNextPowerup(){if(this.isGameOver)return;if(this.powerup)return;if(this.powerupMaxStoredP1<=0)return;if(this.powerupMaxStoredP2<=0)return;const t=e.Math.Between(this.powerupSpawnMin,this.powerupSpawnMax);this.time.delayedCall(t,()=>{this.isGameOver||this.spawnPowerupAtRandomHole()})}spawnPowerupAtRandomHole(){if(!this.topoHoles||!this.topoHoles.length)return;if(this.powerup)return;const t=e.Math.Between(0,this.topoHoles.length-1),s=this.topoHoles[t],o=[n,r];let i;this.currentPowerupType=o[e.Math.Between(0,o.length-1)];let a=.45;this.currentPowerupType===n?i="reloj":this.currentPowerupType===r&&(i="termometro",a=.3),this.powerup=this.add.image(s.x,s.y-10,i).setScale(a).setDepth(8),this.powerupHoleIndex=t,this.powerup.setInteractive({useHandCursor:!0}),this.powerup.on("pointerdown",e=>{this.isGameOver||(0===e.button||e.event&&0===e.event.button)&&(this.pickupPowerupByPlayer(1),this.sound.play("Boton"))}),this.tweens.add({targets:this.powerup,y:s.y-16,duration:600,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.time.delayedCall(this.powerupDuration,()=>{this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1,this.scheduleNextPowerup())})}pickupPowerupByPlayer(e){if(!this.powerup)return!1;if(this.isGameOver)return!1;if(this.currentPowerupType===r&&2!==e)return!1;if(1===e){if(this.powerupsUsedP1>=3)return!1;if(this.powerupStoredP1.length>=this.powerupMaxStoredP1)return!1;this.powerupStoredP1.push(this.currentPowerupType)}else{if(this.powerupsUsedP2>=3)return!1;if(this.powerupStoredP2.length>=this.powerupMaxStoredP2)return!1;this.powerupStoredP2.push(this.currentPowerupType)}return this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1),this.scheduleNextPowerup(),!0}usePowerupByPlayer(e){if(this.isGameOver)return!1;let t;if(1===e){if(this.powerupStoredP1.length<=0)return!1;t=this.powerupStoredP1.pop(),this.powerupMaxStoredP1>0&&this.powerupMaxStoredP1--}else{if(this.powerupStoredP2.length<=0)return!1;t=this.powerupStoredP2.pop(),this.powerupMaxStoredP2>0&&this.powerupMaxStoredP2--}if(t===n)this.timeLeft+=this.powerupAmount,this.timerText.setText(this.formatTime(this.timeLeft));else if(t===r){this.thermometerEffectActive=!0,this.pinBlocked=!0,this.gameTimer.paused=!0,this.sound.play("Frio");const e=this.add.rectangle(this.scale.width/2,this.scale.height/2,this.scale.width,this.scale.height,8900331,.4).setDepth(10);this.thermometerTimer=this.time.addEvent({delay:1e3,repeat:3,callback:()=>{this.puntosPlayer2+=2,this.updateScoreUI()}}),this.time.delayedCall(4e3,()=>{this.thermometerEffectActive=!1,this.pinBlocked=!1,this.gameTimer.paused=!1,this.thermometerTimer&&(this.thermometerTimer.destroy(),this.thermometerTimer=null),e&&e.destroy()})}return this.cameras.main.flash(150,100,255,100),this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),1===e?this.powerupsUsedP1++:this.powerupsUsedP2++,!0}updateScoreUI(){this.scorePlayer1&&this.scorePlayer1.setText(`Pom: ${this.puntosPlayer1}`),this.scorePlayer2&&this.scorePlayer2.setText(`Pin: ${this.puntosPlayer2}`)}updatePowerupUI(){this.powerupTextP1&&this.powerupTextP1.setText(`P1 Powerups: ${this.powerupStoredP1.length}/${this.powerupMaxStoredP1}`),this.powerupTextP2&&this.powerupTextP2.setText(`P2 Powerups: ${this.powerupStoredP2.length}/${this.powerupMaxStoredP2}`)}formatTime(e){return`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}update(){this.isGameOver||(this.topo&&(this.keys.one.isDown&&this.topo.moveToHole(0),this.keys.two.isDown&&this.topo.moveToHole(1),this.keys.three.isDown&&this.topo.moveToHole(2),this.keys.four.isDown&&this.topo.moveToHole(3),this.keys.five.isDown&&this.topo.moveToHole(4),this.keys.six.isDown&&this.topo.moveToHole(5)),e.Input.Keyboard.JustDown(this.keys.esc)&&(this.isGameOver||(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())),e.Input.Keyboard.JustDown(this.keys.space)&&this.usePowerupByPlayer(2))}endRound(){this.isGameOver=!0,this.sound.stopAll(),this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto"),this.input.off("pointerdown"),this.martillo&&this.martillo.setVisible&&this.martillo.setVisible(!1),this.topoTimer&&this.topoTimer.remove(!1),this.gameTimer&&this.gameTimer.remove(!1),this.topo&&this.topo.sprite&&(this.topo.sprite.disableInteractive(),this.topo.hide());const t=this.scale.width/2,s=this.scale.height/2,o=this.add.rectangle(t,s,760,420,725536,.88).setOrigin(.5).setDepth(200);o.setStrokeStyle(4,2060267),o.scale=.85,this.tweens.add({targets:o,scale:1,duration:220,ease:"Back.Out"}),o.disableInteractive();let i="Empate";this.puntosPlayer1>this.puntosPlayer2?i="ðŸ†   Gana Jugador 1 (Pom)":this.puntosPlayer2>this.puntosPlayer1&&(i="ðŸ†   Gana Jugador 2 (Pin)"),this.add.text(t,s-130,i,{fontSize:"42px",fontStyle:"bold",color:"#ffffff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.rectangle(t,s-90,420,3,2060267).setOrigin(.5).setDepth(250),this.add.text(t,s-20,`P1 (Pom): ${this.puntosPlayer1}`,{fontSize:"26px",color:"#6c8bff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.text(t,s+20,`P2 (Pin): ${this.puntosPlayer2}`,{fontSize:"26px",color:"#ff6b6b",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.updateUserScore();const n=240,r=(t,s,o,i,r,a)=>{const l=this.add.rectangle(0,0,n,62,i).setOrigin(.5).setStrokeStyle(2,665408).setDepth(305),h=this.add.text(0,0,o,{fontSize:"22px",fontStyle:"bold",color:"#00131d",fontFamily:"Arial"}).setOrigin(.5).setDepth(306),d=this.add.rectangle(0,0,n,62,0,0).setOrigin(.5).setDepth(307).setInteractive(new e.Geom.Rectangle(-120,-31,n,62),e.Geom.Rectangle.Contains),c=this.add.container(t,s,[l,h,d]);return c.setSize(n,62),c.setInteractive(),c.setDepth(300),d.on("pointerover",()=>{l.setFillStyle(r),h.setColor("#ffffff"),this.tweens.killTweensOf(l),this.tweens.add({targets:l,scaleX:1.06,scaleY:1.06,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="pointer"}),d.on("pointerout",()=>{l.setFillStyle(i),h.setColor("#00131d"),this.tweens.killTweensOf(l),this.tweens.add({targets:l,scaleX:1,scaleY:1,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="auto"}),d.on("pointerdown",()=>{this.sound.get("Boton")&&this.sound.play("Boton",{volume:.5}),a()}),c},a=s+120;r(t-150,a,"Repetir",8970751,5222655,()=>this.scene.restart()),r(t+150,a,"MenÃº Principal",16767912,16758138,()=>this.scene.start("MenuScene"))}onResume(){this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="none"),this.input.on("pointerdown",e=>this.handlePointerDown(e))}async updateUserScore(){try{const e=localStorage.getItem("playerUser");if(!e)return;const t=JSON.parse(e),s=Math.max(this.puntosPlayer1,this.puntosPlayer2),o=this.puntosPlayer1>this.puntosPlayer2?"Pom":"Pin",i={bestCharacter:o};s>t.maxScore&&(i.maxScore=s),await fetch(`/api/users/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),s>0&&await fetch(`/api/users/${t.id}/scores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({score:s,opponent:"computer",character:o})})}catch(e){console.error("Error updating user score:",e)}}}class l extends e.Scene{constructor(){super("PauseScene")}create(e={}){const t=this.scale.width,s=this.scale.height,o=t/2,i=s/2;this._prevCursor=this.game&&this.game.canvas&&this.game.canvas.style?this.game.canvas.style.cursor:"",this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto");const n=this.add.rectangle(o,i,t,s,0,.6).setOrigin(.5);n.setInteractive(),n.setDepth(0);const r=this.add.rectangle(o,i,540,460,1118746).setStrokeStyle(3,52326).setOrigin(.5);r.setDepth(1),r.scale=.9,this.tweens.add({targets:r,scale:1,duration:180,ease:"Back.Out"}),this.add.text(o,i-180,"PAUSADO",{fontSize:"40px",fontStyle:"bold",color:"#00cc66",fontFamily:"Arial"}).setOrigin(.5).setDepth(2),this.add.rectangle(o,i-140,340,3,52326).setOrigin(.5).setDepth(2);const a=this.createButton(o,i-40,"REANUDAR",52326,6750130),l=this.createButton(o,i+40,"MENÃš PRINCIPAL",16739179,16751258),h=this.createButton(o,i+120,"AJUSTES",16777215,13421772);a.setDepth(10),l.setDepth(10),h.setDepth(10),a.on("pointerdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),e.originalScene&&this.scene.resume(e.originalScene),this.scene.stop()}),l.on("pointerdown",()=>{e.originalScene&&this.scene.stop(e.originalScene),this.scene.start("MenuScene"),this.sound.stopAll()}),h.on("pointerdown",()=>{this.scene.start("SettingsScene",{from:"pause",originalScene:e.originalScene})}),this._escHandler=()=>a.emit("pointerdown"),this.input.keyboard.on("keydown-ESC",this._escHandler),this.events.once("shutdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),this._escHandler&&(this.input.keyboard.off("keydown-ESC",this._escHandler),this._escHandler=null)})}createButton(e,t,s,o,i){const n=`#${o.toString(16).padStart(6,"0")}`,r=`#${i.toString(16).padStart(6,"0")}`,a=this.add.rectangle(0,0,360,64,2040640).setStrokeStyle(2,o).setOrigin(.5),l=this.add.text(0,0,s,{fontSize:"22px",fontStyle:"bold",color:n,fontFamily:"Arial"}).setOrigin(.5),h=this.add.container(e,t,[a,l]);return h.setSize(360,64),h.setInteractive({useHandCursor:!0}),h.on("pointerover",()=>{a.setFillStyle(3093592),a.setStrokeStyle(3,i),l.setColor(r),l.setScale(1.05)}),h.on("pointerout",()=>{a.setFillStyle(2040640),a.setStrokeStyle(2,o),l.setColor(n),l.setScale(1)}),h.on("pointerdown",()=>{this.tweens.add({targets:h,scaleX:.98,scaleY:.98,duration:80,yoyo:!0})}),h}}class h extends e.Scene{constructor(){super("CreditScene")}preload(){this.load.image("Creditos","assets/fondoCreditos.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.add.image(0,0,"Creditos").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.sound.add("Musica_menu").play({loop:!0,volume:.5}),this.add.text(400,50,"CrÃ©ditos",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.credits=this.add.text(400,280,"\nDesarrolladores:\n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\n- Jaime Alonso del Real\n- David MartÃ­nez GarcÃ­a\nArte: \n- David MartÃ­nez GarcÃ­a\nSonidos y MÃºsica: \n- Jaime Alonso del Real\nTesteo: \n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\n\n\nGracias por jugar\n        ",{fontSize:"24px",color:"#ffffff",align:"center",wordWrap:{width:700}}).setOrigin(.5),this.tweens.add({targets:this.credits,y:this.credits.y-15,duration:1e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,delay:200}),this.localBtn=this.add.text(400,500,"Volver",{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("MenuScene")})}update(){}}class d extends e.Scene{constructor(){super("SettingsScene")}create(e={}){const t=this.scale.width/2,s=this.scale.height/2;this._returnTo=e.from||"menu",this._originalScene=e.originalScene||null,this.add.rectangle(t,s,this.scale.width,this.scale.height,0,.6);const o=Math.min(520,this.scale.width-80),i=t-o/2,n=s-210,r=this.add.graphics();r.fillStyle(0,.36),r.fillRoundedRect(i+6,n+8,o,420,16),r.fillGradientStyle(725536,725536,992312,992312,1),r.fillRoundedRect(i,n,o,420,16),r.lineStyle(2,2060267,.9),r.strokeRoundedRect(i,n,o,420,16),r.alpha=0,this.tweens.add({targets:r,alpha:1,duration:500,ease:"Cubic.Out"});const a=this.add.text(t,s-175,"AJUSTES",{fontSize:"40px",fontStyle:"bold",color:"#dff4ff",letterSpacing:3,align:"center"}).setOrigin(.5);a.setStroke("#7fd0ff",4),a.setShadow(2,2,"#000000",6,!1,!0),a.setScale(.95),this.tweens.add({targets:a,scale:1,duration:420,ease:"Back.Out"}),this.add.text(t-180,s-90,"Volumen",{fontSize:"22px",color:"#dff4ff",fontStyle:"bold"}).setOrigin(0,.5),this.createVolumeSlider(t-120,s-50,260),this.add.text(t,s+20,"CONTROLES\n\nðŸ–± Click izquierdo: Golpear\nðŸ–± Click derecho: Powerup P1\nâ£ Espacio: Powerup P2\n1-6: Mover topo\nESC: Pausa",{fontSize:"18px",color:"#cfe7ff",align:"center",fontStyle:"bold",lineSpacing:6}).setOrigin(.5,0);const l="pause"===this._returnTo?"Volver a Pausa":"Volver";this.localBtn=this.add.text(500,500,l,{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.cameras.main.fadeOut(180,10,10,10),this.time.delayedCall(200,()=>{"pause"===this._returnTo?this.scene.start("PauseScene",{originalScene:this._originalScene}):this.scene.start("MenuScene")})})}createVolumeSlider(t,s,o){const i=this.add.rectangle(t+o/2,s,o,8,2438479).setOrigin(.5),{musicaMenu:n,musicaNivel:r}=this.game||{},a=[n,r].filter(Boolean),l=e.Math.Clamp((a[0]&&a[0].volume)??this.sound.volume??1,0,1),h=this.add.rectangle(t,s,o*l,8,5222655).setOrigin(0,.5),d=this.add.circle(t+o*l,s,12,16777215).setStrokeStyle(3,2438479).setInteractive({draggable:!0}),c=this.add.text(t+o+14,s,Math.round(100*l)+"%",{fontSize:"18px",color:"#dff4ff"}).setOrigin(0,.5);this.input.setDraggable(d);const p=e=>{this.sound.volume=e,a.forEach(t=>{t&&"function"==typeof t.setVolume&&t.setVolume(e)}),n&&"function"==typeof n.setVolume&&n.setVolume(e),r&&"function"==typeof r.setVolume&&r.setVolume(e),h.width=o*e,c.setText(Math.round(100*e)+"%")};this.input.on("drag",(s,i,n)=>{i===d&&(n=e.Math.Clamp(n,t,t+o),i.x=n,p((n-t)/o))}),i.setInteractive({useHandCursor:!0}),i.on("pointerdown",s=>{const i=e.Math.Clamp(s.worldX-t,0,o),n=i/o;d.x=t+i,p(n)}),d.on("pointerover",()=>this.tweens.add({targets:d,scale:1.08,duration:120})),d.on("pointerout",()=>this.tweens.add({targets:d,scale:1,duration:120}))}createButton(e,t,s,o,i={}){const n=i.width||200,r=i.height||50,a=i.bgColor||8970751,l=i.textColor||"#00131d",h=this.add.container(e,t),d=this.add.rectangle(0,0,n,r,a).setOrigin(.5).setInteractive({useHandCursor:!0});d.setStrokeStyle(2,16777215,.08);const c=this.add.text(0,0,s,{fontSize:"20px",fontStyle:"bold",color:l}).setOrigin(.5);return h.add([d,c]),d.on("pointerover",()=>{this.tweens.add({targets:h,scale:1.04,duration:140,ease:"Power2"}),this.tweens.add({targets:d,alpha:.95,duration:140})}),d.on("pointerout",()=>{this.tweens.add({targets:h,scale:1,duration:120,ease:"Power2"}),this.tweens.add({targets:d,alpha:1,duration:120})}),d.on("pointerdown",()=>{this.tweens.add({targets:h,scale:.96,duration:80,yoyo:!0}),"function"==typeof o&&o()}),h}}class c extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScenes=[],Array.isArray(e.previousScenes)?this.previousScenes=e.previousScenes:e.previousScene&&(this.previousScenes=[e.previousScene])}create(){this.add.rectangle(500,300,1e3,600,0,.8),this.add.text(500,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(500,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(500,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0});try{this.sound.pauseAll()}catch(e){console.warn("[ConnectionLostScene] No se pudo pausar audio:",e)}this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener);try{this.sound.resumeAll()}catch(e){console.warn("[ConnectionLostScene] No se pudo reanudar audio:",e)}this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),Array.isArray(this.previousScenes)&&this.previousScenes.length>0&&this.previousScenes.forEach(e=>{try{e&&this.scene.get(e)&&this.scene.resume(e)}catch(t){console.warn(`[ConnectionLostScene] No se pudo reanudar escena ${e}:`,t)}})})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener);try{Array.isArray(this.previousScenes)&&this.previousScenes.length>0&&this.previousScenes.forEach(e=>{try{e&&this.scene.get(e)&&this.scene.resume(e)}catch(t){console.warn(`[ConnectionLostScene] No se pudo reanudar escena ${e} en shutdown:`,t)}}),this.sound.resumeAll()}catch(e){}}}class p extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.text(e/2,100,"Multijugador En lÃ­nea",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando al servidor...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancelar",{fontSize:"24px",color:"#ff6666",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000")}),s.on("pointerout",()=>{s.setColor("#ff6666")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent...");let e=null;try{const t=localStorage.getItem("playerUser");t&&(e=JSON.parse(t))}catch(e){console.warn("LobbyScene: error parsing stored player",e)}this.ws.send(JSON.stringify({type:"joinQueue",player:e})),e&&e.name&&this.add.text(this.cameras.main.width-20,20,`Jugador: ${e.name}`,{fontSize:"16px",color:"#ffffff"}).setOrigin(1,0)},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,initialBall:e.ball});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class u extends e.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.initialBall=e.initialBall,this.ball=null,this.isPaused=!1,this.gameEnded=!1,this.localPaddle=null,this.remotePaddle=null,this.localScore=0,this.remoteScore=0}create(){this.add.rectangle(400,300,800,600,1710638);for(let e=0;e<12;e++)this.add.rectangle(400,50*e+25,10,30,4473924);this.scoreLeft=this.add.text(100,50,"0",{fontSize:"48px",color:"#00ff00"}),this.scoreRight=this.add.text(700,50,"0",{fontSize:"48px",color:"#00ff00"});const e="player1"===this.playerRole?"You are Player 1 (Left)":"You are Player 2 (Right)";this.add.text(400,20,e,{fontSize:"16px",color:"#ffff00"}).setOrigin(.5),this.createBounds(),this.createBall(),this.setUpPlayers(),this.physics.add.collider(this.ball,this.localPaddle.sprite),this.physics.add.collider(this.ball,this.remotePaddle.sprite),this.physics.add.overlap(this.ball,this.leftGoal,this.scoreLeftGoal,null,this),this.physics.add.overlap(this.ball,this.rightGoal,this.scoreRightGoal,null,this),this.setupWebSocketListeners(),this.cursors=this.input.keyboard.createCursorKeys(),this.ball.setVelocity(this.initialBall.vx,this.initialBall.vy)}setUpPlayers(){"player1"===this.playerRole?(this.localPaddle=new Paddle(this,"player1",50,300),this.remotePaddle=new Paddle(this,"player2",750,300)):(this.localPaddle=new Paddle(this,"player2",750,300),this.remotePaddle=new Paddle(this,"player1",50,300))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"paddleUpdate":this.remotePaddle.sprite.y=e.y;break;case"scoreUpdate":this.localScore="player1"===this.playerRole?e.player1Score:e.player2Score,this.remoteScore="player1"===this.playerRole?e.player2Score:e.player1Score,this.scoreLeft.setText(e.player1Score.toString()),this.scoreRight.setText(e.player2Score.toString()),this.ball.setVelocity(0,0),this.ball.setPosition(400,300);break;case"ballRelaunch":this.ball.setPosition(e.ball.x,e.ball.y),this.ball.setVelocity(e.ball.vx,e.ball.vy);break;case"gameOver":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}scoreLeftGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"left"})}scoreRightGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"right"})}endGame(e,t,s){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause();const o="player1"===e&&"player1"===this.playerRole||"player2"===e&&"player2"===this.playerRole,i=o?"You Win!":"You Lose!",n=o?"#00ff00":"#ff0000";this.add.text(400,200,i,{fontSize:"64px",color:n}).setOrigin(.5),this.add.text(400,280,`Final Score: ${t} - ${s}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),this.createMenuButton()}handleDisconnection(){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause(),this.add.text(400,250,"Opponent Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball-multi",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball-multi"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.leftGoal=this.physics.add.sprite(0,300,null),this.leftGoal.setDisplaySize(10,600),this.leftGoal.body.setSize(10,600),this.leftGoal.setImmovable(!0),this.leftGoal.setVisible(!1),this.rightGoal=this.physics.add.sprite(800,300,null),this.rightGoal.setDisplaySize(10,600),this.rightGoal.body.setSize(10,600),this.rightGoal.setImmovable(!0),this.rightGoal.setVisible(!1)}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){if(this.gameEnded)return;let e=null;e=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":"stop","up"===e?this.localPaddle.sprite.setVelocityY(-300):"down"===e?this.localPaddle.sprite.setVelocityY(300):this.localPaddle.sprite.setVelocityY(0),this.sendMessage({type:"paddleMove",y:this.localPaddle.sprite.y})}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}class f extends e.Scene{constructor(){super("LeaderboardsScene")}preload(){this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.add.rectangle(500,300,1e3,600,1710638),this.add.text(500,50,"LEADERBOARDS",{fontSize:"48px",color:"#ffffff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(.5),this.loadingText=this.add.text(500,150,"Cargando rankings...",{fontSize:"24px",color:"#ffff00",fontFamily:"Arial"}).setOrigin(.5),this.countText=this.add.text(500,120,"",{fontSize:"18px",color:"#00ffff",fontFamily:"Arial"}).setOrigin(.5),this.rankingsContainer=this.add.container(500,200);const e=this.add.text(850,50,"Refrescar",{fontSize:"18px",color:"#00ffff",fontFamily:"Arial"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#ffffff")).on("pointerout",()=>e.setColor("#00ffff")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.loadingText.setText("Cargando rankings..."),this.loadingText.setColor("#ffff00"),this.loadRankings()}),t=this.add.text(500,550,"Volver al MenÃº",{fontSize:"24px",color:"#00ff00",fontFamily:"Arial"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setColor("#ffffff")).on("pointerout",()=>t.setColor("#00ff00")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.scene.start("MenuScene")});this.loadRankings()}async loadRankings(){try{const e=await fetch("/api/leaderboards");if(!e.ok)throw new Error("Error al cargar leaderboards");const t=await e.json();console.log("[LeaderboardsScene] fetched entries:",t);const s=t.slice(0,10);if(this.rankingsContainer.removeAll(),this.countText.setText(`Puntuaciones: ${s.length}`),0===s.length)return this.loadingText.setText("No hay puntuaciones registradas"),void this.loadingText.setColor("#ffff00");this.loadingText.setVisible(!1),s.forEach((e,t)=>{const s=30*t,o=t+1,i=e.character?` (${e.character})`:"",n=this.add.text(0,s,`${o}. ${e.name} - ${e.score}${i}`,{fontSize:"18px",color:"#ffffff",fontFamily:"Arial"}).setOrigin(.5,0);this.rankingsContainer.add(n)})}catch(e){console.error("Error loading leaderboards:",e),this.loadingText.setText("Error al cargar rankings"),this.loadingText.setColor("#ff0000")}}}const m={type:e.AUTO,width:1e3,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,a,l,h,d,c,p,u,f],backgroundColor:"#1a1a2e"},g=new e.Game(m);t.addListener(e=>{if(!e.connected)try{const e=g.scene.getScene("ConnectionLostScene");if(e&&e.scene.isActive())return;const t=g.scene.getScenes(!0).filter(e=>e.scene&&e.scene.key&&"ConnectionLostScene"!==e.scene.key).map(e=>e.scene.key);t.forEach(e=>{try{g.scene.pause(e)}catch(t){console.warn(`[Main] Unable to pause scene ${e}:`,t)}}),g.scene.start("ConnectionLostScene",{previousScenes:t})}catch(e){console.error("[Main] Error handling connection loss:",e)}})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLRSxVQUNSLElBRUUsTUFBTXVoQixFQUFZNWYsRUFBS3dCLE1BQU1xZSxTQUFTLHVCQUN0QyxHQUFJRCxHQUFhQSxFQUFVcGUsTUFBTW9CLFdBQy9CLE9BSUYsTUFDTWtkLEVBRGU5ZixFQUFLd0IsTUFBTXVlLFdBQVUsR0FFdkNsSSxPQUFPbUksR0FBS0EsRUFBRXhlLE9BQVN3ZSxFQUFFeGUsTUFBTStGLEtBQXVCLHdCQUFoQnlZLEVBQUV4ZSxNQUFNK0YsS0FDOUMwWSxJQUFJRCxHQUFLQSxFQUFFeGUsTUFBTStGLEtBRXBCdVksRUFBYTVnQixRQUFRcUksSUFDbkIsSUFDRXZILEVBQUt3QixNQUFNNlIsTUFBTTlMLEVBQ25CLENBQUUsTUFBT3JFLEdBQ1AxRixRQUFRMkYsS0FBSyxnQ0FBZ0NvRSxLQUFRckUsRUFDdkQsSUFJRmxELEVBQUt3QixNQUFNQyxNQUFNLHNCQUF1QixDQUFFMlgsZUFBZ0IwRyxHQUM1RCxDQUFFLE1BQU96WCxHQUNQN0ssUUFBUWtCLE1BQU0seUNBQTBDMkosRUFDMUQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWNlL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvZW50aXRpZXMvUG9tLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QaW4uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9TZXR0aW5nc1NjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL0xlYWRlcmJvYXJkc1NjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiLyoqXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcbiAgICB0aGlzLmNoZWNrSW50ZXJ2YWwgPSAyMDAwOyAvLyBDb21wcm9iYXIgY2FkYSAyIHNlZ3VuZG9zXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXByb2JhciBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxuICAgKi9cbiAgYXN5bmMgY2hlY2tDb25uZWN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnW0Nvbm5lY3Rpb25NYW5hZ2VyXSBDaGVja2luZyBjb25uZWN0aW9uLi4uJyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJ1tDb25uZWN0aW9uTWFuYWdlcl0gUmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnW0Nvbm5lY3Rpb25NYW5hZ2VyXSBDb25uZWN0ZWQgdXNlcnM6JywgZGF0YS5jb25uZWN0ZWQpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gZGF0YS5jb25uZWN0ZWQ7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xuXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDb25uZWN0aW9uTWFuYWdlcl0gUmVzcG9uc2Ugbm90IE9LLCBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0Nvbm5lY3Rpb25NYW5hZ2VyXSBFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxuICAgKi9cbiAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IGZhbHNlLCBjb3VudDogMCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xuICAgKi9cbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbGltaW5hciB1biBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBlc3RhZG8gZGUgY29uZXhpw7NuXG4gICAqL1xuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIGdldFN0YXR1cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxuICAgKi9cbiAgc3RhcnRQb2xsaW5nKCkge1xuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXG4gICAgfVxuXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXG4gICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcblxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZW5lciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXG4gICAqL1xuICBzdG9wUG9sbGluZygpIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG5cclxuICAgICAgICAvLyBJTcOBR0VORVNcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnVGl0dWxvJywgJ2Fzc2V0cy9Cb2NldG9zL0ZvbmRvSnVlZ28ucG5nJyk7IC8vIGZvbmRvKHRpdHVsbykgXHJcblxyXG4gICAgICAgIC8vIFNPTklET1NcclxuICB0aGlzLmxvYWQuYXVkaW8oJ011c2ljYV9tZW51JywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0l0cyBTYWZlIE5vdy5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnQm90b24nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQm90b24ubXAzJyk7ICBcclxufVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy8gU09OSURPUyAtIFNpIHlhIGhheSBtw7pzaWNhIGRlIG1lbsO6IHNvbmFuZG8sIHJldXRpbGl6YXJsYTsgc2kgbm8sIGRldGVuZXIgeSBjcmVhcmxhXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIHByb3BpZWRhZCBhZGp1bnRhIGFsIG9iamV0byBnYW1lIGVuIHRpZW1wbyBkZSBlamVjdWNpw7NuXHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdNdXNpYyA9IHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUubXVzaWNhTWVudTtcclxuICAgICAgICBpZiAoZXhpc3RpbmdNdXNpYyAmJiBleGlzdGluZ011c2ljLmlzUGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLm11c2ljYU1lbnUgPSBleGlzdGluZ011c2ljO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLm11c2ljYU1lbnUgPSB0aGlzLnNvdW5kLmFkZCgnTXVzaWNhX21lbnUnKTtcclxuICAgICAgICAgICAgdGhpcy5tdXNpY2FNZW51LnBsYXkoeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGHDsWFkaW1vcyBwcm9waWVkYWQgYWwgb2JqZXRvIGdhbWUgZW4gdGllbXBvIGRlIGVqZWN1Y2nDs25cclxuICAgICAgICAgICAgdGhpcy5nYW1lLm11c2ljYU1lbnUgPSB0aGlzLm11c2ljYU1lbnU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdUaXR1bG8nKS5zZXRPcmlnaW4oMCwgMCk7ICAvL2ZvbmRvKHRpdHVsbylcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZSh0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDM4MCwgMjAwLCAnTU9MRScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc3MnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjODkyMzI3JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCAyMDAsICdIT0xFJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzcycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMyNTM3NTQnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBsb2NhbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMjAsICdMb2NhbCAyIEp1Z2Fkb3JlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM4OTIzMjcnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbG9jYWxCdG4uc2V0Q29sb3IoJyMwMGZmZjdmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGxvY2FsQnRuLnNldENvbG9yKCcjODkyMzI3JykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICBjb25zdCBjcmVkaXRCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDIwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bycsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBjcmVkaXRCdG4uc2V0Q29sb3IoJyMwMGZmZjdmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNyZWRpdEJ0bi5zZXRDb2xvcignIzg5MjMyNycpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuYWRkKCdCb3RvbicpLnBsYXkoKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdFNjZW5lJyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgY29uc3Qgc2V0dGluZ3NCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNDcwLCAnQWp1c3RlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM4OTIzMjcnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gc2V0dGluZ3NCdG4uc2V0Q29sb3IoJyMwMGZmZjdmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHNldHRpbmdzQnRuLnNldENvbG9yKCcjODkyMzI3JykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2V0dGluZ3NTY2VuZScsIHsgZnJvbTogJ21lbnUnIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgIGNvbnN0IGxlYWRlcmJvYXJkc0J0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MjAsICdMZWFkZXJib2FyZHMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjODkyMzI3JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGxlYWRlcmJvYXJkc0J0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbGVhZGVyYm9hcmRzQnRuLnNldENvbG9yKCcjODkyMzI3JykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTGVhZGVyYm9hcmRzU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gLS0tIExPR0lOIC8gTklDS05BTUUgLS0tXHJcbiAgICAgICAgLy8gQXJlYSB0byBzaG93IGxvZ2dlZC1pbiB1c2VyIG9yIGEgbG9naW4gYnV0dG9uXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJJbmZvVGV4dCA9IHRoaXMuYWRkLnRleHQoODUwLCAzMCwgJycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigxLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dpbkJ0biA9IHRoaXMuYWRkLnRleHQoODUwLCA2MCwgJ0luaWNpYXIgc2VzacOzbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZkMjdmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigxLCAwKS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5sb2dpbkJ0bi5zZXRDb2xvcignI2ZmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHRoaXMubG9naW5CdG4uc2V0Q29sb3IoJyNmZmQyN2YnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5vcGVuTG9naW5Nb2RhbCgpKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2FyIHVzdWFyaW8gZ3VhcmRhZG8gKHNpIGV4aXN0ZSlcclxuICAgICAgICB0aGlzLmxvYWRTdG9yZWRVc2VyKCk7XHJcblxyXG4gICAgICAgIC8qY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDM5MCwgJ011bHRpanVnYWRvciBvbmxpbmUgKG5vIGRpc3BvbmlibGUpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjY2NjYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpOyovXHJcblxyXG5cclxuICAgICAgICAvL09OTElORVxyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzcwLCAnTXVsdGlqdWdhZG9yIGVuIEzDrW5lYScsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvbmxpbmVCdG4uc2V0Q29sb3IoJyMwMGZmZjdmZicpKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb25saW5lQnRuLnNldENvbG9yKCcjODkyMzI3JykpXHJcbiAgICAgICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcXVpcmUgbG9naW4gYmVmb3JlIGdvaW5nIG9ubGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BsYXllclVzZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnTmVjZXNpdGFzIGluaWNpYXIgc2VzacOzbiBwYXJhIGp1Z2FyIGVuIGzDrW5lYScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Mb2dpbk1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiBhbCBzZXJ2aWRvclxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCA1ODAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDZXJyYXIgbW9kYWwgc2kgbGEgZXNjZW5hIHNlIGFwYWdhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKCdzaHV0ZG93bicsICgpID0+IHRoaXMuY2xvc2VMb2dpbk1vZGFsKCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAvLyBMb2dpbiBtb2RhbCBoZWxwZXJzXHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgbG9hZFN0b3JlZFVzZXIoKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF5ZXJVc2VyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyYXcpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1VzZXIodXNlcik7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbTWVudVNjZW5lXSBFcnJvciBsb2FkaW5nIHN0b3JlZCB1c2VyOicsIGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzaG93VXNlcih1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllciA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllckluZm9UZXh0LnNldFRleHQoYEp1Z2Fkb3I6ICR7dXNlci5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dpbkJ0bi5zZXRUZXh0KCdDZXJyYXIgc2VzacOzbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dpbkJ0bi5vZmYoJ3BvaW50ZXJkb3duJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMubG9nb3V0KCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsb2dvdXQoKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGxheWVyVXNlcicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbmZvVGV4dC5zZXRUZXh0KCcnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9naW5CdG4uc2V0VGV4dCgnSW5pY2lhciBzZXNpw7NuJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luQnRuLm9mZigncG9pbnRlcmRvd24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9naW5CdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5vcGVuTG9naW5Nb2RhbCgpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3BlbkxvZ2luTW9kYWwoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IG11bHRpcGxlIG1vZGFsc1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvZ2luTW9kYWxPcGVuKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dpbk1vZGFsT3BlbiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBzY2VuZSBpbnB1dCBzbyBjbGlja3MgZG9uJ3QgcGFzcyB0aHJvdWdoIHRvIHRoZSBnYW1lXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBpZiBpbnB1dCBtYW5hZ2VyIG5vdCBwcmVzZW50XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIERPTSBtb2RhbCBvdmVybGF5IHNvIHVzZXIgY2FuIHR5cGUgcHJvcGVybHlcclxuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3ZlcmxheS5zdHlsZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLCBsZWZ0OiAnMCcsIHRvcDogJzAnLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwLjcpJywgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCB6SW5kZXg6ICc5OTk5OScsIHBvaW50ZXJFdmVudHM6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBjbGlja3MgZnJvbSBidWJibGluZyB0byBjYW52YXMgb3Igb3RoZXIgZWxlbWVudHNcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgaW50ZXJjZXB0IGNsaWNrcyBvbiB0aGUgb3ZlcmxheSBiYWNrZ3JvdW5kIChub3QgaW5zaWRlIHRoZSBwYW5lbClcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3BQb2ludGVyID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IG92ZXJsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xpY2sgb24gYmFja2dyb3VuZCAtIHByZXZlbnQgaW50ZXJhY3Rpb24gd2l0aCBnYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHN0b3BQb2ludGVyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc3RvcFBvaW50ZXIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBhbGxvdyBjbGlja2luZyB0aGUgYmFja2dyb3VuZCB0byBjbG9zZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZENsaWNrSGFuZGxlciA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBvdmVybGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VMb2dpbk1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBiYWNrZ3JvdW5kQ2xpY2tIYW5kbGVyLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGJhY2tncm91bmQgY2xpY2sgaGFuZGxlciBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21CYWNrZ3JvdW5kQ2xpY2tIYW5kbGVyID0gYmFja2dyb3VuZENsaWNrSGFuZGxlcjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwYW5lbC5zdHlsZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnNDIwcHgnLCBwYWRkaW5nOiAnMThweCcsIGJhY2tncm91bmQ6ICcjMGIxMjIwJywgYm9yZGVyOiAnMnB4IHNvbGlkICMxZjZmZWInLCBib3JkZXJSYWRpdXM6ICc4cHgnLCBjb2xvcjogJyNkZmY0ZmYnLCBmb250RmFtaWx5OiAnc2Fucy1zZXJpZicsIGJveFNpemluZzogJ2JvcmRlci1ib3gnLCBvdmVyZmxvdzogJ2hpZGRlbidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdMb2dpbiAvIE5pY2tuYW1lJztcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGl0bGUuc3R5bGUsIHsgZm9udFNpemU6ICcyMHB4JywgbWFyZ2luQm90dG9tOiAnOHB4JywgdGV4dEFsaWduOiAnY2VudGVyJyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVMYWJlbEFuZElucHV0ID0gKGxhYmVsVGV4dCwgdHlwZSA9ICd0ZXh0JykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnN0eWxlLm1hcmdpbiA9ICc4cHggMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGxhYmVsVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNnB4JztcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZS5jb2xvciA9ICcjZGZmNGZmJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihpbnB1dC5zdHlsZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLCBwYWRkaW5nOiAnOHB4IDEwcHgnLCBmb250U2l6ZTogJzE0cHgnLCBib3JkZXJSYWRpdXM6ICc2cHgnLCBib3JkZXI6ICcxcHggc29saWQgIzIzNCcsIGJhY2tncm91bmQ6ICcjMTIzJywgY29sb3I6ICcjZmZmZmZmJywgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsIG91dGxpbmU6ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHdyYXBwZXIsIGlucHV0IH07XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsUGFpciA9IGNyZWF0ZUxhYmVsQW5kSW5wdXQoJ0VtYWlsOicsICdlbWFpbCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZVBhaXIgPSBjcmVhdGVMYWJlbEFuZElucHV0KCdOaWNrbmFtZTonLCAndGV4dCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGZlZWRiYWNrLnN0eWxlLCB7IGNvbG9yOiAnI2ZmODg4OCcsIG1pbkhlaWdodDogJzE4cHgnLCBtYXJnaW5Ub3A6ICc2cHgnIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGJ0blJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgYnRuUm93LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgICAgICAgICAgICBidG5Sb3cuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnc3BhY2UtYmV0d2Vlbic7XHJcbiAgICAgICAgICAgICAgICBidG5Sb3cuc3R5bGUubWFyZ2luVG9wID0gJzEycHgnO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICBlbnRlckJ0bi50ZXh0Q29udGVudCA9ICdFbnRyYXInO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihlbnRlckJ0bi5zdHlsZSwgeyBwYWRkaW5nOiAnOHB4IDE0cHgnLCBiYWNrZ3JvdW5kOiAnIzAwZmYwMCcsIGJvcmRlcjogJ25vbmUnLCBib3JkZXJSYWRpdXM6ICc2cHgnLCBjdXJzb3I6ICdwb2ludGVyJyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgICAgICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9ICdDYW5jZWxhcic7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGNhbmNlbEJ0bi5zdHlsZSwgeyBwYWRkaW5nOiAnOHB4IDE0cHgnLCBiYWNrZ3JvdW5kOiAnI2ZmODg4OCcsIGJvcmRlcjogJ25vbmUnLCBib3JkZXJSYWRpdXM6ICc2cHgnLCBjdXJzb3I6ICdwb2ludGVyJyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidG5Sb3cuYXBwZW5kQ2hpbGQoZW50ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgYnRuUm93LmFwcGVuZENoaWxkKGNhbmNlbEJ0bik7XHJcblxyXG4gICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoZW1haWxQYWlyLndyYXBwZXIpO1xyXG4gICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQobmFtZVBhaXIud3JhcHBlcik7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChmZWVkYmFjayk7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChidG5Sb3cpO1xyXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5hcHBlbmRDaGlsZChwYW5lbCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbU1vZGFsID0gb3ZlcmxheTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUVtYWlsSW5wdXQgPSBlbWFpbFBhaXIuaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21OYW1lSW5wdXQgPSBuYW1lUGFpci5pbnB1dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUZlZWRiYWNrID0gZmVlZGJhY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRm9jdXMgZW1haWxcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUVtYWlsSW5wdXQuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGVycyAoc3RvcmUgcmVmZXJlbmNlcyBzbyB3ZSBjYW4gcmVtb3ZlIHRoZW0gY2xlYW5seSBvbiBjbG9zZSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Ym1pdEhhbmRsZXIgPSBhc3luYyAoKSA9PiB7IGF3YWl0IHRoaXMuc3VibWl0TG9naW5Eb20oKTsgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbEhhbmRsZXIgPSAoKSA9PiB7IHRoaXMuY2xvc2VMb2dpbk1vZGFsKCk7IH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlIYW5kbGVyID0gKGUpID0+IHsgaWYgKGUua2V5ID09PSAnRW50ZXInKSBzdWJtaXRIYW5kbGVyKCk7IGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIGNhbmNlbEhhbmRsZXIoKTsgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21TdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUNhbmNlbEhhbmRsZXIgPSBjYW5jZWxIYW5kbGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tS2V5SGFuZGxlciA9IGtleUhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21TdG9wUG9pbnRlciA9IHN0b3BQb2ludGVyO1xyXG5cclxuICAgICAgICAgICAgICAgIGVudGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3VibWl0SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYW5jZWxIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGJ1dHRvbiByZWZzIHNvIHdlIGNhbiByZW1vdmUgbGlzdGVuZXJzIG9uIGNsb3NlXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21FbnRlckJ0biA9IGVudGVyQnRuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tQ2FuY2VsQnRuID0gY2FuY2VsQnRuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjbG9zZUxvZ2luTW9kYWwoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvZ2luTW9kYWxPcGVuKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dpbk1vZGFsT3BlbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlLWVuYWJsZSBzY2VuZSBpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgdGhpcy5pbnB1dC5lbmFibGVkID0gdHJ1ZTsgfSBjYXRjaCAoZSkge31cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgRE9NIG1vZGFsIGFuZCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLl9kb21FbnRlckJ0biAmJiB0aGlzLl9kb21TdWJtaXRIYW5kbGVyKSB0aGlzLl9kb21FbnRlckJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2RvbVN1Ym1pdEhhbmRsZXIpOyB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuX2RvbUNhbmNlbEJ0biAmJiB0aGlzLl9kb21DYW5jZWxIYW5kbGVyKSB0aGlzLl9kb21DYW5jZWxCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9kb21DYW5jZWxIYW5kbGVyKTsgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgICAgIHRyeSB7IGlmICh0aGlzLl9kb21LZXlIYW5kbGVyKSBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fZG9tS2V5SGFuZGxlcik7IH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAodGhpcy5fZG9tTW9kYWwgJiYgdGhpcy5fZG9tU3RvcFBvaW50ZXIpIHsgdGhpcy5fZG9tTW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLl9kb21TdG9wUG9pbnRlciwgdHJ1ZSk7IHRoaXMuX2RvbU1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2RvbVN0b3BQb2ludGVyLCB0cnVlKTsgfSB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgICAgICAgICAgdHJ5IHsgaWYgKHRoaXMuX2RvbU1vZGFsICYmIHRoaXMuX2RvbUJhY2tncm91bmRDbGlja0hhbmRsZXIpIHsgdGhpcy5fZG9tTW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9kb21CYWNrZ3JvdW5kQ2xpY2tIYW5kbGVyLCB0cnVlKTsgfSB9IGNhdGNoIChlKSB7fVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kb21Nb2RhbCAmJiB0aGlzLl9kb21Nb2RhbC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9tTW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9kb21Nb2RhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tTW9kYWwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tRW1haWxJbnB1dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21OYW1lSW5wdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tRmVlZGJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tRW50ZXJCdG4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tQ2FuY2VsQnRuID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbUtleUhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9tU3VibWl0SGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb21DYW5jZWxIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbVN0b3BQb2ludGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXN5bmMgc3VibWl0TG9naW5Eb20oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2RvbUVtYWlsSW5wdXQgfHwgIXRoaXMuX2RvbU5hbWVJbnB1dCB8fCAhdGhpcy5fZG9tRmVlZGJhY2spIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9IHRoaXMuX2RvbUVtYWlsSW5wdXQudmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuX2RvbU5hbWVJbnB1dC52YWx1ZS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFlbWFpbCB8fCAhbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbUZlZWRiYWNrLnRleHRDb250ZW50ID0gJ0VtYWlsIHkgbmlja25hbWUgc29uIHJlcXVlcmlkb3MnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbUZlZWRiYWNrLnRleHRDb250ZW50ID0gJ0VudmlhbmRvLi4uJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS91c2Vycy9sb2dpbicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGVtYWlsLCBuYW1lIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IGF3YWl0IHJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbUZlZWRiYWNrLnRleHRDb250ZW50ID0gZXJyLmVycm9yIHx8ICdFcnJvciBhbCBsb2d1ZWFyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BsYXllclVzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VXNlcih1c2VyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb21GZWVkYmFjay50ZXh0Q29udGVudCA9ICfCoUJpZW52ZW5pZG8hJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmNsb3NlTG9naW5Nb2RhbCgpLCA2MDApO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgZW4gbG9naW4gRE9NOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9tRmVlZGJhY2sudGV4dENvbnRlbnQgPSAnRXJyb3IgZGUgcmVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBOb3RhOiBubyBkZXRlbmVyIGxhIG3DunNpY2EgYXF1w60gcGFyYSBxdWUgc2lnYSBzb25hbmRvIGN1YW5kbyB2YXlhbW9zIGEgQWp1c3Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gU2kgcXVpZXJlcyBkZXRlbmVyIGxhIG3DunNpY2EgYWwgY2VycmFyIGVsIG1lbsO6IGRlIGZvcm1hIGRlZmluaXRpdmEsIGRldMOpbmxhIGFudGVzIGRlIGluaWNpYXIgbGEgbnVldmEgZXNjZW5hIChlai4gR2FtZVNjZW5lKS5cclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG4iLCJleHBvcnQgY2xhc3MgUG9tIGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgJ01hcnRpbGxvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcblxyXG4gICAgIHRoaXMuc2V0T3JpZ2luKDAuNSwgMC4zNSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NhbGUoMS4wKTtcclxuICAgICAgICB0aGlzLnNldERlcHRoKDUpO1xyXG5cclxuICAgICAgICBzY2VuZS5hZGQuZXhpc3RpbmcodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEVzdGFkb1xyXG4gICAgICAgIHRoaXMuaXNIaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oaXRPZmZzZXQgPSA0NTtcclxuXHJcbiAgICAgICAgLy8gRWwgbWFydGlsbG8gc2lndWUgYWwgcmF0w7NuIChwZXJvIHNlIGJsb3F1ZWEgc2kgdGhlcm1vbWV0ZXJFZmZlY3RBY3RpdmUgZXN0w6EgYWN0aXZvKVxyXG4gICAgICAgIHNjZW5lLmlucHV0Lm9uKCdwb2ludGVybW92ZScsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0hpdHRpbmcgJiYgIXRoaXMuc2NlbmUudGhlcm1vbWV0ZXJFZmZlY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueCA9IHBvaW50ZXIueDtcclxuICAgICAgICAgICAgICAgIHRoaXMueSA9IHBvaW50ZXIueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgaGl0KCkge1xyXG4gICAgaWYgKHRoaXMuaXNIaXR0aW5nKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5pc0hpdHRpbmcgPSB0cnVlO1xyXG5cclxuICAgIGNvbnN0IHN0YXJ0WCA9IHRoaXMueDtcclxuICAgIGNvbnN0IHN0YXJ0WSA9IHRoaXMueTtcclxuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSB0aGlzLmFuZ2xlO1xyXG5cclxuICAgIC8vIERpcmVjY2nDs24gZGVsIGdvbHBlIHNlZ8O6biBlbCDDoW5ndWxvIGRlbCBtYXpvXHJcbiAgICBjb25zdCByYWRpYW5zID0gUGhhc2VyLk1hdGguRGVnVG9SYWQoc3RhcnRBbmdsZSArIDkwKTtcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5oaXRPZmZzZXQ7XHJcblxyXG4gICAgY29uc3QgZHggPSBNYXRoLmNvcyhyYWRpYW5zKSAqIGRpc3RhbmNlO1xyXG4gICAgY29uc3QgZHkgPSBNYXRoLnNpbihyYWRpYW5zKSAqIGRpc3RhbmNlO1xyXG5cclxuICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgdGFyZ2V0czogdGhpcyxcclxuICAgICAgICB4OiBzdGFydFggKyBkeCxcclxuICAgICAgICB5OiBzdGFydFkgKyBkeSxcclxuICAgICAgICBhbmdsZTogc3RhcnRBbmdsZSArIDE4LFxyXG4gICAgICAgIGR1cmF0aW9uOiA4MCxcclxuICAgICAgICBlYXNlOiAnUG93ZXIyLkluJyxcclxuICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgeDogc3RhcnRYLFxyXG4gICAgICAgICAgICAgICAgeTogc3RhcnRZLFxyXG4gICAgICAgICAgICAgICAgYW5nbGU6IHN0YXJ0QW5nbGUsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTQwLFxyXG4gICAgICAgICAgICAgICAgZWFzZTogJ0JhY2suT3V0JyxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSGl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG59XHJcbiIsIi8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cclxuZXhwb3J0IGNsYXNzIFBpbiB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wb3BVcER1cmF0aW9uID0gMTAwMDsgLy8gbXMgcXVlIGFwYXJlY2UgZWwgdG9wb1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gMTtcclxuXHJcbiAgICAgICAgdGhpcy5ob2xlcyA9IFtdOyAgICAgICAgICAgIC8vIHBvc2ljaW9uZXMgcG9zaWJsZXNcclxuICAgICAgICB0aGlzLmN1cnJlbnRIb2xlSW5kZXggPSAwOyAgLy8gw61uZGljZSBhY3R1YWxcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbCBkZSBjb29sZG93biBlbnRyZSBtb3ZpbWllbnRvc1xyXG4gICAgICAgIHRoaXMubW92ZUNvb2xkb3duID0gNzAwOyAvLyBtcyBhIGVzcGVyYXIgZW50cmUgbW92ZXMgKGFqdXN0YSBhcXXDrSlcclxuICAgICAgICB0aGlzLl9sYXN0TW92ZVRpbWUgPSAwO1xyXG5cclxuICAgICAgICAvLyBVc2FyIHNwcml0ZSBkZSBib2phY2tcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdib2phY2snKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDIpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gUHJlcGFyYXIgY2FsbGJhY2sgcGVybyBOTyBkZWphciBlbCBzcHJpdGUgaW50ZXJhY3Rpdm8gbWllbnRyYXMgZXN0w6kgb2N1bHRvXHJcbiAgICAgICAgdGhpcy5fb25IaXRDYWxsYmFjayA9ICgpID0+IHRoaXMuaGl0KCk7XHJcbiAgICAgICAgdGhpcy5fcG9pbnRlclJlZ2lzdGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5kaXNhYmxlSW50ZXJhY3RpdmUoKTsgLy8gYXNlZ3VyYXIgaW5pY2lvIG5vIGludGVyYWN0aXZvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXN0YWJsZWNlciBsb3MgYWd1amVyb3MgKGFycmF5IGRlIHt4LHl9KVxyXG4gICAgc2V0SG9sZXMoaG9sZXMgPSBbXSkge1xyXG4gICAgICAgIHRoaXMuaG9sZXMgPSBob2xlcztcclxuICAgICAgICBpZiAodGhpcy5ob2xlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SG9sZUluZGV4ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVG9Ib2xlKHRoaXMuY3VycmVudEhvbGVJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIGFsIHRvcG8gYWwgYWd1amVybyDDrW5kaWNlIChjb24gd3JhcClcclxuICAgIG1vdmVUb0hvbGUoaW5kZXgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaG9sZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vdyA9ICh0aGlzLnNjZW5lICYmIHRoaXMuc2NlbmUudGltZSAmJiB0aGlzLnNjZW5lLnRpbWUubm93KSA/IHRoaXMuc2NlbmUudGltZS5ub3cgOiBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLl9sYXN0TW92ZVRpbWUgPCB0aGlzLm1vdmVDb29sZG93bikge1xyXG4gICAgICAgICAgICAvLyBkZW1hc2lhZGEgcmFwaWRleiwgaWdub3JhciBtb3ZpbWllbnRvXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGFzdE1vdmVUaW1lID0gbm93O1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRIb2xlSW5kZXggPSBQaGFzZXIuTWF0aC5XcmFwKGluZGV4LCAwLCB0aGlzLmhvbGVzLmxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5ob2xlc1t0aGlzLmN1cnJlbnRIb2xlSW5kZXhdO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHBvcy54LCBwb3MueSk7XHJcblxyXG4gICAgICAgIC8vIFNpIGVsIHRvcG8gZXN0YWJhIHZpc2libGUgYWwgbW92ZXJzZSwgb2N1bHRhcmxvIHBhcmEgcGVuYWxpemFyIGNhbWJpbyByw6FwaWRvXHJcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlciByZWxhdGl2byAoLTEgLyArMSlcclxuICAgIG1vdmVJbmRleChkZWx0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5ob2xlcy5sZW5ndGgpIHJldHVybjtcclxuICAgICAgICB0aGlzLm1vdmVUb0hvbGUodGhpcy5jdXJyZW50SG9sZUluZGV4ICsgZGVsdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVsIHRvcG8gc2FsZSBkZWwgYWd1amVyb1xyXG4gICAgcG9wVXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBc2VndXJhcnNlIGRlIGVzdGFyIGVuIGVsIGFndWplcm8gY29ycmVjdG8gYWwgc2FsaXJcclxuICAgICAgICB0aGlzLm1vdmVUb0hvbGUodGhpcy5jdXJyZW50SG9sZUluZGV4KTtcclxuXHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5oZWFsdGggPSAxO1xyXG4gICAgICAgIHRoaXMuX3dhc0hpdCA9IGZhbHNlOyAvLyByZXNldGVhcjogbm8gaGEgc2lkbyBnb2xwZWFkbyBhw7puXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQWN0aXZhciBpbnRlcmFjY2nDs24gc29sbyBjdWFuZG8gZXMgdmlzaWJsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuX3BvaW50ZXJSZWdpc3RlcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLm9uKCdwb2ludGVyZG93bicsIHRoaXMuX29uSGl0Q2FsbGJhY2spO1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludGVyUmVnaXN0ZXJlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbWl0aXIgZXZlbnRvIGRlIFwic2FsaWRhXCIgcGFyYSBxdWUgbGEgZXNjZW5hIHB1ZWRhIHJlYWNjaW9uYXIgKGVqLiByZWNvZ2VyIHBvd2VydXApXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMuZW1pdCgndG9wb1BvcHBlZCcsIHtcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgaG9sZUluZGV4OiB0aGlzLmN1cnJlbnRIb2xlSW5kZXgsXHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnNwcml0ZS54LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy5zcHJpdGUueSxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogKHRoaXMuc2NlbmUudGltZSkgPyB0aGlzLnNjZW5lLnRpbWUubm93IDogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIGRlZmVuc2l2bzogbm8gcm9tcGVyIHNpIHNjZW5lLmV2ZW50cyBubyBleGlzdGVcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdFbWl0IHRvcG9Qb3BwZWQgZmFpbGVkJywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbCB0b3BvIHNlIGVzY29uZGUgZGVzcHXDqXMgZGUgY2llcnRvIHRpZW1wb1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aGlzLnBvcFVwRHVyYXRpb24sICgpID0+IHtcclxuICAgICAgICAgICAgLy8gaGlkZSgpIHNlIGVuY2FyZ2Fyw6EgZGUgZW1pdGlyIGV2ZW50byBkZSBcIm1pc3NcIiBzaSBjb3JyZXNwb25kZVxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbCB0b3BvIHNlIGVzY29uZGUgZW4gZWwgYWd1amVyb1xyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHJldHVybjsgLy8gU2kgeWEgZXN0YWJhIGluYWN0aXZvLCBubyBoYWNlciBuYWRhXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIC8vIERlc2FjdGl2YXIgaW50ZXJhY2Npw7NuIGN1YW5kbyBlc3TDoSBvY3VsdG9cclxuICAgICAgICB0aGlzLnNwcml0ZS5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTaSBubyBmdWUgZ29scGVhZG8sIGVtaXRpciBldmVudG8gZGUgXCJtaXNzXCIgKGVsIGp1Z2Fkb3IgMiBnYW5hIHB1bnRvKVxyXG4gICAgICAgIGlmICghdGhpcy5fd2FzSGl0KSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCd0b3BvTWlzc2VkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvbGVJbmRleDogdGhpcy5jdXJyZW50SG9sZUluZGV4XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdFbWl0IHRvcG9NaXNzZWQgZmFpbGVkJywgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3VhbmRvIHNlIGdvbHBlYSBhbCB0b3BvIC0gcmV0b3JuYSB0cnVlIHNpIGZ1ZSBnb2xwZWFkb1xyXG4gICAgaGl0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLl93YXNIaXQgPSB0cnVlOyAvLyBNYXJjYXIgcXVlIGZ1ZSBnb2xwZWFkb1xyXG4gICAgICAgIHRoaXMuaGVhbHRoIC09IDE7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmMDAwMCk7IC8vIFBhcnBhZGVhIHJvam8gXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDEwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhlYWx0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSW5kaWNhciBxdWUgZnVlIGdvbHBlYWRvXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldGVhciBlbCB0b3BvXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmhlYWx0aCA9IDE7XHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgfVxyXG59IiwiLy8gc3JjL3NjZW5lcy9HYW1lU2NlbmUuanNcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBQb20gfSBmcm9tICcuLi9lbnRpdGllcy9Qb20nO1xyXG5pbXBvcnQgeyBQaW4gfSBmcm9tICcuLi9lbnRpdGllcy9QaW4nO1xyXG5cclxuY29uc3QgUE9XRVJVUF9DTE9DSyA9ICdjbG9jayc7XHJcbmNvbnN0IFBPV0VSVVBfVEhFUk1PTUVURVIgPSAndGhlcm1vbWV0ZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgLy8gR2FtZSBzdGF0ZVxyXG4gICAgdGhpcy50aW1lTGVmdCA9IDY7IC8vIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBTY29yZXNcclxuICAgIHRoaXMucHVudG9zUGxheWVyMSA9IDA7IC8vIFBvbVxyXG4gICAgdGhpcy5wdW50b3NQbGF5ZXIyID0gMDsgLy8gUGluXHJcblxyXG4gICAgLy8gUG93ZXJ1cCBjb25maWcgJiBzdGF0ZVxyXG4gICAgdGhpcy5wb3dlcnVwQW1vdW50ID0gMjA7XHJcbiAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMSA9IDM7XHJcbiAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMiA9IDM7XHJcbiAgICB0aGlzLnBvd2VydXBTdG9yZWRQMSA9IFtdO1xyXG4gICAgdGhpcy5wb3dlcnVwU3RvcmVkUDIgPSBbXTtcclxuICAgIHRoaXMucG93ZXJ1cHNVc2VkUDEgPSAwO1xyXG4gICAgdGhpcy5wb3dlcnVwc1VzZWRQMiA9IDA7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwID0gbnVsbDtcclxuICAgIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9IC0xO1xyXG4gICAgdGhpcy5wb3dlcnVwRHVyYXRpb24gPSA1MDAwO1xyXG4gICAgdGhpcy5wb3dlcnVwU3Bhd25NaW4gPSA0MDAwO1xyXG4gICAgdGhpcy5wb3dlcnVwU3Bhd25NYXggPSAxMjAwMDtcclxuXHJcbiAgICAvLyBUaGVybW9tZXRlciBlZmZlY3RcclxuICAgIHRoaXMudGhlcm1vbWV0ZXJFZmZlY3RBY3RpdmUgPSBmYWxzZTtcclxuICAgIHRoaXMucGluQmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy50aGVybW9tZXRlclRpbWVyID0gbnVsbDtcclxuXHJcbiAgICAvLyB0aW1lcnMgLyByZWZlcmVuY2VzXHJcbiAgICB0aGlzLnRvcG9UaW1lciA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVUaW1lciA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBwcmVsb2FkKCkge1xyXG4gICAgLy8gSU3DgUdFTkVTXHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9mb25kb19nYW1lLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdNYXJ0aWxsbycsICdhc3NldHMvbWF6by5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnYm9qYWNrJywgJ2Fzc2V0cy9waW4ucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BpbmdvbHBlYWRvJywgJ2Fzc2V0cy9waW5nb2xwZWFkby5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgncmVsb2onLCAnYXNzZXRzL3JlbG9qYXJlbmEucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FndWplcm8nLCAnYXNzZXRzL2FndWplcm8ucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ3Rlcm1vbWV0cm8nLCAnYXNzZXRzL3Rlcm1vbWV0cm8ucG5nJyk7XHJcblxyXG4gICAgLy8gU09OSURPU1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdNdXNpY2Ffbml2ZWwnLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvSHlkcm9nZW4ubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0Nhc3RvcicsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9DYXN0b3IubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0dvbHBlJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0dvbHBlLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9fbWFydGlsbG8nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvTWFydGlsbG9fanVlei5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnQm90b24nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQm90b24ubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0ZyaW8nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvVGVtYmxlcXVlLm1wMycpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgLy8gQmFja2dyb3VuZCAmIFVJIGNvbnRhaW5lclxyXG4gICAgdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgMzAwLCAxMDAwLCA2MDAsIDB4MWExYTJlKTtcclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgYmcuc2V0RGlzcGxheVNpemUodGhpcy5zY2FsZS53aWR0aCwgdGhpcy5zY2FsZS5oZWlnaHQpO1xyXG5cclxuICAgIHRoaXMuYWRkLmltYWdlKDIwMCwgNDgwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcbiAgICB0aGlzLmFkZC5pbWFnZSgzMjAsIDMyMCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoNDQwLCA0ODAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuICAgIHRoaXMuYWRkLmltYWdlKDU2MCwgMzIwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcbiAgICB0aGlzLmFkZC5pbWFnZSg2ODAsIDQ4MCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoODAwLCAzMjAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAvLyBTb25pZG8gZGUgZm9uZG9cclxuICAgdGhpcy5tdXNpY2FOaXZlbCA9IHRoaXMuc291bmQuYWRkKCdNdXNpY2Ffbml2ZWwnKTtcclxudGhpcy5tdXNpY2FOaXZlbC5wbGF5KHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjUgfSk7XHJcblxyXG5cclxuXHJcbiAgICAvLyBDdXJzb3I6IG9jdWx0YW1vcyBwb3IgZGVmZWN0bzsgbGEgZW50aWRhZCBQb20gcHVlZGUgbW9zdHJhciBzdSBwcm9waW8gc3ByaXRlXHJcbiAgICB0aGlzLmlucHV0Lm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xyXG4gICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XHJcblxyXG4gICAgLy8gTWFydGlsbG8gcXVlIHNpZ3VlIGFsIHJhdMOzbiAoUG9tKVxyXG4gIHRoaXMubWFydGlsbG8gPSBuZXcgUG9tKFxyXG4gIHRoaXMsXHJcbiAgJ01hcnRpbGxvJyxcclxuICB0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIueCxcclxuICB0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIueVxyXG4pO1xyXG5cclxuXHJcbiAgXHJcblxyXG4gICAgLy8gU2NvcmVzIGFycmliYSBhIGxhIGl6cXVpZXJkYSB5IGRlcmVjaGFcclxuICAgIHRoaXMuc2NvcmVQbGF5ZXIxID0gdGhpcy5hZGQudGV4dCg4MCwgNTAsICdQb206IDAnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzZhN2NiNGZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLCAwKTtcclxuXHJcbiAgICB0aGlzLnNjb3JlUGxheWVyMiA9IHRoaXMuYWRkLnRleHQoODUwLCA1MCwgJ1BpbjogMCcsIHtcclxuICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgY29sb3I6ICcjOWU0YjRiZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAsIDApO1xyXG5cclxuICAgIC8vIFRpbWVyIGFiYWpvIGEgbGEgZGVyZWNoYVxyXG4gICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KFxyXG4gICAgICB0aGlzLnNjYWxlLndpZHRoIC0gMjAsXHJcbiAgICAgIHRoaXMuc2NhbGUuaGVpZ2h0IC0gMjAsXHJcbiAgICAgIHRoaXMuZm9ybWF0VGltZSh0aGlzLnRpbWVMZWZ0KSxcclxuICAgICAgeyBmb250U2l6ZTogJzQwcHgnLGZvbnRTdHlsZTogJ2JvbGQnLCBjb2xvcjogJyNmZmZmZmZmZicsIGZvbnRGYW1pbHk6ICdBcmlhbCcgfVxyXG4gICAgKS5zZXRPcmlnaW4oMSwgMSk7XHJcblxyXG4gICAgLy8gUG93ZXJ1cCBVSVxyXG4gICAgdGhpcy5wb3dlcnVwVGV4dFAxID0gdGhpcy5hZGQudGV4dCg4MCwgODAsIGBQMSBQb3dlcnVwczogJHt0aGlzLnBvd2VydXBTdG9yZWRQMX0vJHt0aGlzLnBvd2VydXBNYXhTdG9yZWRQMX1gLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgIGNvbG9yOiAnIzZhN2NiNGZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLCAwKTtcclxuXHJcbiAgICB0aGlzLnBvd2VydXBUZXh0UDIgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggKyAyMCwgODAsIGBQMiBQb3dlcnVwczogJHt0aGlzLnBvd2VydXBTdG9yZWRQMn0vJHt0aGlzLnBvd2VydXBNYXhTdG9yZWRQMn1gLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgIGNvbG9yOiAnIzllNGI0YmZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigxLjUsIDApO1xyXG5cclxuICAgIC8vIFRlY2xhczogc29sbyBzZSBjcmVhbiB1bmEgdmV6XHJcbiAgICB0aGlzLmtleXMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICBvbmU6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5PTkUsXHJcbiAgICAgIHR3bzogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlRXTyxcclxuICAgICAgdGhyZWU6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5USFJFRSxcclxuICAgICAgZm91cjogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkZPVVIsXHJcbiAgICAgIGZpdmU6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5GSVZFLFxyXG4gICAgICBzaXg6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5TSVgsXHJcbiAgICAgIGVzYzogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyxcclxuICAgICAgc3BhY2U6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5TUEFDRVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmVzdW1lIGhhbmRsZXIgKGN1YW5kbyB2dWVsdmVzIGRlc2RlIHBhdXNhKVxyXG4gICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsIHRoaXMub25SZXN1bWUsIHRoaXMpO1xyXG5cclxuICAgIC8vIENyZWFyIHRvcG8gKFBpbilcclxuICAgIHRoaXMuY3JlYXRlVG9wb3MoKTtcclxuXHJcbiAgICAvLyBTdGFydCBwb3dlcnVwIHNwYXduc1xyXG4gICAgdGhpcy5zY2hlZHVsZU5leHRQb3dlcnVwKCk7XHJcblxyXG4gICAgLy8gRXZlbnRvIHRvcG8gcG9wcGVkOiByZWNvZ2UgZWwgcG93ZXJ1cCBhdXRvbcOhdGljYW1lbnRlIHBhcmEgUDIgc2kgY29pbmNpZGVcclxuICAgIHRoaXMuZXZlbnRzLm9mZigndG9wb1BvcHBlZCcpOyAvLyBhc2VndXJhbW9zIHF1ZSBubyBoYXlhIGR1cGxpY2Fkb3NcclxuICAgIHRoaXMuZXZlbnRzLm9uKCd0b3BvUG9wcGVkJywgKGRhdGEgPSB7fSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXAgJiYgdGhpcy5wb3dlcnVwSG9sZUluZGV4ID09PSBkYXRhLmhvbGVJbmRleCkge1xyXG4gICAgICAgIC8vIFNpIGVsIHRvcG8gYXBhcmVjZSBleGFjdGFtZW50ZSBlbiBlbCBwb3dlcnVwIC0+IHNlIHJlY29nZSBwYXJhIFAyIChQaW4pXHJcbiAgICAgICAgdGhpcy5waWNrdXBQb3dlcnVwQnlQbGF5ZXIoMik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEV2ZW50byB0b3BvIG1pc3NlZDogY3VhbmRvIGVsIHRvcG8gZGVzYXBhcmVjZSBzaW4gc2VyIGdvbHBlYWRvLCBwdW50byBwYXJhIFAyXHJcbiAgICB0aGlzLmV2ZW50cy5vZmYoJ3RvcG9NaXNzZWQnKTsgLy8gYXNlZ3VyYW1vcyBxdWUgbm8gaGF5YSBkdXBsaWNhZG9zXHJcbiAgICB0aGlzLmV2ZW50cy5vbigndG9wb01pc3NlZCcsIChkYXRhID0ge30pID0+IHtcclxuICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICBpZiAoIXRoaXMucGluQmxvY2tlZCkge1xyXG4gICAgICAgIHRoaXMucHVudG9zUGxheWVyMiArPSAxO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmVVSSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJbnB1dCBwb2ludGVyOiBtYW5lamFkb3Igw7puaWNvXHJcbiAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyKSA9PiB0aGlzLmhhbmRsZVBvaW50ZXJEb3duKHBvaW50ZXIpKTtcclxuXHJcbiAgICAvLyBUaW1lciBjdWVudGEgYXRyw6FzXHJcbiAgICB0aGlzLmdhbWVUaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgIGRlbGF5OiAxMDAwLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgICB0aGlzLnRpbWVMZWZ0LS07XHJcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dCh0aGlzLmZvcm1hdFRpbWUodGhpcy50aW1lTGVmdCkpO1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVMZWZ0IDw9IDApIHtcclxuICAgICAgICAgIHRoaXMuZW5kUm91bmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFzZWd1cmFtb3MgcXVlIGxvcyB0ZXh0b3MgeSBVSSBlc3TDqW4gc2luY3Jvbml6YWRvc1xyXG4gICAgdGhpcy51cGRhdGVTY29yZVVJKCk7XHJcbiAgICB0aGlzLnVwZGF0ZVBvd2VydXBVSSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEhlbHBlcjogcG9pbnRlciBoYW5kbGVyXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGhhbmRsZVBvaW50ZXJEb3duKHBvaW50ZXIpIHtcclxuICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpc0xlZnQgPSBwb2ludGVyLmJ1dHRvbiA9PT0gMCB8fCAocG9pbnRlci5ldmVudCAmJiBwb2ludGVyLmV2ZW50LmJ1dHRvbiA9PT0gMCk7XHJcbiAgICBjb25zdCBpc1JpZ2h0ID0gcG9pbnRlci5idXR0b24gPT09IDIgfHwgKHBvaW50ZXIuZXZlbnQgJiYgcG9pbnRlci5ldmVudC5idXR0b24gPT09IDIpO1xyXG5cclxuICAgIC8vIFNpIGhheSBwb3dlcnVwIHkgc2UgY2xpY2tlYSBzb2JyZSDDqWxcclxuICAgIGlmICh0aGlzLnBvd2VydXAgJiYgdGhpcy5wb3dlcnVwLnNwcml0ZSkge1xyXG4gICAgICBjb25zdCBwQm91bmRzID0gdGhpcy5wb3dlcnVwLnNwcml0ZS5nZXRCb3VuZHMoKTtcclxuICAgICAgaWYgKHBCb3VuZHMgJiYgcEJvdW5kcy5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSkpIHtcclxuICAgICAgICBpZiAoaXNMZWZ0KSB7XHJcbiAgICAgICAgICB0aGlzLnBpY2t1cFBvd2VydXBCeVBsYXllcigxKTsgLy8gUGluIHJlY29nZSBjb24gTE1CXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1JpZ2h0KSB7XHJcbiAgICAgICAgICAvLyBTaSBlbCB0b3BvIGVzdMOhIGVuIGVsIG1pc21vIGFndWplcm8sIFAyIHB1ZWRlIHJlY29nZXIgY29uIFJNQlxyXG4gICAgICAgICAgaWYgKHRoaXMudG9wbyAmJiB0aGlzLnBvd2VydXBIb2xlSW5kZXggPT09IHRoaXMudG9wby5jdXJyZW50SG9sZUluZGV4KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGlja3VwUG93ZXJ1cEJ5UGxheWVyKDIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpIHNlIGhhY2UgUk1CIGVuIG90cm8gc2l0aW86IHVzYXIgcG93ZXJ1cCBQMSAoUG9tKVxyXG4gICAgaWYgKGlzUmlnaHQpIHtcclxuICAgICAgdGhpcy51c2VQb3dlcnVwQnlQbGF5ZXIoMSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTaSBMTUI6IGludGVudGFyIGdvbHBlYXIgdG9wbyAoc2kgZXN0w6EgYWN0aXZvKSDigJQgc2kgZmFsbGFzLCBwdW50byBwYXJhIGp1Z2Fkb3IgMiAoUG9tKVxyXG4gICAgaWYgKGlzTGVmdCkge1xyXG5cclxuICAvLyBhbmltYWNpw7NuIGRlbCBtYXJ0aWxsbyBTSUVNUFJFIHF1ZSBzZSBnb2xwZWFcclxuICBpZiAodGhpcy5tYXJ0aWxsbykge1xyXG4gICAgdGhpcy5tYXJ0aWxsby5oaXQoKTtcclxuICB9XHJcblxyXG4gIGlmICghdGhpcy50b3BvIHx8ICF0aGlzLnRvcG8uc3ByaXRlKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGJvdW5kcyA9IHRoaXMudG9wby5zcHJpdGUuZ2V0Qm91bmRzKCk7XHJcbiAgY29uc3Qgc21hbGxlckJvdW5kcyA9IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoXHJcbiAgICBib3VuZHMueCArIGJvdW5kcy53aWR0aCAqIDAuMjUsXHJcbiAgICBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQgKiAwLjI1LFxyXG4gICAgYm91bmRzLndpZHRoICogMC41LFxyXG4gICAgYm91bmRzLmhlaWdodCAqIDAuNVxyXG4gICk7XHJcbiAgY29uc3QgY2xpY2tlZFRvcG8gPSBzbWFsbGVyQm91bmRzLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuXHJcbiAgaWYgKGNsaWNrZWRUb3BvICYmIHRoaXMudG9wby5pc0FjdGl2ZSkge1xyXG4gICAgLy8gR29scGUgZXhpdG9zb1xyXG4gICAgdGhpcy5wdW50b3NQbGF5ZXIxICs9IDE7XHJcbiAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuICAgIHRoaXMudG9wby5oaWRlKCk7XHJcbiAgICB0aGlzLnNvdW5kLnBsYXkoJ0dvbHBlJyk7XHJcbiAgICB0aGlzLnNvdW5kLnBsYXkoJ0Nhc3RvcicpO1xyXG4gICAgdGhpcy5jYW1lcmFzLm1haW4uc2hha2UoMjAwLCAwLjAxKTtcclxuICAgIHJldHVybjtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gRmFsbG9cclxuICAgIGlmICghdGhpcy5waW5CbG9ja2VkKSB7XHJcbiAgICAgIHRoaXMucHVudG9zUGxheWVyMiArPSAxO1xyXG4gICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkoKTtcclxuICAgICAgdGhpcy5zb3VuZC5wbGF5KCdTb25pZG9fbWFydGlsbG8nKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuICB9XHJcblxyXG4gIFxyXG4gIGNyZWF0ZVRvcG9zKCkge1xyXG4gICAgdGhpcy50b3BvSG9sZXMgPSBbXHJcbiAgICAgIHsgeDogMjAwLCB5OiA0ODAgfSxcclxuICAgICAgeyB4OiAzMjAsIHk6IDMyMCB9LFxyXG4gICAgICB7IHg6IDQ0MCwgeTogNDgwIH0sXHJcbiAgICAgIHsgeDogNTYwLCB5OiAzMjAgfSxcclxuICAgICAgeyB4OiA2ODAsIHk6IDQ4MCB9LFxyXG4gICAgICB7IHg6IDgwMCwgeTogMzIwIH1cclxuICAgIF07XHJcblxyXG4gICAgdGhpcy50b3BvID0gbmV3IFBpbih0aGlzLCAwLCB0aGlzLnRvcG9Ib2xlc1swXS54LCB0aGlzLnRvcG9Ib2xlc1swXS55KTtcclxuICAgIHRoaXMudG9wby5zZXRIb2xlcyh0aGlzLnRvcG9Ib2xlcyk7XHJcblxyXG4gICAgLy8gRWwgUGluICh0b3BvKSBkZWJlIG1hbmVqYXIgc3UgcHJvcGlvIHBvaW50ZXJkb3duOyBsbyBjb25lY3RhbW9zIGFxdcOtIGRlIGZvcm1hIHNlZ3VyYTpcclxuICAgIHRoaXMudG9wby5zcHJpdGUuc2V0SW50ZXJhY3RpdmUoKTtcclxuICAgIHRoaXMudG9wby5zcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXIsIGxvY2FsWCwgbG9jYWxZLCBldmVudCkgPT4ge1xyXG4gICAgICAvLyBFdml0YXIgcXVlIGVsIGV2ZW50byBidXJidWplZSBhbCBpbnB1dCBnbG9iYWxcclxuICAgICAgdHJ5IHsgaWYgKGV2ZW50ICYmIGV2ZW50LnN0b3BQcm9wYWdhdGlvbikgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgaWYgKHRoaXMudG9wby5pc0FjdGl2ZSAmJiAhdGhpcy5waW5CbG9ja2VkKSB7XHJcbiAgICAgICAgLy8gR29scGUgZXhpdG9zbyAtPiBwdW50byBwYXJhIGp1Z2Fkb3IgMSAoUG9tKVxyXG4gICAgICAgIHRoaXMucHVudG9zUGxheWVyMSArPSAxO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmVVSSgpO1xyXG5cclxuICAgICAgICAvLyBBbmltYXIgZWwgbWFydGlsbG8gY3VhbmRvIGdvbHBlYVxyXG4gICAgICAgIGlmICh0aGlzLm1hcnRpbGxvKSB7XHJcbiAgICAgICAgICB0aGlzLm1hcnRpbGxvLmhpdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWFyY2FyIGVsIHRvcG8gY29tbyBnb2xwZWFkbyB5IHByb2Nlc2FyIGVsIGdvbHBlXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRvcG8uaGl0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICB0aGlzLnRvcG8uaGl0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudG9wby5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTb25pZG9zIHkgZWZlY3RvXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdHb2xwZScpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnQ2FzdG9yJyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNoYWtlKDIwMCwgMC4wMSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRpbWVyIGRlIGFwYXJpY2nDs24gZGVsIHRvcG8gKHBvcFVwIGNhZGEgWCBtcyBzaSBlc3TDoSBlc2NvbmRpZG8pXHJcbiAgICB0aGlzLnRvcG9UaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgIGRlbGF5OiAxNTAwLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgICBpZiAoIXRoaXMudG9wby5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgdGhpcy50b3BvLnBvcFVwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIFxyXG4gIC8vIFBvd2VydXBzXHJcblxyXG4gIHNjaGVkdWxlTmV4dFBvd2VydXAoKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5wb3dlcnVwKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5wb3dlcnVwTWF4U3RvcmVkUDEgPD0gMCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cE1heFN0b3JlZFAyIDw9IDApIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBkZWxheSA9IFBoYXNlci5NYXRoLkJldHdlZW4odGhpcy5wb3dlcnVwU3Bhd25NaW4sIHRoaXMucG93ZXJ1cFNwYXduTWF4KTtcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChkZWxheSwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIHRoaXMuc3Bhd25Qb3dlcnVwQXRSYW5kb21Ib2xlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNwYXduUG93ZXJ1cEF0UmFuZG9tSG9sZSgpIHtcclxuICAgIGlmICghdGhpcy50b3BvSG9sZXMgfHwgIXRoaXMudG9wb0hvbGVzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGluZGV4ID0gUGhhc2VyLk1hdGguQmV0d2VlbigwLCB0aGlzLnRvcG9Ib2xlcy5sZW5ndGggLSAxKTtcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMudG9wb0hvbGVzW2luZGV4XTtcclxuXHJcbiAgICAvLyBFbGVnaXIgdGlwbyBhbGVhdG9yaWFtZW50ZVxyXG4gICAgY29uc3QgcG93ZXJ1cFR5cGVzID0gW1BPV0VSVVBfQ0xPQ0ssIFBPV0VSVVBfVEhFUk1PTUVURVJdO1xyXG4gICAgdGhpcy5jdXJyZW50UG93ZXJ1cFR5cGUgPSBwb3dlcnVwVHlwZXNbUGhhc2VyLk1hdGguQmV0d2VlbigwLCBwb3dlcnVwVHlwZXMubGVuZ3RoIC0gMSldO1xyXG5cclxuICAgIGxldCBzcHJpdGVLZXk7XHJcbiAgICBsZXQgc2NhbGUgPSAwLjQ1OyAvLyBlc2NhbGEgcG9yIGRlZmVjdG8gcGFyYSByZWxvalxyXG4gICAgaWYgKHRoaXMuY3VycmVudFBvd2VydXBUeXBlID09PSBQT1dFUlVQX0NMT0NLKSB7XHJcbiAgICAgIHNwcml0ZUtleSA9ICdyZWxvaic7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFBvd2VydXBUeXBlID09PSBQT1dFUlVQX1RIRVJNT01FVEVSKSB7XHJcbiAgICAgIHNwcml0ZUtleSA9ICd0ZXJtb21ldHJvJztcclxuICAgICAgc2NhbGUgPSAwLjMwOyAvLyBlc2NhbGEgbcOhcyBncmFuZGUgcGFyYSB0ZXJtw7NtZXRyb1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucG93ZXJ1cCA9IHRoaXMuYWRkLmltYWdlKHBvcy54LCBwb3MueSAtIDEwLCBzcHJpdGVLZXkpLnNldFNjYWxlKHNjYWxlKS5zZXREZXB0aCg4KTtcclxuXHJcbiAgICB0aGlzLnBvd2VydXBIb2xlSW5kZXggPSBpbmRleDtcclxuICAgIHRoaXMucG93ZXJ1cC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgLy8gRXZlbnRvIGNsaWNrIGVuIHBvd2VydXA6IEp1Z2Fkb3IgMSAoUGluKSAoTE1CKSByZWNvZ2VcclxuICAgIHRoaXMucG93ZXJ1cC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IGlzTGVmdCA9IHBvaW50ZXIuYnV0dG9uID09PSAwIHx8IChwb2ludGVyLmV2ZW50ICYmIHBvaW50ZXIuZXZlbnQuYnV0dG9uID09PSAwKTtcclxuICAgICAgaWYgKGlzTGVmdCkge1xyXG4gICAgICAgIHRoaXMucGlja3VwUG93ZXJ1cEJ5UGxheWVyKDEpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnQm90b24nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZmxvdGFjacOzbiBzdXRpbFxyXG4gICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgdGFyZ2V0czogdGhpcy5wb3dlcnVwLFxyXG4gICAgICB5OiBwb3MueSAtIDE2LFxyXG4gICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICByZXBlYXQ6IC0xLFxyXG4gICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBleHBpcmFjacOzbiBkZWwgcG93ZXJ1cFxyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKHRoaXMucG93ZXJ1cER1cmF0aW9uLCAoKSA9PiB7XHJcbiAgICAgIGlmICghdGhpcy5wb3dlcnVwKSByZXR1cm47XHJcbiAgICAgIHRoaXMucG93ZXJ1cC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMucG93ZXJ1cCA9IG51bGw7XHJcbiAgICAgIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9IC0xO1xyXG4gICAgICB0aGlzLnNjaGVkdWxlTmV4dFBvd2VydXAoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcGlja3VwUG93ZXJ1cEJ5UGxheWVyKHBsYXllcklkKSB7XHJcbiAgICBpZiAoIXRoaXMucG93ZXJ1cCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIFRlcm3Ds21ldHJvIHNvbG8gcHVlZGUgc2VyIHJlY29naWRvIHBvciBQb20gKFAyKVxyXG4gICAgaWYgKHRoaXMuY3VycmVudFBvd2VydXBUeXBlID09PSBQT1dFUlVQX1RIRVJNT01FVEVSICYmIHBsYXllcklkICE9PSAyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHBsYXllcklkID09PSAxKSB7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBzVXNlZFAxID49IDMpIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAxLmxlbmd0aCA+PSB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB0aGlzLnBvd2VydXBTdG9yZWRQMS5wdXNoKHRoaXMuY3VycmVudFBvd2VydXBUeXBlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBzVXNlZFAyID49IDMpIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAyLmxlbmd0aCA+PSB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB0aGlzLnBvd2VydXBTdG9yZWRQMi5wdXNoKHRoaXMuY3VycmVudFBvd2VydXBUeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTb25pZG8gYWwgcmVjb2dlciBwb3dlcnVwXHJcbiAgICBpZiAodGhpcy5zb3VuZC5nZXQoJ0JvdG9uJykpIHRoaXMuc291bmQucGxheSgnQm90b24nKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgVUlcclxuICAgIHRoaXMudXBkYXRlUG93ZXJ1cFVJKCk7XHJcblxyXG4gICAgLy8gRGVzdHJveSBwb3dlcnVwIGFuZCBzY2hlZHVsZSBuZXh0IHNwYXduXHJcbiAgICBpZiAodGhpcy5wb3dlcnVwKSB7XHJcbiAgICAgIHRoaXMucG93ZXJ1cC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMucG93ZXJ1cCA9IG51bGw7XHJcbiAgICAgIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9IC0xO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zY2hlZHVsZU5leHRQb3dlcnVwKCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHVzZVBvd2VydXBCeVBsYXllcihwbGF5ZXJJZCkge1xyXG4gICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGxldCBwb3dlcnVwVHlwZTtcclxuICAgIGlmIChwbGF5ZXJJZCA9PT0gMSkge1xyXG4gICAgICBpZiAodGhpcy5wb3dlcnVwU3RvcmVkUDEubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgcG93ZXJ1cFR5cGUgPSB0aGlzLnBvd2VydXBTdG9yZWRQMS5wb3AoKTtcclxuICAgICAgaWYodGhpcy5wb3dlcnVwTWF4U3RvcmVkUDE+MClcclxuICAgICAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMS0tXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5wb3dlcnVwU3RvcmVkUDIubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgcG93ZXJ1cFR5cGUgPSB0aGlzLnBvd2VydXBTdG9yZWRQMi5wb3AoKTtcclxuICAgICAgaWYodGhpcy5wb3dlcnVwTWF4U3RvcmVkUDI+MClcclxuICAgICAgICB0aGlzLnBvd2VydXBNYXhTdG9yZWRQMi0tO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwcGx5IGVmZmVjdCBiYXNlZCBvbiB0eXBlXHJcbiAgICBpZiAocG93ZXJ1cFR5cGUgPT09IFBPV0VSVVBfQ0xPQ0spIHtcclxuICAgICAgLy8gQXVtZW50YXIgdGllbXBvXHJcbiAgICAgIHRoaXMudGltZUxlZnQgKz0gdGhpcy5wb3dlcnVwQW1vdW50O1xyXG4gICAgICB0aGlzLnRpbWVyVGV4dC5zZXRUZXh0KHRoaXMuZm9ybWF0VGltZSh0aGlzLnRpbWVMZWZ0KSk7XHJcbiAgICB9IGVsc2UgaWYgKHBvd2VydXBUeXBlID09PSBQT1dFUlVQX1RIRVJNT01FVEVSKSB7XHJcbiAgICAgIC8vIEFjdGl2YXIgZWZlY3RvIGRlbCB0ZXJtw7NtZXRyb1xyXG4gICAgICB0aGlzLnRoZXJtb21ldGVyRWZmZWN0QWN0aXZlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5waW5CbG9ja2VkID0gdHJ1ZTtcclxuICAgICAgLy9kZXRlbmVyIGVsIHRpZW1wb1xyXG4gICAgICB0aGlzLmdhbWVUaW1lci5wYXVzZWQgPSB0cnVlO1xyXG5cclxuICAgICAgLy9zb25pZG8gZGUgZnJpb1xyXG4gICAgICB0aGlzLnNvdW5kLnBsYXkoJ0ZyaW8nKTtcclxuXHJcblxyXG5cclxuICAgICAgLy8gQ3JlYXIgb3ZlcmxheSBhenVsIGNsYXJvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoXHJcbiAgICAgICAgdGhpcy5zY2FsZS53aWR0aCAvIDIsXHJcbiAgICAgICAgdGhpcy5zY2FsZS5oZWlnaHQgLyAyLFxyXG4gICAgICAgIHRoaXMuc2NhbGUud2lkdGgsXHJcbiAgICAgICAgdGhpcy5zY2FsZS5oZWlnaHQsXHJcbiAgICAgICAgMHg4N0NFRUIsIC8vIFNreSBibHVlIC8gYXp1bCBjbGFyb1xyXG4gICAgICAgIDAuNCAvLyBhbGZhIDQwJSBwYXJhIHF1ZSBzZSB2ZWEgZGUgZm9uZG8gcGVybyB0cmFuc3BhcmVudGVcclxuICAgICAgKS5zZXREZXB0aCgxMCk7IC8vIHBvciBlbmNpbWEgZGUgbGEgbWF5b3LDrWEgZGUgb2JqZXRvcyBwZXJvIG5vIGRlIFVJIGNyw610aWNhXHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnRoZXJtb21ldGVyVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgIGRlbGF5OiAxMDAwLFxyXG4gICAgICAgIHJlcGVhdDogMywgLy8gNCB0aWNrczogMCwxLDIsM1xyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnB1bnRvc1BsYXllcjIgKz0gMjtcclxuICAgICAgICAgIHRoaXMudXBkYXRlU2NvcmVVSSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50aGVybW9tZXRlckVmZmVjdEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGluQmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZVRpbWVyLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnRoZXJtb21ldGVyVGltZXIpIHtcclxuICAgICAgICAgIHRoaXMudGhlcm1vbWV0ZXJUaW1lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICB0aGlzLnRoZXJtb21ldGVyVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBFbGltaW5hciBlbCBvdmVybGF5IGFsIHRlcm1pbmFyXHJcbiAgICAgICAgaWYgKG92ZXJsYXkpIHtcclxuICAgICAgICAgIG92ZXJsYXkuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmVlZGJhY2sgdmlzdWFsIHkgc29ub3JvXHJcbiAgICB0aGlzLmNhbWVyYXMubWFpbi5mbGFzaCgxNTAsIDEwMCwgMjU1LCAxMDApO1xyXG4gICAgaWYgKHRoaXMuc291bmQuZ2V0KCdCb3RvbicpKSB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJyk7XHJcblxyXG4gICAgLy8gYWN0dWFsaXphciBVSVxyXG4gICAgdGhpcy51cGRhdGVQb3dlcnVwVUkoKTtcclxuXHJcbiAgICAvLyBpbmNyZW1lbnRhciBjb250YWRvciBkZSBwb3dlcnVwcyB1c2Fkb3NcclxuICAgIGlmIChwbGF5ZXJJZCA9PT0gMSkge1xyXG4gICAgICB0aGlzLnBvd2VydXBzVXNlZFAxKys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBvd2VydXBzVXNlZFAyKys7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gVUkgdXBkYXRlIGhlbHBlcnNcclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgdXBkYXRlU2NvcmVVSSgpIHtcclxuICAgIC8vIENvbnNpc3RlbmNpYSBjb24gYXNpZ25hY2nDs246IFAxID0gUG9tLCBQMiA9IFBpblxyXG4gICAgaWYgKHRoaXMuc2NvcmVQbGF5ZXIxKSB0aGlzLnNjb3JlUGxheWVyMS5zZXRUZXh0KGBQb206ICR7dGhpcy5wdW50b3NQbGF5ZXIxfWApO1xyXG4gICAgaWYgKHRoaXMuc2NvcmVQbGF5ZXIyKSB0aGlzLnNjb3JlUGxheWVyMi5zZXRUZXh0KGBQaW46ICR7dGhpcy5wdW50b3NQbGF5ZXIyfWApO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUG93ZXJ1cFVJKCkge1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cFRleHRQMSkgdGhpcy5wb3dlcnVwVGV4dFAxLnNldFRleHQoYFAxIFBvd2VydXBzOiAke3RoaXMucG93ZXJ1cFN0b3JlZFAxLmxlbmd0aH0vJHt0aGlzLnBvd2VydXBNYXhTdG9yZWRQMX1gKTtcclxuICAgIGlmICh0aGlzLnBvd2VydXBUZXh0UDIpIHRoaXMucG93ZXJ1cFRleHRQMi5zZXRUZXh0KGBQMiBQb3dlcnVwczogJHt0aGlzLnBvd2VydXBTdG9yZWRQMi5sZW5ndGh9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkUDJ9YCk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gRm9ybWF0IHRpbWUgaGVscGVyXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGZvcm1hdFRpbWUoc2Vjb25kcykge1xyXG4gICAgY29uc3QgbSA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBzID0gKHNlY29uZHMgJSA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgcmV0dXJuIGAke219OiR7c31gO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIFVwZGF0ZSBsb29wXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuXHJcbiAgICAvLyBNYW5lam8gdGVjbGFzIDEtNjogbW92ZXIgdG9wbyAoc29sbyBzaSB0b3BvIGVzdMOhIGRpc3BvbmlibGUpXHJcbiAgICBpZiAodGhpcy50b3BvKSB7XHJcbiAgICAgIGlmICh0aGlzLmtleXMub25lLmlzRG93bikgdGhpcy50b3BvLm1vdmVUb0hvbGUoMCk7XHJcbiAgICAgIGlmICh0aGlzLmtleXMudHdvLmlzRG93bikgdGhpcy50b3BvLm1vdmVUb0hvbGUoMSk7XHJcbiAgICAgIGlmICh0aGlzLmtleXMudGhyZWUuaXNEb3duKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSgyKTtcclxuICAgICAgaWYgKHRoaXMua2V5cy5mb3VyLmlzRG93bikgdGhpcy50b3BvLm1vdmVUb0hvbGUoMyk7XHJcbiAgICAgIGlmICh0aGlzLmtleXMuZml2ZS5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDQpO1xyXG4gICAgICBpZiAodGhpcy5rZXlzLnNpeC5pc0Rvd24pIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVTQyBwYXJhIHBhdXNhclxyXG4gICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmtleXMuZXNjKSkge1xyXG4gICAgICBpZiAoIXRoaXMuaXNHYW1lT3Zlcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTUEFDRSBwYXJhIHVzYXIgcG93ZXJ1cCBQMlxyXG4gICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmtleXMuc3BhY2UpKSB7XHJcbiAgICAgIHRoaXMudXNlUG93ZXJ1cEJ5UGxheWVyKDIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEVuZCByb3VuZCAocGFudGFsbGEgZmluYWwpXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5lbmRSb3VuZCgpIHtcclxuICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlO1xyXG4gIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG5cclxuICAvLyBNb3N0cmFyIGN1cnNvclxyXG4gIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICB9XHJcblxyXG4gIC8vIERlc2FjdGl2YXIgaW5wdXQgZ2VuZXJhbFxyXG4gIHRoaXMuaW5wdXQub2ZmKCdwb2ludGVyZG93bicpO1xyXG5cclxuICAvLyBPY3VsdGFyIG1hcnRpbGxvXHJcbiAgaWYgKHRoaXMubWFydGlsbG8gJiYgdGhpcy5tYXJ0aWxsby5zZXRWaXNpYmxlKSB7XHJcbiAgICB0aGlzLm1hcnRpbGxvLnNldFZpc2libGUoZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZW5lciB0aW1lcnNcclxuICBpZiAodGhpcy50b3BvVGltZXIpIHRoaXMudG9wb1RpbWVyLnJlbW92ZShmYWxzZSk7XHJcbiAgaWYgKHRoaXMuZ2FtZVRpbWVyKSB0aGlzLmdhbWVUaW1lci5yZW1vdmUoZmFsc2UpO1xyXG5cclxuICBpZiAodGhpcy50b3BvICYmIHRoaXMudG9wby5zcHJpdGUpIHtcclxuICAgIHRoaXMudG9wby5zcHJpdGUuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICB0aGlzLnRvcG8uaGlkZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29vcmRlbmFkYXNcclxuICBjb25zdCBjeCA9IHRoaXMuc2NhbGUud2lkdGggLyAyO1xyXG4gIGNvbnN0IGN5ID0gdGhpcy5zY2FsZS5oZWlnaHQgLyAyO1xyXG5cclxuICAvLyBQYW5lbFxyXG4gIGNvbnN0IHBhbmVsID0gdGhpcy5hZGQucmVjdGFuZ2xlKGN4LCBjeSwgNzYwLCA0MjAsIDB4MGIxMjIwLCAwLjg4KVxyXG4gICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAuc2V0RGVwdGgoMjAwKTtcclxuICBwYW5lbC5zZXRTdHJva2VTdHlsZSg0LCAweDFmNmZlYik7XHJcbiAgcGFuZWwuc2NhbGUgPSAwLjg1O1xyXG5cclxuICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgdGFyZ2V0czogcGFuZWwsXHJcbiAgICBzY2FsZTogMSxcclxuICAgIGR1cmF0aW9uOiAyMjAsXHJcbiAgICBlYXNlOiAnQmFjay5PdXQnXHJcbiAgfSk7XHJcblxyXG4gIC8vIElNUE9SVEFOVEU6IGVsIHBhbmVsIE5PIGRlYmUgc2VyIGludGVyYWN0aXZvXHJcbiAgcGFuZWwuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG4gIC8vIFdpbm5lciB0ZXh0XHJcbiAgbGV0IHdpbm5lclRleHQgPSAnRW1wYXRlJztcclxuICBpZiAodGhpcy5wdW50b3NQbGF5ZXIxID4gdGhpcy5wdW50b3NQbGF5ZXIyKSB3aW5uZXJUZXh0ID0gJ/Cfj4YgICBHYW5hIEp1Z2Fkb3IgMSAoUG9tKSc7XHJcbiAgZWxzZSBpZiAodGhpcy5wdW50b3NQbGF5ZXIyID4gdGhpcy5wdW50b3NQbGF5ZXIxKSB3aW5uZXJUZXh0ID0gJ/Cfj4YgICBHYW5hIEp1Z2Fkb3IgMiAoUGluKSc7XHJcblxyXG4gIHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMTMwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDI1MCk7XHJcblxyXG4gIHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3kgLSA5MCwgNDIwLCAzLCAweDFmNmZlYilcclxuICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgLnNldERlcHRoKDI1MCk7XHJcblxyXG4gIC8vIFN0YXRzXHJcbiAgdGhpcy5hZGQudGV4dChjeCwgY3kgLSAyMCwgYFAxIChQb20pOiAke3RoaXMucHVudG9zUGxheWVyMX1gLCB7XHJcbiAgICBmb250U2l6ZTogJzI2cHgnLFxyXG4gICAgY29sb3I6ICcjNmM4YmZmJyxcclxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyNTApO1xyXG5cclxuICB0aGlzLmFkZC50ZXh0KGN4LCBjeSArIDIwLCBgUDIgKFBpbik6ICR7dGhpcy5wdW50b3NQbGF5ZXIyfWAsIHtcclxuICAgIGZvbnRTaXplOiAnMjZweCcsXHJcbiAgICBjb2xvcjogJyNmZjZiNmInLFxyXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDI1MCk7XHJcblxyXG4gIC8vIFVwZGF0ZSB1c2VyIG1heFNjb3JlIGlmIGxvZ2dlZCBpblxyXG4gIHRoaXMudXBkYXRlVXNlclNjb3JlKCk7XHJcblxyXG4gIGNvbnN0IGJ0blcgPSAyNDA7XHJcbiAgY29uc3QgYnRuSCA9IDYyO1xyXG5cclxuICBjb25zdCBjcmVhdGVCdG4gPSAoeCwgeSwgdGV4dCwgYmFzZUNvbG9yLCBob3ZlckNvbG9yLCBjYWxsYmFjaykgPT4ge1xyXG4gICAgLy8gZm9uZG8gdmlzaWJsZVxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgYnRuVywgYnRuSCwgYmFzZUNvbG9yKVxyXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgLnNldFN0cm9rZVN0eWxlKDIsIDB4MGEyNzQwKVxyXG4gICAgICAuc2V0RGVwdGgoMzA1KTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6ICcjMDAxMzFkJyxcclxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMzA2KTtcclxuXHJcbiAgICAvLyBab25hIGludGVyYWN0aXZhIHRyYW5zcGFyZW50ZSBFWEFDVEFNRU5URSBkZWwgbWlzbW8gdGFtYcOxbyBxdWUgZWwgYmdcclxuICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBidG5XLCBidG5ILCAweDAwMDAwMCwgMClcclxuICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgIC5zZXREZXB0aCgzMDcpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZShuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC1idG5XLzIsIC1idG5ILzIsIGJ0blcsIGJ0bkgpLCBQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMpO1xyXG5cclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5LCBbYmcsIGxhYmVsLCBoaXRdKTtcclxuICAgIGNvbnRhaW5lci5zZXRTaXplKGJ0blcsIGJ0bkgpO1xyXG4gICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICBjb250YWluZXIuc2V0RGVwdGgoMzAwKTtcclxuXHJcbiAgICAvLyBIb3ZlciB1c2FuZG8gZWwgaGl0Ym94IChjb2luY2lkZSBzaWVtcHJlIGNvbiBsYSBhcGFyaWVuY2lhKVxyXG4gICAgaGl0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICBiZy5zZXRGaWxsU3R5bGUoaG92ZXJDb2xvcik7XHJcbiAgICAgICAgbGFiZWwuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMua2lsbFR3ZWVuc09mKGJnKTtcclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgdGFyZ2V0czogYmcsXHJcbiAgICAgICAgICBzY2FsZVg6IDEuMDYsXHJcbiAgICAgICAgICBzY2FsZVk6IDEuMDYsXHJcbiAgICAgICAgICBkdXJhdGlvbjogMTIwLFxyXG4gICAgICAgICAgZWFzZTogJ1Bvd2VyMidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgIGJnLnNldEZpbGxTdHlsZShiYXNlQ29sb3IpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKCcjMDAxMzFkJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmtpbGxUd2VlbnNPZihiZyk7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgIHRhcmdldHM6IGJnLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgZHVyYXRpb246IDEyMCxcclxuICAgICAgICAgIGVhc2U6ICdQb3dlcjInXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQuZ2V0KCdCb3RvbicpKSB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYnRuWSA9IGN5ICsgMTIwO1xyXG5cclxuICBjcmVhdGVCdG4oXHJcbiAgICBjeCAtIDE1MCwgXHJcbiAgICBidG5ZLFxyXG4gICAgXCJSZXBldGlyXCIsXHJcbiAgICAweDg4ZTFmZiwgICAgLy8gYmFzZVxyXG4gICAgMHg0ZmIwZmYsICAgIC8vIGhvdmVyXHJcbiAgICAoKSA9PiB0aGlzLnNjZW5lLnJlc3RhcnQoKSxcclxuICAgIFxyXG4gICk7XHJcblxyXG4gIGNyZWF0ZUJ0bihcclxuICAgIGN4ICsgMTUwLFxyXG4gICAgYnRuWSxcclxuICAgIFwiTWVuw7ogUHJpbmNpcGFsXCIsXHJcbiAgICAweGZmZGJhOCwgICAvLyBiYXNlXHJcbiAgICAweGZmYjU3YSwgICAvLyBob3ZlclxyXG4gICAgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJylcclxuICApO1xyXG59XHJcblxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gUmVzdW1lIGhhbmRsZXIgXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIG9uUmVzdW1lKCkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuY2FudmFzICYmIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUpIHtcclxuICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICAvLyByZWFjdGl2YXIgaW5wdXQgcG9pbnRlclxyXG4gICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4gdGhpcy5oYW5kbGVQb2ludGVyRG93bihwb2ludGVyKSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gVXBkYXRlIHVzZXIgc2NvcmVcclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgYXN5bmMgdXBkYXRlVXNlclNjb3JlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BsYXllclVzZXInKTtcclxuICAgICAgaWYgKCFyYXcpIHJldHVybjtcclxuICAgICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UocmF3KTtcclxuICAgICAgY29uc3Qgc2NvcmUgPSBNYXRoLm1heCh0aGlzLnB1bnRvc1BsYXllcjEsIHRoaXMucHVudG9zUGxheWVyMik7XHJcbiAgICAgIGNvbnN0IGNoYXJhY3RlciA9IHRoaXMucHVudG9zUGxheWVyMSA+IHRoaXMucHVudG9zUGxheWVyMiA/ICdQb20nIDogJ1Bpbic7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7IGJlc3RDaGFyYWN0ZXI6IGNoYXJhY3RlciB9O1xyXG4gICAgICBpZiAoc2NvcmUgPiB1c2VyLm1heFNjb3JlKSB7XHJcbiAgICAgICAgdXBkYXRlRGF0YS5tYXhTY29yZSA9IHNjb3JlO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlcnMvJHt1c2VyLmlkfWAsIHtcclxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZURhdGEpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gVGFtYmnDqW4gZ3VhcmRhciBsYSBwdW50dWFjacOzbiBjb24gZWwgY2Fyw6FjdGVyIGVuIGVsIGhpc3RvcmlhbFxyXG4gICAgICBpZiAoc2NvcmUgPiAwKSB7XHJcbiAgICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvdXNlcnMvJHt1c2VyLmlkfS9zY29yZXNgLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBzY29yZTogc2NvcmUsXHJcbiAgICAgICAgICAgIG9wcG9uZW50OiAnY29tcHV0ZXInLFxyXG4gICAgICAgICAgICBjaGFyYWN0ZXI6IGNoYXJhY3RlclxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBzY29yZTonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhID0ge30pIHtcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY3ggPSB3IC8gMjtcclxuICAgICAgICBjb25zdCBjeSA9IGggLyAyO1xyXG5cclxuICAgICAgICB0aGlzLl9wcmV2Q3Vyc29yID0gKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuY2FudmFzICYmIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUpID8gdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgOiAnJztcclxuICAgICAgICBpZiAodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5jYW52YXMgJiYgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG91dGVyQmxvY2tlciA9IHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3ksIHcsIGgsIDB4MDAwMDAwLCAwLjYpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIG91dGVyQmxvY2tlci5zZXRJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgIG91dGVyQmxvY2tlci5zZXREZXB0aCgwKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmFkZC5yZWN0YW5nbGUoY3gsIGN5LCA1NDAsIDQ2MCwgMHgxMTEyMWEpLnNldFN0cm9rZVN0eWxlKDMsIDB4MDBjYzY2KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBwYW5lbC5zZXREZXB0aCgxKTtcclxuXHJcbiAgICAgICAgcGFuZWwuc2NhbGUgPSAwLjk7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogcGFuZWwsIHNjYWxlOiAxLCBkdXJhdGlvbjogMTgwLCBlYXNlOiAnQmFjay5PdXQnIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGN4LCBjeSAtIDE4MCwgJ1BBVVNBRE8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMGNjNjYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3kgLSAxNDAsIDM0MCwgMywgMHgwMGNjNjYpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDIpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bWVCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihjeCwgY3kgLSA0MCwgJ1JFQU5VREFSJywgMHgwMGNjNjYsIDB4NjZmZmIyKTtcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5jcmVhdGVCdXR0b24oY3gsIGN5ICsgNDAsICdNRU7DmiBQUklOQ0lQQUwnLCAweGZmNmI2YiwgMHhmZjlhOWEpO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzQnRuID0gdGhpcy5jcmVhdGVCdXR0b24oY3gsIGN5ICsgMTIwLCAnQUpVU1RFUycsIDB4ZmZmZmZmLCAweGNjY2NjYyk7XHJcblxyXG4gICAgICAgIHJlc3VtZUJ0bi5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgbWVudUJ0bi5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgc2V0dGluZ3NCdG4uc2V0RGVwdGgoMTApO1xyXG4gICAgICAgIHJlc3VtZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9IHRoaXMuX3ByZXZDdXJzb3IgfHwgJ2F1dG8nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5vcmlnaW5hbFNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWVudUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLm9yaWdpbmFsU2NlbmUpIHRoaXMuc2NlbmUuc3RvcChkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNldHRpbmdzQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgIC8vIEluZGljYXIgcXVlIHZlbmltb3MgZGVsIG1lbsO6IGRlIHBhdXNhIHkgcGFzYXIgbGEgZXNjZW5hIG9yaWdpbmFsIHBhcmEgcG9kZXIgcmVhbnVkYXJsYSBhbCB2b2x2ZXJcclxuICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NldHRpbmdzU2NlbmUnLCB7IGZyb206ICdwYXVzZScsIG9yaWdpbmFsU2NlbmU6IGRhdGEub3JpZ2luYWxTY2VuZSB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fZXNjSGFuZGxlciA9ICgpID0+IHJlc3VtZUJ0bi5lbWl0KCdwb2ludGVyZG93bicpO1xyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgdGhpcy5fZXNjSGFuZGxlcik7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5jYW52YXMgJiYgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSB0aGlzLl9wcmV2Q3Vyc29yIHx8ICdhdXRvJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZXNjSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vZmYoJ2tleWRvd24tRVNDJywgdGhpcy5fZXNjSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lc2NIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJ1dHRvbih4LCB5LCB0ZXh0LCBub3JtYWxIZXgsIGhvdmVySGV4KSB7XHJcbiAgICBjb25zdCB3aWR0aCA9IDM2MDtcclxuICAgIGNvbnN0IGhlaWdodCA9IDY0O1xyXG4gICAgY29uc3Qgbm9ybWFsQ29sb3IgPSBgIyR7bm9ybWFsSGV4LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpfWA7XHJcbiAgICBjb25zdCBob3ZlckNvbG9yID0gYCMke2hvdmVySGV4LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpfWA7XHJcblxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgxZjIzNDApXHJcbiAgICAgICAgLnNldFN0cm9rZVN0eWxlKDIsIG5vcm1hbEhleClcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmFkZC50ZXh0KDAsIDAsIHRleHQsIHtcclxuICAgICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgIGNvbG9yOiBub3JtYWxDb2xvcixcclxuICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBjb25zdCBidG4gPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSwgW2JnLCBsYWJlbF0pO1xyXG5cclxuICAgIC8vIEVzdGFibGVjZSBlbCB0YW1hw7FvIGRlbCBib3TDs25cclxuICAgIGJ0bi5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgIC8vIEhJVEJPWCBQRVJGRUNUTyBzaW4gb2Zmc2V0cyByYXJvc1xyXG4gICAgYnRuLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICBidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDJmMzQ1OCk7XHJcbiAgICAgICAgYmcuc2V0U3Ryb2tlU3R5bGUoMywgaG92ZXJIZXgpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKGhvdmVyQ29sb3IpO1xyXG4gICAgICAgIGxhYmVsLnNldFNjYWxlKDEuMDUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDFmMjM0MCk7XHJcbiAgICAgICAgYmcuc2V0U3Ryb2tlU3R5bGUoMiwgbm9ybWFsSGV4KTtcclxuICAgICAgICBsYWJlbC5zZXRDb2xvcihub3JtYWxDb2xvcik7XHJcbiAgICAgICAgbGFiZWwuc2V0U2NhbGUoMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGJ0biwgc2NhbGVYOiAwLjk4LCBzY2FsZVk6IDAuOTgsIGR1cmF0aW9uOiA4MCwgeW95bzogdHJ1ZSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBidG47XHJcbn1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG5cclxuICAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRvcycsICdhc3NldHMvZm9uZG9DcmVkaXRvcy5wbmcnKTsgLy8gZm9uZG8odGl0dWxvKSBcclxuICAgICAgICAvLyBTT0xPIFNPTklET1MgKG9wY2lvbmFsKVxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTXVzaWNhX21lbnUnLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvSXRzIFNhZmUgTm93Lm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnQm90b24nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQm90b24ubXAzJyk7ICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ0NyZWRpdG9zJykuc2V0T3JpZ2luKDAsIDApOyAgLy9mb25kbyh0aXR1bG8pXHJcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUodGhpcy5zY2FsZS53aWR0aCwgdGhpcy5zY2FsZS5oZWlnaHQpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gU09OSURPU1xyXG4gICAgICAgIHRoaXMuc291bmQuYWRkKCdNdXNpY2FfbWVudScpLnBsYXkoeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSB9KTtcclxuXHJcbiAgICAgICAgLy8gVMONVFVMT1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCA1MCwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBURVhUTyBERSBDUsOJRElUT1NcclxuICAgICAgICBjb25zdCBjcmVkaXRzVGV4dCA9IGBcclxuRGVzYXJyb2xsYWRvcmVzOlxyXG4tIENyaXN0aWFuIEJvYWJlc1xyXG4tIE5hc3JlZGRpbiBFbCBLaGl5YXQgSW11c2F0aW5cclxuLSBKYWltZSBBbG9uc28gZGVsIFJlYWxcclxuLSBEYXZpZCBNYXJ0w61uZXogR2FyY8OtYVxyXG5BcnRlOiBcclxuLSBEYXZpZCBNYXJ0w61uZXogR2FyY8OtYVxyXG5Tb25pZG9zIHkgTcO6c2ljYTogXHJcbi0gSmFpbWUgQWxvbnNvIGRlbCBSZWFsXHJcblRlc3RlbzogXHJcbi0gQ3Jpc3RpYW4gQm9hYmVzXHJcbi0gTmFzcmVkZGluIEVsIEtoaXlhdCBJbXVzYXRpblxyXG5cclxuXHJcbkdyYWNpYXMgcG9yIGp1Z2FyXHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVkaXRzID0gdGhpcy5hZGQudGV4dCg0MDAsIDI4MCwgY3JlZGl0c1RleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogNzAwIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVHdlZW46IHBlcXVlw7FvIG1vdmltaWVudG8gZGUgJ2Zsb3RhY2nDs24nIChib2JiaW5nKVxyXG4gICAgICAgIC8vIG11ZXZlIGxvcyBjcsOpZGl0b3MgdW5vcyBwb2NvcyBww614ZWxlcyBhcnJpYmEvYWJham8gZW4gYnVjbGVcclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNyZWRpdHMsXHJcbiAgICAgICAgICAgIHk6IHRoaXMuY3JlZGl0cy55IC0gMTUsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnLFxyXG4gICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xLFxyXG4gICAgICAgICAgICAvLyBsaWdlcmEgdmFyaWFjacOzbiBkZSBpbmljaW8gcGFyYSBubyBzaW5jcm9uaXphciBleGFjdGFtZW50ZSBzaSBoYXkgb3Ryb3Mgb2JqZXRvc1xyXG4gICAgICAgICAgICBkZWxheTogMjAwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCT1TDk04gUEFSQSBWT0xWRVJcclxuICAgICAgICB0aGlzLmxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDUwMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZTE4ZmExZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2ZmZmZmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2UxOGZhMWZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBFbCBtb3ZpbWllbnRvIGRlIGxvcyBjcsOpZGl0b3MgbG8gZ2VzdGlvbmEgZWwgdHdlZW4gY3JlYWRvIGVuIGNyZWF0ZSgpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoJ1NldHRpbmdzU2NlbmUnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZShkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IGN4ID0gdGhpcy5zY2FsZS53aWR0aCAvIDI7XHJcbiAgICBjb25zdCBjeSA9IHRoaXMuc2NhbGUuaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAvLyBEZSBkw7NuZGUgc2UgYWJyacOzIGVzdGUgbWVuw7ogKFwibWVudVwiIHBvciBkZWZlY3RvKS4gU2kgdmllbmUgZGVzZGUgcGF1c2EsIGd1YXJkYW1vcyBsYSBlc2NlbmEgb3JpZ2luYWwgdGFtYmnDqW4uXHJcbiAgICB0aGlzLl9yZXR1cm5UbyA9IGRhdGEuZnJvbSB8fCAnbWVudSc7XHJcbiAgICB0aGlzLl9vcmlnaW5hbFNjZW5lID0gZGF0YS5vcmlnaW5hbFNjZW5lIHx8IG51bGw7XHJcblxyXG4gICAgLy8gRm9uZG8gb3NjdXJvXHJcbiAgICB0aGlzLmFkZC5yZWN0YW5nbGUoY3gsIGN5LCB0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCwgMHgwMDAwMDAsIDAuNik7XHJcblxyXG4gICAgLy8gUGFuZWwgKHJvdW5kZWQgd2l0aCBzaGFkb3cgKyBncmFkaWVudClcclxuICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig1MjAsIHRoaXMuc2NhbGUud2lkdGggLSA4MCk7XHJcbiAgICBjb25zdCBwYW5lbEhlaWdodCA9IDQyMDtcclxuICAgIGNvbnN0IHBhbmVsWCA9IGN4IC0gcGFuZWxXaWR0aCAvIDI7XHJcbiAgICBjb25zdCBwYW5lbFkgPSBjeSAtIHBhbmVsSGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IHBhbmVsUmFkaXVzID0gMTY7XHJcblxyXG4gICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAvLyBzaGFkb3dcclxuICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjM2KTtcclxuICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KHBhbmVsWCArIDYsIHBhbmVsWSArIDgsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCBwYW5lbFJhZGl1cyk7XHJcbiAgICAvLyBtYWluIGdyYWRpZW50ICh0b3AtPmJvdHRvbSlcclxuICAgIHBhbmVsQmcuZmlsbEdyYWRpZW50U3R5bGUoMHgwYjEyMjAsIDB4MGIxMjIwLCAweDBmMjQzOCwgMHgwZjI0MzgsIDEpO1xyXG4gICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QocGFuZWxYLCBwYW5lbFksIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCBwYW5lbFJhZGl1cyk7XHJcbiAgICAvLyBzdHJva2VcclxuICAgIHBhbmVsQmcubGluZVN0eWxlKDIsIDB4MWY2ZmViLCAwLjkpO1xyXG4gICAgcGFuZWxCZy5zdHJva2VSb3VuZGVkUmVjdChwYW5lbFgsIHBhbmVsWSwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIHBhbmVsUmFkaXVzKTtcclxuXHJcbiAgICBwYW5lbEJnLmFscGhhID0gMDtcclxuICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IHBhbmVsQmcsIGFscGhhOiAxLCBkdXJhdGlvbjogNTAwLCBlYXNlOiAnQ3ViaWMuT3V0JyB9KTtcclxuXHJcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMTc1LCAnQUpVU1RFUycsIHtcclxuICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGNvbG9yOiAnI2RmZjRmZicsXHJcbiAgICAgIGxldHRlclNwYWNpbmc6IDMsXHJcbiAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICB0aXRsZS5zZXRTdHJva2UoJyM3ZmQwZmYnLCA0KTtcclxuICAgIHRpdGxlLnNldFNoYWRvdygyLCAyLCAnIzAwMDAwMCcsIDYsIGZhbHNlLCB0cnVlKTtcclxuICAgIHRpdGxlLnNldFNjYWxlKDAuOTUpO1xyXG4gICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogdGl0bGUsIHNjYWxlOiAxLCBkdXJhdGlvbjogNDIwLCBlYXNlOiAnQmFjay5PdXQnIH0pO1xyXG5cclxuXHJcbiAgICAvLyAtLS0gVk9MVU1FTiAtLS1cclxuICAgIHRoaXMuYWRkLnRleHQoY3ggLSAxODAsIGN5IC0gOTAsICdWb2x1bWVuJywge1xyXG4gICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICBjb2xvcjogJyNkZmY0ZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVWb2x1bWVTbGlkZXIoY3ggLSAxMjAsIGN5IC0gNTAsIDI2MCk7IC8vIENvbnRyb2xzIG11c2ljIHZvbHVtZSB3aGVuIHBvc3NpYmxlIChhZmZlY3RzIG1lbnUvZ2FtZSBtdXNpYyBpbnN0YW5jZXMpXHJcblxyXG4gICAgLy8gLS0tIENPTlRST0xFUyAtLS1cclxuICAgIHRoaXMuYWRkLnRleHQoY3gsIGN5ICsgMjAsXHJcbiAgICAgICdDT05UUk9MRVNcXG5cXG4nICtcclxuICAgICAgJ/CflrEgQ2xpY2sgaXpxdWllcmRvOiBHb2xwZWFyXFxuJyArXHJcbiAgICAgICfwn5axIENsaWNrIGRlcmVjaG86IFBvd2VydXAgUDFcXG4nICtcclxuICAgICAgJ+KQoyBFc3BhY2lvOiBQb3dlcnVwIFAyXFxuJyArXHJcbiAgICAgICcxLTY6IE1vdmVyIHRvcG9cXG4nICtcclxuICAgICAgJ0VTQzogUGF1c2EnLFxyXG4gICAgICB7XHJcbiAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICBjb2xvcjogJyNjZmU3ZmYnLFxyXG4gICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICBsaW5lU3BhY2luZzogNlxyXG4gICAgICB9XHJcbiAgICApLnNldE9yaWdpbigwLjUsIDApO1xyXG5cclxuXHJcblxyXG4gICAgLy8gQk9Uw5NOIFBBUkEgVk9MVkVSIChlc3RpbG8gdGV4dG8gc29saWNpdGFkbylcclxuICAgIGNvbnN0IGJhY2tMYWJlbCA9IHRoaXMuX3JldHVyblRvID09PSAncGF1c2UnID8gJ1ZvbHZlciBhIFBhdXNhJyA6ICdWb2x2ZXInO1xyXG4gICAgdGhpcy5sb2NhbEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA1MDAsIGJhY2tMYWJlbCwge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNlMThmYTFmZicsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLmxvY2FsQnRuLnNldENvbG9yKCcjZmZmZmZmZmYnKSlcclxuICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2UxOGZhMWZmJykpXHJcbiAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gcGVxdWXDsWEgYW5pbWFjacOzbiBkZSBmYWRlLW91dCBhbnRlcyBkZSBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmZhZGVPdXQoMTgwLCAxMCwgMTAsIDEwKTtcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwLCAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5fcmV0dXJuVG8gPT09ICdwYXVzZScpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5fb3JpZ2luYWxTY2VuZSB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgICBcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIFNsaWRlciBkZSB2b2x1bWVuIFxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGNyZWF0ZVZvbHVtZVNsaWRlcih4LCB5LCB3aWR0aCkge1xyXG4gICAgY29uc3QgYmFySGVpZ2h0ID0gODtcclxuICAgIGNvbnN0IGJnQmFyID0gdGhpcy5hZGQucmVjdGFuZ2xlKHggKyB3aWR0aCAvIDIsIHksIHdpZHRoLCBiYXJIZWlnaHQsIDB4MjUzNTRmKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBQcmVmZXIgbXVzaWMgaW5zdGFuY2Ugdm9sdW1lIGlmIGF2YWlsYWJsZSAobWVudSBvciBsZXZlbCksIGVsc2UgZmFsbGJhY2sgdG8gZ2xvYmFsXHJcbiAgICAvLyBAdHMtaWdub3JlIC0gcHJvcGVydGllcyBtYXkgYmUgYXR0YWNoZWQgdG8gdGhlIGdhbWUgaW5zdGFuY2UgYXQgcnVudGltZVxyXG4gICAgY29uc3QgeyBtdXNpY2FNZW51LCBtdXNpY2FOaXZlbCB9ID0gKHRoaXMuZ2FtZSB8fCB7fSk7XHJcbiAgICBjb25zdCBtdXNpY0luc3RhbmNlcyA9IFttdXNpY2FNZW51LCBtdXNpY2FOaXZlbF0uZmlsdGVyKEJvb2xlYW4pO1xyXG4gICAgY29uc3QgaW5pdGlhbFZvbCA9IFBoYXNlci5NYXRoLkNsYW1wKChtdXNpY0luc3RhbmNlc1swXSAmJiBtdXNpY0luc3RhbmNlc1swXS52b2x1bWUpID8/IHRoaXMuc291bmQudm9sdW1lID8/IDEsIDAsIDEpO1xyXG5cclxuICAgIGNvbnN0IGZpbGxCYXIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoeCwgeSwgd2lkdGggKiBpbml0aWFsVm9sLCBiYXJIZWlnaHQsIDB4NGZiMGZmKS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGUgPSB0aGlzLmFkZC5jaXJjbGUoeCArIHdpZHRoICogaW5pdGlhbFZvbCwgeSwgMTIsIDB4ZmZmZmZmKVxyXG4gICAgICAuc2V0U3Ryb2tlU3R5bGUoMywgMHgyNTM1NGYpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuXHJcbiAgICBjb25zdCBwZXJjZW50VGV4dCA9IHRoaXMuYWRkLnRleHQoeCArIHdpZHRoICsgMTQsIHksIE1hdGgucm91bmQoaW5pdGlhbFZvbCAqIDEwMCkgKyAnJScsIHtcclxuICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgY29sb3I6ICcjZGZmNGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoaGFuZGxlKTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVWb2x1bWUgPSAodm9sdW1lKSA9PiB7XHJcbiAgICAgIHRoaXMuc291bmQudm9sdW1lID0gdm9sdW1lO1xyXG4gICAgICAvLyBBcHBseSB0byBrbm93biBtdXNpYyBpbnN0YW5jZXMgc28gdGhlIG1lbnUvbXVzaWMgdm9sdW1lIHVwZGF0ZXMgaW4gcmVhbCB0aW1lXHJcbiAgICAgIG11c2ljSW5zdGFuY2VzLmZvckVhY2gobSA9PiB7XHJcbiAgICAgICAgaWYgKG0gJiYgdHlwZW9mIG0uc2V0Vm9sdW1lID09PSAnZnVuY3Rpb24nKSBtLnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gQWxzbyB1cGRhdGUgYW55IG11c2ljIGN1cnJlbnRseSBzdG9yZWQgb24gZ2FtZSBvYmplY3QgZHluYW1pY2FsbHlcclxuICAgICAgaWYgKG11c2ljYU1lbnUgJiYgdHlwZW9mIG11c2ljYU1lbnUuc2V0Vm9sdW1lID09PSAnZnVuY3Rpb24nKSBtdXNpY2FNZW51LnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICBpZiAobXVzaWNhTml2ZWwgJiYgdHlwZW9mIG11c2ljYU5pdmVsLnNldFZvbHVtZSA9PT0gJ2Z1bmN0aW9uJykgbXVzaWNhTml2ZWwuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICAgIGZpbGxCYXIud2lkdGggPSB3aWR0aCAqIHZvbHVtZTtcclxuICAgICAgcGVyY2VudFRleHQuc2V0VGV4dChNYXRoLnJvdW5kKHZvbHVtZSAqIDEwMCkgKyAnJScpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlucHV0Lm9uKCdkcmFnJywgKHBvaW50ZXIsIG9iaiwgZHJhZ1gpID0+IHtcclxuICAgICAgaWYgKG9iaiAhPT0gaGFuZGxlKSByZXR1cm47XHJcbiAgICAgIGRyYWdYID0gUGhhc2VyLk1hdGguQ2xhbXAoZHJhZ1gsIHgsIHggKyB3aWR0aCk7XHJcbiAgICAgIG9iai54ID0gZHJhZ1g7XHJcbiAgICAgIGNvbnN0IHZvbHVtZSA9IChkcmFnWCAtIHgpIC8gd2lkdGg7XHJcbiAgICAgIHVwZGF0ZVZvbHVtZSh2b2x1bWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWxsb3cgY2xpY2tpbmcgb24gYmdCYXIgdG8gc2V0IHZvbHVtZSBxdWlja2x5XHJcbiAgICBiZ0Jhci5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICBiZ0Jhci5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICBjb25zdCBsb2NhbFggPSBQaGFzZXIuTWF0aC5DbGFtcChwb2ludGVyLndvcmxkWCAtICh4KSwgMCwgd2lkdGgpO1xyXG4gICAgICBjb25zdCB2b2wgPSBsb2NhbFggLyB3aWR0aDtcclxuICAgICAgaGFuZGxlLnggPSB4ICsgbG9jYWxYO1xyXG4gICAgICB1cGRhdGVWb2x1bWUodm9sKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGhhbmRsZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBoYW5kbGUsIHNjYWxlOiAxLjA4LCBkdXJhdGlvbjogMTIwIH0pKTtcclxuICAgIGhhbmRsZS5vbigncG9pbnRlcm91dCcsICgpID0+IHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGhhbmRsZSwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxMjAgfSkpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gQm90w7NuIHNpbXBsZSByZXV0aWxpemFibGUgKGNvbmZpZ3VyYWJsZSB5IGFuaW1hZG8pXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgY3JlYXRlQnV0dG9uKHgsIHksIHRleHQsIGNhbGxiYWNrLCBvcHRzID0ge30pIHtcclxuICAgIGNvbnN0IHdpZHRoID0gb3B0cy53aWR0aCB8fCAyMDA7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBvcHRzLmhlaWdodCB8fCA1MDtcclxuICAgIGNvbnN0IGJnQ29sb3IgPSBvcHRzLmJnQ29sb3IgfHwgMHg4OGUxZmY7XHJcbiAgICBjb25zdCB0ZXh0Q29sb3IgPSBvcHRzLnRleHRDb2xvciB8fCAnIzAwMTMxZCc7XHJcblxyXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpO1xyXG5cclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIGJnQ29sb3IpXHJcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIGJnLnNldFN0cm9rZVN0eWxlKDIsIDB4ZmZmZmZmLCAwLjA4KTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6IHRleHRDb2xvclxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgY29udGFpbmVyLmFkZChbYmcsIGxhYmVsXSk7XHJcblxyXG4gICAgYmcub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjA0LCBkdXJhdGlvbjogMTQwLCBlYXNlOiAnUG93ZXIyJyB9KTtcclxuICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogYmcsIGFscGhhOiAwLjk1LCBkdXJhdGlvbjogMTQwIH0pO1xyXG4gICAgfSk7XHJcbiAgICBiZy5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMSwgZHVyYXRpb246IDEyMCwgZWFzZTogJ1Bvd2VyMicgfSk7XHJcbiAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGJnLCBhbHBoYTogMSwgZHVyYXRpb246IDEyMCB9KTtcclxuICAgIH0pO1xyXG4gICAgYmcub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAwLjk2LCBkdXJhdGlvbjogODAsIHlveW86IHRydWUgfSk7XHJcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuLyoqXHJcbiAqIEVzY2VuYSBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2UgcGllcmRlIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogUGF1c2EgZWwgcmVzdG8gZGUgZXNjZW5hcyB5IGNvbXBydWViYSBjb250aW51YW1lbnRlIGhhc3RhIHF1ZSBzZSByZXN0YWJsZXpjYVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIEd1YXJkYXIgbGFzIGVzY2VuYXMgcXVlIGVzdGFiYW4gYWN0aXZhcyBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICAvLyBQdWVkZSB2ZW5pciBjb21vIHByZXZpb3VzU2NlbmVzIChhcnJheSkgbyBwcmV2aW91c1NjZW5lIChzdHJpbmcgcG9yIGNvbXBhdGliaWxpZGFkKVxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZXMgPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLnByZXZpb3VzU2NlbmVzKSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmVzID0gZGF0YS5wcmV2aW91c1NjZW5lcztcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmVzID0gW2RhdGEucHJldmlvdXNTY2VuZV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDMwMCwgMTAwMCwgNjAwLCAweDAwMDAwMCwgMC44KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNTAwLCAyMDAsICdDT05FWEnDk04gUEVSRElEQScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3NcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAzNTAsICdJbnRlbnRvczogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgcGFycGFkZWFudGVcclxuICAgICAgICB0aGlzLmRvdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMjAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG90Q291bnQgPSAodGhpcy5kb3RDb3VudCArIDEpICUgNDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvdHMgPSAnLicucmVwZWF0KHRoaXMuZG90Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoYEludGVudGFuZG8gcmVjb25lY3RhciR7ZG90c31gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQYXVzYXIgdG9kb3MgbG9zIHNvbmlkb3MgcGFyYSBpbmRpY2FyIHF1ZSB0b2RvIHNlIGRldHV2b1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGF1c2VBbGwoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0Nvbm5lY3Rpb25Mb3N0U2NlbmVdIE5vIHNlIHB1ZG8gcGF1c2FyIGF1ZGlvOicsIGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gUmVzdGF1cmFyIGF1ZGlvXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5yZXN1bWVBbGwoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0Nvbm5lY3Rpb25Mb3N0U2NlbmVdIE5vIHNlIHB1ZG8gcmVhbnVkYXIgYXVkaW86JywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNZW5zYWplIGRlIMOpeGl0b1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoUNvbmV4acOzbiByZXN0YWJsZWNpZGEhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciBhIGxhcyBlc2NlbmFzIGFudGVyaW9yZXNcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJldmlvdXNTY2VuZXMpICYmIHRoaXMucHJldmlvdXNTY2VuZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lcy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAmJiB0aGlzLnNjZW5lLmdldChrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFtDb25uZWN0aW9uTG9zdFNjZW5lXSBObyBzZSBwdWRvIHJlYW51ZGFyIGVzY2VuYSAke2tleX06YCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEludGVudGFyIHJlYW51ZGFyIGVzY2VuYXMgeSBhdWRpbyBwb3Igc2VndXJpZGFkIChzaSBubyBzZSByZWFudWRhcm9uIGVuIG9uUmVjb25uZWN0ZWQpXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcmV2aW91c1NjZW5lcykgJiYgdGhpcy5wcmV2aW91c1NjZW5lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmVzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICYmIHRoaXMuc2NlbmUuZ2V0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0Nvbm5lY3Rpb25Mb3N0U2NlbmVdIE5vIHNlIHB1ZG8gcmVhbnVkYXIgZXNjZW5hICR7a2V5fSBlbiBzaHV0ZG93bjpgLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnJlc3VtZUFsbCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gTm8gaGFjZW1vcyBuYWRhIGNyw610aWNvIHNpIGZhbGxhXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBMb2JieSBTY2VuZSAtIFdhaXRpbmcgZm9yIG11bHRpcGxheWVyIG1hdGNobWFraW5nXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2JieVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKHsga2V5OiAnTG9iYnlTY2VuZScgfSk7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgLy8gVGl0bGVcclxuICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdNdWx0aWp1Z2Fkb3IgRW4gbMOtbmVhJywge1xyXG4gICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBTdGF0dXMgdGV4dFxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0NvbmVjdGFuZG8gYWwgc2Vydmlkb3IuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFBsYXllciBjb3VudCB0ZXh0XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMjAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwZmYwMCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLSAxMDAsICdDYW5jZWxhcicsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmY2NjY2JyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzMzMzMzMycsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRDb2xvcignI2ZmNjY2NicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7XHJcblxyXG4gICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcblxyXG4gICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnV2FpdGluZyBmb3Igb3Bwb25lbnQuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZSwgaW5jbHVkZSBsb2dnZWQgdXNlciBpbmZvIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgIGxldCBwbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGxheWVyVXNlcicpO1xyXG4gICAgICAgICAgaWYgKHJhdykgcGxheWVyID0gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignTG9iYnlTY2VuZTogZXJyb3IgcGFyc2luZyBzdG9yZWQgcGxheWVyJywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJywgcGxheWVyIH0pKTtcclxuXHJcbiAgICAgICAgLy8gRGlzcGxheSBwbGF5ZXIgbmFtZSBpZiBrbm93blxyXG4gICAgICAgIGlmIChwbGF5ZXIgJiYgcGxheWVyLm5hbWUpIHtcclxuICAgICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAyMCwgMjAsIGBKdWdhZG9yOiAke3BsYXllci5uYW1lfWAsIHsgZm9udFNpemU6ICcxNnB4JywgY29sb3I6ICcjZmZmZmZmJyB9KS5zZXRPcmlnaW4oMSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gZXJyb3IhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGxvc3QhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdGYWlsZWQgdG8gY29ubmVjdCEnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3F1ZXVlU3RhdHVzJzpcclxuICAgICAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBQbGF5ZXJzIGluIHF1ZXVlOiAke2RhdGEucG9zaXRpb259LzJgKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhcnRpbmchJywgZGF0YSk7XHJcbiAgICAgICAgLy8gU3RvcmUgZ2FtZSBkYXRhIGFuZCB0cmFuc2l0aW9uIHRvIG11bHRpcGxheWVyIGdhbWUgc2NlbmVcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllckdhbWVTY2VuZScsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICAgIGluaXRpYWxCYWxsOiBkYXRhLmJhbGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBQb20gfSBmcm9tICcuLi9lbnRpdGllcy9Qb20nO1xuaW1wb3J0IHsgUGluIH0gZnJvbSAnLi4vZW50aXRpZXMvUGluJztcblxuLyoqXG4gKiBNdWx0aXBsYXllciBHYW1lIFNjZW5lIC0gT25saW5lIHBvbmcgZ2FtZVxuICogQmFsbCBwaHlzaWNzIHJ1biBvbiBib3RoIGNsaWVudHMgKGRldGVybWluaXN0aWMpXG4gKiBTZXJ2ZXIgb25seSB0cmFja3Mgc2NvcmVzIGFuZCByZWxheXMgcGFkZGxlIHBvc2l0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllckdhbWVTY2VuZScpO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLndzID0gZGF0YS53cztcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlOyAvLyAncGxheWVyMScgb3IgJ3BsYXllcjInXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbEJhbGwgPSBkYXRhLmluaXRpYWxCYWxsO1xuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9jYWxQYWRkbGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9jYWxTY29yZSA9IDA7XG4gICAgICAgIHRoaXMucmVtb3RlU2NvcmUgPSAwO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgxYTFhMmUpO1xuXG4gICAgICAgIC8vIENlbnRlciBkaXNjb250aW51ZWQgbGluZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIGkgKiA1MCArIDI1LCAxMCwgMzAsIDB4NDQ0NDQ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjb3JlIHRleHRzXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCgxMDAsIDUwLCAnMCcsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2NvcmVSaWdodCA9IHRoaXMuYWRkLnRleHQoNzAwLCA1MCwgJzAnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSb2xlIGluZGljYXRvclxuICAgICAgICBjb25zdCByb2xlVGV4dCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ1lvdSBhcmUgUGxheWVyIDEgKExlZnQpJyA6ICdZb3UgYXJlIFBsYXllciAyIChSaWdodCknO1xuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAsIHJvbGVUZXh0LCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJvdW5kcygpO1xuICAgICAgICB0aGlzLmNyZWF0ZUJhbGwoKTtcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcblxuICAgICAgICAvLyBBZGQgY29sbGlkZXJzXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5iYWxsLCB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5iYWxsLCB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5iYWxsLCB0aGlzLmxlZnRHb2FsLCB0aGlzLnNjb3JlTGVmdEdvYWwsIG51bGwsIHRoaXMpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5iYWxsLCB0aGlzLnJpZ2h0R29hbCwgdGhpcy5zY29yZVJpZ2h0R29hbCwgbnVsbCwgdGhpcyk7XG5cbiAgICAgICAgLy8gU2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldExpc3RlbmVycygpO1xuXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCAtIGJvdGggcGxheWVycyB1c2UgYXJyb3cga2V5c1xuICAgICAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcblxuICAgICAgICAvLyBMYXVuY2ggYmFsbCB3aXRoIHNlcnZlci1wcm92aWRlZCBpbml0aWFsIHN0YXRlXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSh0aGlzLmluaXRpYWxCYWxsLnZ4LCB0aGlzLmluaXRpYWxCYWxsLnZ5KTtcbiAgICB9XG5cbiAgICBzZXRVcFBsYXllcnMoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBwYWRkbGVzIGJhc2VkIG9uIHBsYXllciByb2xlXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xuICAgICAgICAgICAgdGhpcy5sb2NhbFBhZGRsZSA9IG5ldyBQYWRkbGUodGhpcywgJ3BsYXllcjEnLCA1MCwgMzAwKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGFkZGxlID0gbmV3IFBhZGRsZSh0aGlzLCAncGxheWVyMicsIDc1MCwgMzAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWRkbGUgPSBuZXcgUGFkZGxlKHRoaXMsICdwbGF5ZXIyJywgNzUwLCAzMDApO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWRkbGUgPSBuZXcgUGFkZGxlKHRoaXMsICdwbGF5ZXIxJywgNTAsIDMwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncGFkZGxlVXBkYXRlJzpcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgb3Bwb25lbnQncyBwYWRkbGUgcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUueSA9IGRhdGEueTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnc2NvcmVVcGRhdGUnOlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzY29yZXMgZnJvbSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/IGRhdGEucGxheWVyMVNjb3JlIDogZGF0YS5wbGF5ZXIyU2NvcmU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVTY29yZSA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gZGF0YS5wbGF5ZXIyU2NvcmUgOiBkYXRhLnBsYXllcjFTY29yZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQoZGF0YS5wbGF5ZXIxU2NvcmUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVJpZ2h0LnNldFRleHQoZGF0YS5wbGF5ZXIyU2NvcmUudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGJhbGwsIHNlcnZlciB3aWxsIHJlbGF1bmNoIGl0XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zZXRQb3NpdGlvbig0MDAsIDMwMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JhbGxSZWxhdW5jaCc6XG4gICAgICAgICAgICAgICAgLy8gU2VydmVyIGlzIHJlbGF1bmNoaW5nIHRoZSBiYWxsIHdpdGggbmV3IHZlbG9jaXR5XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFBvc2l0aW9uKGRhdGEuYmFsbC54LCBkYXRhLmJhbGwueSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KGRhdGEuYmFsbC52eCwgZGF0YS5iYWxsLnZ5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxuICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lciwgZGF0YS5wbGF5ZXIxU2NvcmUsIGRhdGEucGxheWVyMlNjb3JlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjb3JlTGVmdEdvYWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJhbGwgaGl0IExFRlQgZ29hbCAoeD0wKSwgc28gbm90aWZ5IHNlcnZlclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogJ2dvYWwnLCBzaWRlOiAnbGVmdCcgfSk7XG4gICAgfVxuXG4gICAgc2NvcmVSaWdodEdvYWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJhbGwgaGl0IFJJR0hUIGdvYWwgKHg9ODAwKSwgc28gbm90aWZ5IHNlcnZlclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogJ2dvYWwnLCBzaWRlOiAncmlnaHQnIH0pO1xuICAgIH1cblxuICAgIGVuZEdhbWUod2lubmVyLCBwbGF5ZXIxU2NvcmUsIHBsYXllcjJTY29yZSkge1xuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcbiAgICAgICAgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XG4gICAgICAgIHRoaXMucmVtb3RlUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XG5cbiAgICAgICAgY29uc3QgaXNXaW5uZXIgPSAod2lubmVyID09PSAncGxheWVyMScgJiYgdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAod2lubmVyID09PSAncGxheWVyMicgJiYgdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMicpO1xuXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPSBpc1dpbm5lciA/ICdZb3UgV2luIScgOiAnWW91IExvc2UhJztcbiAgICAgICAgY29uc3QgY29sb3IgPSBpc1dpbm5lciA/ICcjMDBmZjAwJyA6ICcjZmYwMDAwJztcblxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAwLCB3aW5uZXJUZXh0LCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyODAsIGBGaW5hbCBTY29yZTogJHtwbGF5ZXIxU2NvcmV9IC0gJHtwbGF5ZXIyU2NvcmV9YCwge1xuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XG4gICAgICAgIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xuICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xuXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdPcHBvbmVudCBEaXNjb25uZWN0ZWQnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgJ1JldHVybiB0byBNYWluIE1lbnUnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhbGwoKSB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgZ3JhcGhpY3MuZmlsbFN0eWxlKDB4ZmZmZmZmKTtcbiAgICAgICAgZ3JhcGhpY3MuZmlsbENpcmNsZSg4LCA4LCA4KTtcbiAgICAgICAgZ3JhcGhpY3MuZ2VuZXJhdGVUZXh0dXJlKCdiYWxsLW11bHRpJywgMTYsIDE2KTtcbiAgICAgICAgZ3JhcGhpY3MuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuYmFsbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgMzAwLCAnYmFsbC1tdWx0aScpO1xuICAgICAgICB0aGlzLmJhbGwuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xuICAgICAgICB0aGlzLmJhbGwuc2V0Qm91bmNlKDEpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJvdW5kcygpIHtcbiAgICAgICAgdGhpcy5sZWZ0R29hbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDAsIDMwMCwgbnVsbCk7XG4gICAgICAgIHRoaXMubGVmdEdvYWwuc2V0RGlzcGxheVNpemUoMTAsIDYwMCk7XG4gICAgICAgIHRoaXMubGVmdEdvYWwuYm9keS5zZXRTaXplKDEwLCA2MDApO1xuICAgICAgICB0aGlzLmxlZnRHb2FsLnNldEltbW92YWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5sZWZ0R29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJpZ2h0R29hbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDgwMCwgMzAwLCBudWxsKTtcbiAgICAgICAgdGhpcy5yaWdodEdvYWwuc2V0RGlzcGxheVNpemUoMTAsIDYwMCk7XG4gICAgICAgIHRoaXMucmlnaHRHb2FsLmJvZHkuc2V0U2l6ZSgxMCwgNjAwKTtcbiAgICAgICAgdGhpcy5yaWdodEdvYWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnJpZ2h0R29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEhhbmRsZSBsb2NhbCBwYWRkbGUgaW5wdXQgLSBib3RoIHBsYXllcnMgdXNlIGFycm93IGtleXNcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMudXAuaXNEb3duKSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSBsb2NhbCBwYWRkbGVcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAzMDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5WSgtc3BlZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eVkoc3BlZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHlZKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VuZCBwYWRkbGUgcG9zaXRpb24gdG8gc2VydmVyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogJ3BhZGRsZU1vdmUnLFxuICAgICAgICAgICAgeTogdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUueVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIExlYWRlcmJvYXJkc1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMZWFkZXJib2FyZHNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2FyIHNvbmlkb3Mgc2kgZXMgbmVjZXNhcmlvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdCb3RvbicsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAzMDAsIDEwMDAsIDYwMCwgMHgxYTFhMmUpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg1MDAsIDUwLCAnTEVBREVSQk9BUkRTJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZSBjYXJnYVxyXG4gICAgICAgIHRoaXMubG9hZGluZ1RleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgMTUwLCAnQ2FyZ2FuZG8gcmFua2luZ3MuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IvZGVidWcgZGUgZW50cmFkYXNcclxuICAgICAgICB0aGlzLmNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQoNTAwLCAxMjAsICcnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGVuZWRvciBwYXJhIGxhIGxpc3RhXHJcbiAgICAgICAgdGhpcy5yYW5raW5nc0NvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcig1MDAsIDIwMCk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWZyZXNjYXJcclxuICAgICAgICBjb25zdCByZWZyZXNoQnRuID0gdGhpcy5hZGQudGV4dCg4NTAsIDUwLCAnUmVmcmVzY2FyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMGZmZmYnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHJlZnJlc2hCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiByZWZyZXNoQnRuLnNldENvbG9yKCcjMDBmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0LnNldFRleHQoJ0NhcmdhbmRvIHJhbmtpbmdzLi4uJyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ1RleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkUmFua2luZ3MoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTUwLCAnVm9sdmVyIGFsIE1lbsO6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBiYWNrQnRuLnNldENvbG9yKCcjMDBmZjAwJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2FyIHJhbmtpbmdzXHJcbiAgICAgICAgdGhpcy5sb2FkUmFua2luZ3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkUmFua2luZ3MoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gRmV0Y2ggbGVhZGVyYm9hcmQgZW50cmllcyAoc2NvcmVzIGhpc3TDs3JpY29zIGNvbiBjYXLDoWN0ZXIpXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbGVhZGVyYm9hcmRzJyk7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgYWwgY2FyZ2FyIGxlYWRlcmJvYXJkcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbTGVhZGVyYm9hcmRzU2NlbmVdIGZldGNoZWQgZW50cmllczonLCBlbnRyaWVzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1vc3RyYXIgdG9wIDEwIGVudHJpZXNcclxuICAgICAgICAgICAgY29uc3QgdG9wRW50cmllcyA9IGVudHJpZXMuc2xpY2UoMCwgMTApO1xyXG5cclxuICAgICAgICAgICAgLy8gTGltcGlhciBjb250ZW5lZG9yXHJcbiAgICAgICAgICAgIHRoaXMucmFua2luZ3NDb250YWluZXIucmVtb3ZlQWxsKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNb3N0cmFyIG7Dum1lcm8gZGUgZW50cmFkYXNcclxuICAgICAgICAgICAgdGhpcy5jb3VudFRleHQuc2V0VGV4dChgUHVudHVhY2lvbmVzOiAke3RvcEVudHJpZXMubGVuZ3RofWApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRvcEVudHJpZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0LnNldFRleHQoJ05vIGhheSBwdW50dWFjaW9uZXMgcmVnaXN0cmFkYXMnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RleHQuc2V0Q29sb3IoJyNmZmZmMDAnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT2N1bHRhciB0ZXh0byBkZSBjYXJnYVxyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgLy8gTW9zdHJhciByYW5raW5ncyBjb24gZWwgY2Fyw6FjdGVyXHJcbiAgICAgICAgICAgIHRvcEVudHJpZXMuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gaW5kZXggKiAzMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmsgPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSBlbnRyeS5jaGFyYWN0ZXIgPyBgICgke2VudHJ5LmNoYXJhY3Rlcn0pYCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgeSwgYCR7cmFua30uICR7ZW50cnkubmFtZX0gLSAke2VudHJ5LnNjb3JlfSR7Y2hhcmFjdGVyfWAsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSwgMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmtpbmdzQ29udGFpbmVyLmFkZCh0ZXh0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgbGVhZGVyYm9hcmRzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zZXRUZXh0KCdFcnJvciBhbCBjYXJnYXIgcmFua2luZ3MnKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdFNjZW5lLmpzJztcclxuaW1wb3J0IHsgU2V0dGluZ3NTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1NldHRpbmdzU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCBMb2JieVNjZW5lIGZyb20gJy4vc2NlbmVzL0xvYmJ5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllckdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgTGVhZGVyYm9hcmRzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9MZWFkZXJib2FyZHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxMDAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtNZW51U2NlbmUsIEdhbWVTY2VuZSwgUGF1c2VTY2VuZSwgQ3JlZGl0U2NlbmUsIFNldHRpbmdzU2NlbmUsIENvbm5lY3Rpb25Mb3N0U2NlbmUsIExvYmJ5U2NlbmUsIE11bHRpcGxheWVyR2FtZVNjZW5lLCBMZWFkZXJib2FyZHNTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWExYTJlJyxcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuLy8gR2xvYmFsIGNvbm5lY3Rpb24gbGlzdGVuZXI6IGFsIHBlcmRlciBjb25leGnDs24sIGFicmlyIENvbm5lY3Rpb25Mb3N0U2NlbmUgeSBwYXVzYXIgbGEgZXNjZW5hIGFjdGl2YVxyXG5jb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcigoZGF0YSkgPT4ge1xyXG4gIGlmICghZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFNpIHlhIGVzdMOhIGFiaWVydGEgbGEgZXNjZW5hIGRlIHJlY29uZXhpw7NuLCBubyBoYWNlbW9zIG5hZGFcclxuICAgICAgY29uc3QgY29ublNjZW5lID0gZ2FtZS5zY2VuZS5nZXRTY2VuZSgnQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICBpZiAoY29ublNjZW5lICYmIGNvbm5TY2VuZS5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQYXVzYXIgdG9kYXMgbGFzIGVzY2VuYXMgYWN0aXZhcyAoZXhjbHVpciBDb25uZWN0aW9uTG9zdFNjZW5lKVxyXG4gICAgICBjb25zdCBhY3RpdmVTY2VuZXMgPSBnYW1lLnNjZW5lLmdldFNjZW5lcyh0cnVlKTtcclxuICAgICAgY29uc3QgcHJldmlvdXNLZXlzID0gYWN0aXZlU2NlbmVzXHJcbiAgICAgICAgLmZpbHRlcihzID0+IHMuc2NlbmUgJiYgcy5zY2VuZS5rZXkgJiYgcy5zY2VuZS5rZXkgIT09ICdDb25uZWN0aW9uTG9zdFNjZW5lJylcclxuICAgICAgICAubWFwKHMgPT4gcy5zY2VuZS5rZXkpO1xyXG5cclxuICAgICAgcHJldmlvdXNLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZ2FtZS5zY2VuZS5wYXVzZShrZXkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihgW01haW5dIFVuYWJsZSB0byBwYXVzZSBzY2VuZSAke2tleX06YCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEluaWNpYXIgbGEgZXNjZW5hIGRlIGNvbmV4acOzbiBwZXJkaWRhIHBhc2FuZG8gbGFzIGVzY2VuYXMgcGF1c2FkYXNcclxuICAgICAgZ2FtZS5zY2VuZS5zdGFydCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZXM6IHByZXZpb3VzS2V5cyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWFpbl0gRXJyb3IgaGFuZGxpbmcgY29ubmVjdGlvbiBsb3NzOicsIGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG59KTsiXSwibmFtZXMiOlsiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJjcmVhdGUiLCJleGlzdGluZ011c2ljIiwiZ2FtZSIsIm11c2ljYU1lbnUiLCJpc1BsYXlpbmciLCJzb3VuZCIsInN0b3BBbGwiLCJhZGQiLCJwbGF5IiwibG9vcCIsInZvbHVtZSIsInNldE9yaWdpbiIsInNldERpc3BsYXlTaXplIiwic2NhbGUiLCJ3aWR0aCIsImhlaWdodCIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiZm9udFN0eWxlIiwiZm9udEZhbWlseSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRDb2xvciIsInNjZW5lIiwic3RhcnQiLCJjcmVkaXRCdG4iLCJzZXR0aW5nc0J0biIsImZyb20iLCJsZWFkZXJib2FyZHNCdG4iLCJwbGF5ZXJJbmZvVGV4dCIsImxvZ2luQnRuIiwib3BlbkxvZ2luTW9kYWwiLCJsb2FkU3RvcmVkVXNlciIsIm9ubGluZUJ0biIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJhbGVydCIsImNvbm5lY3Rpb25UZXh0IiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJldmVudHMiLCJvbmNlIiwiY2xvc2VMb2dpbk1vZGFsIiwiaXNBY3RpdmUiLCJzZXRUZXh0IiwicmF3IiwidXNlciIsInBhcnNlIiwic2hvd1VzZXIiLCJlIiwid2FybiIsInBsYXllciIsIm5hbWUiLCJvZmYiLCJsb2dvdXQiLCJyZW1vdmVJdGVtIiwiX2xvZ2luTW9kYWxPcGVuIiwiaW5wdXQiLCJlbmFibGVkIiwib3ZlcmxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIk9iamVjdCIsImFzc2lnbiIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwiYmFja2dyb3VuZCIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJ6SW5kZXgiLCJwb2ludGVyRXZlbnRzIiwic3RvcFBvaW50ZXIiLCJ0YXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJiYWNrZ3JvdW5kQ2xpY2tIYW5kbGVyIiwiX2RvbUJhY2tncm91bmRDbGlja0hhbmRsZXIiLCJwYW5lbCIsInBhZGRpbmciLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJib3hTaXppbmciLCJvdmVyZmxvdyIsInRpdGxlIiwidGV4dENvbnRlbnQiLCJtYXJnaW5Cb3R0b20iLCJ0ZXh0QWxpZ24iLCJjcmVhdGVMYWJlbEFuZElucHV0IiwibGFiZWxUZXh0IiwidHlwZSIsIndyYXBwZXIiLCJtYXJnaW4iLCJsYWJlbCIsIm91dGxpbmUiLCJhcHBlbmRDaGlsZCIsImVtYWlsUGFpciIsIm5hbWVQYWlyIiwiZmVlZGJhY2siLCJtaW5IZWlnaHQiLCJtYXJnaW5Ub3AiLCJidG5Sb3ciLCJlbnRlckJ0biIsImN1cnNvciIsImNhbmNlbEJ0biIsIl9kb21Nb2RhbCIsIl9kb21FbWFpbElucHV0IiwiX2RvbU5hbWVJbnB1dCIsIl9kb21GZWVkYmFjayIsImZvY3VzIiwic3VibWl0SGFuZGxlciIsImFzeW5jIiwic3VibWl0TG9naW5Eb20iLCJjYW5jZWxIYW5kbGVyIiwia2V5SGFuZGxlciIsImtleSIsIl9kb21TdWJtaXRIYW5kbGVyIiwiX2RvbUNhbmNlbEhhbmRsZXIiLCJfZG9tS2V5SGFuZGxlciIsIl9kb21TdG9wUG9pbnRlciIsIl9kb21FbnRlckJ0biIsIl9kb21DYW5jZWxCdG4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZW1haWwiLCJ2YWx1ZSIsInRyaW0iLCJyZXMiLCJlcnIiLCJjYXRjaCIsInNldEl0ZW0iLCJzZXRUaW1lb3V0Iiwic2h1dGRvd24iLCJQb20iLCJHYW1lT2JqZWN0cyIsIkltYWdlIiwiaWQiLCJ4IiwieSIsInNldFNjYWxlIiwic2V0RGVwdGgiLCJleGlzdGluZyIsImlzSGl0dGluZyIsImhpdE9mZnNldCIsInBvaW50ZXIiLCJ0aGVybW9tZXRlckVmZmVjdEFjdGl2ZSIsImhpdCIsInN0YXJ0WCIsInN0YXJ0WSIsInN0YXJ0QW5nbGUiLCJhbmdsZSIsInJhZGlhbnMiLCJEZWdUb1JhZCIsImRpc3RhbmNlIiwiZHgiLCJjb3MiLCJkeSIsInNpbiIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsImVhc2UiLCJvbkNvbXBsZXRlIiwiUGluIiwicG9wVXBEdXJhdGlvbiIsImhlYWx0aCIsImhvbGVzIiwiY3VycmVudEhvbGVJbmRleCIsIm1vdmVDb29sZG93biIsIl9sYXN0TW92ZVRpbWUiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0SW1tb3ZhYmxlIiwiYWxsb3dHcmF2aXR5Iiwic2V0VmlzaWJsZSIsIl9vbkhpdENhbGxiYWNrIiwiX3BvaW50ZXJSZWdpc3RlcmVkIiwiZGlzYWJsZUludGVyYWN0aXZlIiwic2V0SG9sZXMiLCJsZW5ndGgiLCJtb3ZlVG9Ib2xlIiwidGltZSIsIldyYXAiLCJwb3MiLCJzZXRQb3NpdGlvbiIsImhpZGUiLCJtb3ZlSW5kZXgiLCJkZWx0YSIsInBvcFVwIiwiX3dhc0hpdCIsImVtaXQiLCJob2xlSW5kZXgiLCJ0aW1lc3RhbXAiLCJkZWxheWVkQ2FsbCIsInNldFRpbnQiLCJjbGVhclRpbnQiLCJyZXNldCIsIlBPV0VSVVBfQ0xPQ0siLCJQT1dFUlVQX1RIRVJNT01FVEVSIiwiR2FtZVNjZW5lIiwiaW5pdCIsInRpbWVMZWZ0IiwiaXNHYW1lT3ZlciIsInB1bnRvc1BsYXllcjEiLCJwdW50b3NQbGF5ZXIyIiwicG93ZXJ1cEFtb3VudCIsInBvd2VydXBNYXhTdG9yZWRQMSIsInBvd2VydXBNYXhTdG9yZWRQMiIsInBvd2VydXBTdG9yZWRQMSIsInBvd2VydXBTdG9yZWRQMiIsInBvd2VydXBzVXNlZFAxIiwicG93ZXJ1cHNVc2VkUDIiLCJwb3dlcnVwIiwicG93ZXJ1cEhvbGVJbmRleCIsInBvd2VydXBEdXJhdGlvbiIsInBvd2VydXBTcGF3bk1pbiIsInBvd2VydXBTcGF3bk1heCIsInBpbkJsb2NrZWQiLCJ0aGVybW9tZXRlclRpbWVyIiwidG9wb1RpbWVyIiwiZ2FtZVRpbWVyIiwicmVjdGFuZ2xlIiwibXVzaWNhTml2ZWwiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNhbnZhcyIsIm1hcnRpbGxvIiwiYWN0aXZlUG9pbnRlciIsInNjb3JlUGxheWVyMSIsInNjb3JlUGxheWVyMiIsInRpbWVyVGV4dCIsImZvcm1hdFRpbWUiLCJwb3dlcnVwVGV4dFAxIiwicG93ZXJ1cFRleHRQMiIsImtleXMiLCJrZXlib2FyZCIsImFkZEtleXMiLCJvbmUiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiT05FIiwidHdvIiwiVFdPIiwidGhyZWUiLCJUSFJFRSIsImZvdXIiLCJGT1VSIiwiZml2ZSIsIkZJVkUiLCJzaXgiLCJTSVgiLCJlc2MiLCJFU0MiLCJzcGFjZSIsIlNQQUNFIiwib25SZXN1bWUiLCJjcmVhdGVUb3BvcyIsInNjaGVkdWxlTmV4dFBvd2VydXAiLCJwaWNrdXBQb3dlcnVwQnlQbGF5ZXIiLCJ1cGRhdGVTY29yZVVJIiwiaGFuZGxlUG9pbnRlckRvd24iLCJhZGRFdmVudCIsImRlbGF5IiwiZW5kUm91bmQiLCJ1cGRhdGVQb3dlcnVwVUkiLCJpc0xlZnQiLCJidXR0b24iLCJldmVudCIsImlzUmlnaHQiLCJwQm91bmRzIiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJ0b3BvIiwidXNlUG93ZXJ1cEJ5UGxheWVyIiwiYm91bmRzIiwiUmVjdGFuZ2xlIiwiY2FtZXJhcyIsIm1haW4iLCJzaGFrZSIsInRvcG9Ib2xlcyIsImxvY2FsWCIsImxvY2FsWSIsIkJldHdlZW4iLCJzcGF3blBvd2VydXBBdFJhbmRvbUhvbGUiLCJwb3dlcnVwVHlwZXMiLCJzcHJpdGVLZXkiLCJjdXJyZW50UG93ZXJ1cFR5cGUiLCJ5b3lvIiwicmVwZWF0IiwiZGVzdHJveSIsInBsYXllcklkIiwiZ2V0IiwicG93ZXJ1cFR5cGUiLCJwb3AiLCJwYXVzZWQiLCJmbGFzaCIsInNlY29uZHMiLCJmbG9vciIsInBhZFN0YXJ0IiwidXBkYXRlIiwiaXNEb3duIiwiSnVzdERvd24iLCJsYXVuY2giLCJvcmlnaW5hbFNjZW5lIiwicGF1c2UiLCJyZW1vdmUiLCJjeCIsImN5Iiwic2V0U3Ryb2tlU3R5bGUiLCJ3aW5uZXJUZXh0IiwidXBkYXRlVXNlclNjb3JlIiwiYnRuVyIsImNyZWF0ZUJ0biIsImJhc2VDb2xvciIsImhvdmVyQ29sb3IiLCJiZyIsIkNvbnRhaW5zIiwiY29udGFpbmVyIiwic2V0U2l6ZSIsInNldEZpbGxTdHlsZSIsImtpbGxUd2VlbnNPZiIsInNjYWxlWCIsInNjYWxlWSIsImJ0blkiLCJyZXN0YXJ0Iiwic2NvcmUiLCJtYXgiLCJjaGFyYWN0ZXIiLCJ1cGRhdGVEYXRhIiwiYmVzdENoYXJhY3RlciIsIm1heFNjb3JlIiwib3Bwb25lbnQiLCJQYXVzZVNjZW5lIiwidyIsImgiLCJfcHJldkN1cnNvciIsIm91dGVyQmxvY2tlciIsInJlc3VtZUJ0biIsImNyZWF0ZUJ1dHRvbiIsIm1lbnVCdG4iLCJyZXN1bWUiLCJzdG9wIiwiX2VzY0hhbmRsZXIiLCJub3JtYWxIZXgiLCJob3ZlckhleCIsIm5vcm1hbENvbG9yIiwiYnRuIiwiQ3JlZGl0U2NlbmUiLCJjcmVkaXRzIiwiYWxpZ24iLCJ3b3JkV3JhcCIsIlNldHRpbmdzU2NlbmUiLCJfcmV0dXJuVG8iLCJfb3JpZ2luYWxTY2VuZSIsInBhbmVsV2lkdGgiLCJtaW4iLCJwYW5lbFgiLCJwYW5lbFkiLCJwYW5lbEhlaWdodCIsInBhbmVsQmciLCJncmFwaGljcyIsImZpbGxTdHlsZSIsImZpbGxSb3VuZGVkUmVjdCIsImZpbGxHcmFkaWVudFN0eWxlIiwibGluZVN0eWxlIiwic3Ryb2tlUm91bmRlZFJlY3QiLCJhbHBoYSIsImxldHRlclNwYWNpbmciLCJzZXRTdHJva2UiLCJzZXRTaGFkb3ciLCJjcmVhdGVWb2x1bWVTbGlkZXIiLCJsaW5lU3BhY2luZyIsImJhY2tMYWJlbCIsImZhZGVPdXQiLCJiZ0JhciIsIm11c2ljSW5zdGFuY2VzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImluaXRpYWxWb2wiLCJDbGFtcCIsImZpbGxCYXIiLCJoYW5kbGUiLCJjaXJjbGUiLCJkcmFnZ2FibGUiLCJwZXJjZW50VGV4dCIsInJvdW5kIiwic2V0RHJhZ2dhYmxlIiwidXBkYXRlVm9sdW1lIiwibSIsInNldFZvbHVtZSIsIm9iaiIsImRyYWdYIiwid29ybGRYIiwidm9sIiwib3B0cyIsImJnQ29sb3IiLCJ0ZXh0Q29sb3IiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tJbnRlcnZhbCIsInByZXZpb3VzU2NlbmVzIiwiQXJyYXkiLCJpc0FycmF5IiwicHJldmlvdXNTY2VuZSIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiZG90cyIsInBhdXNlQWxsIiwib25SZWNvbm5lY3RlZCIsImF0dGVtcHRSZWNvbm5lY3QiLCJyZXN1bWVBbGwiLCJMb2JieVNjZW5lIiwiU2NlbmUiLCJ3cyIsInBsYXllckNvdW50VGV4dCIsImNhbmNlbEJ1dHRvbiIsImJhY2tncm91bmRDb2xvciIsImxlYXZlUXVldWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJ3c1VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsIldlYlNvY2tldCIsIm9ub3BlbiIsInNlbmQiLCJvbm1lc3NhZ2UiLCJoYW5kbGVTZXJ2ZXJNZXNzYWdlIiwib25lcnJvciIsIm9uY2xvc2UiLCJwbGF5ZXJSb2xlIiwicm9sZSIsInJvb21JZCIsImluaXRpYWxCYWxsIiwiYmFsbCIsInJlYWR5U3RhdGUiLCJPUEVOIiwiY2xvc2UiLCJNdWx0aXBsYXllckdhbWVTY2VuZSIsImlzUGF1c2VkIiwiZ2FtZUVuZGVkIiwibG9jYWxQYWRkbGUiLCJyZW1vdGVQYWRkbGUiLCJsb2NhbFNjb3JlIiwicmVtb3RlU2NvcmUiLCJpIiwic2NvcmVMZWZ0Iiwic2NvcmVSaWdodCIsInJvbGVUZXh0IiwiY3JlYXRlQm91bmRzIiwiY3JlYXRlQmFsbCIsInNldFVwUGxheWVycyIsImNvbGxpZGVyIiwib3ZlcmxhcCIsImxlZnRHb2FsIiwic2NvcmVMZWZ0R29hbCIsInJpZ2h0R29hbCIsInNjb3JlUmlnaHRHb2FsIiwic2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMiLCJjdXJzb3JzIiwiY3JlYXRlQ3Vyc29yS2V5cyIsInNldFZlbG9jaXR5IiwidngiLCJ2eSIsIlBhZGRsZSIsInBsYXllcjFTY29yZSIsInBsYXllcjJTY29yZSIsImVuZEdhbWUiLCJ3aW5uZXIiLCJzZW5kTWVzc2FnZSIsInNpZGUiLCJpc1dpbm5lciIsImNyZWF0ZU1lbnVCdXR0b24iLCJmaWxsQ2lyY2xlIiwiZ2VuZXJhdGVUZXh0dXJlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0Qm91bmNlIiwibWVzc2FnZSIsImRpcmVjdGlvbiIsInVwIiwiZG93biIsInNldFZlbG9jaXR5WSIsIkxlYWRlcmJvYXJkc1NjZW5lIiwibG9hZGluZ1RleHQiLCJjb3VudFRleHQiLCJyYW5raW5nc0NvbnRhaW5lciIsInJlZnJlc2hCdG4iLCJsb2FkUmFua2luZ3MiLCJiYWNrQnRuIiwiRXJyb3IiLCJlbnRyaWVzIiwidG9wRW50cmllcyIsInNsaWNlIiwicmVtb3ZlQWxsIiwiZW50cnkiLCJyYW5rIiwiY29uZmlnIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNvbm5TY2VuZSIsImdldFNjZW5lIiwicHJldmlvdXNLZXlzIiwiZ2V0U2NlbmVzIiwicyIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=