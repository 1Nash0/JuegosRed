(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{console.log("[ConnectionManager] Checking connection...");const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(console.log("[ConnectionManager] Response status:",e.status),e.ok){const t=await e.json();return console.log("[ConnectionManager] Connected users:",t.connected),this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return console.log("[ConnectionManager] Response not OK, status:",e.status),this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("[ConnectionManager] Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.image("Titulo","assets/Bocetos/Inicio.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.sound.stopAll(),this.musicaMenu=this.sound.add("Musica_menu"),this.musicaMenu.play({loop:!0,volume:.5}),this.add.image(0,0,"Titulo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.text(380,200,"MOLE",{fontSize:"72px",color:"#892327",fontStyle:"bold",fontFamily:"roboto"}).setOrigin(.5),this.add.text(600,200,"HOLE",{fontSize:"72px",color:"#253754",fontFamily:"roboto"}).setOrigin(.5);const e=this.add.text(500,320,"Local 2 Jugadores",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#00fff7ff")).on("pointerout",()=>e.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("GameScene")}),s=this.add.text(500,420,"CrÃ©ditos",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#00fff7ff")).on("pointerout",()=>s.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("CreditScene")}),i=this.add.text(500,470,"Ajustes",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setColor("#00fff7ff")).on("pointerout",()=>i.setColor("#892327")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("SettingsScene")}),o=this.add.text(500,370,"Multijugador en LÃ­nea",{fontSize:"30px",fontStyle:"bold",fontFamily:"roboto",color:"#892327"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>o.setColor("#00fff7ff")).on("pointerout",()=>o.setColor("#892327")).on("pointerdown",()=>{this.scene.start("LobbyScene")});this.connectionText=this.add.text(500,530,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.musicaMenu&&this.musicaMenu.stop()}}class i extends Phaser.GameObjects.Image{constructor(e,t,s,i){super(e,s,i,"Martillo"),this.scene=e,this.id=t,this.setOrigin(.5,.35),this.setScale(1),this.setDepth(5),e.add.existing(this),this.isHitting=!1,this.hitOffset=45,e.input.on("pointermove",e=>{this.isHitting||(this.x=e.x,this.y=e.y)})}hit(){if(this.isHitting)return;this.isHitting=!0;const e=this.x,t=this.y,s=this.angle,i=Phaser.Math.DegToRad(s+90),o=this.hitOffset,n=Math.cos(i)*o,r=Math.sin(i)*o;this.scene.tweens.add({targets:this,x:e+n,y:t+r,angle:s+18,duration:80,ease:"Power2.In",onComplete:()=>{this.scene.tweens.add({targets:this,x:e,y:t,angle:s,duration:140,ease:"Back.Out",onComplete:()=>{this.isHitting=!1}})}})}}class o{constructor(e,t,s,i){this.id=t,this.scene=e,this.isActive=!1,this.popUpDuration=1e3,this.health=1,this.holes=[],this.currentHoleIndex=0,this.moveCooldown=700,this._lastMoveTime=0,this.sprite=this.scene.physics.add.sprite(s,i,"bojack"),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.sprite.setVisible(!1),this.sprite.setScale(.5),this.sprite.setOrigin(.5),this.sprite.setDepth(2),this._onHitCallback=()=>this.hit(),this._pointerRegistered=!1,this.sprite.disableInteractive()}setHoles(e=[]){this.holes=e,this.holes.length&&(this.currentHoleIndex=0,this.moveToHole(this.currentHoleIndex))}moveToHole(e){if(!this.holes.length)return!1;const t=this.scene&&this.scene.time&&this.scene.time.now?this.scene.time.now:Date.now();if(t-this._lastMoveTime<this.moveCooldown)return!1;this._lastMoveTime=t,this.currentHoleIndex=Phaser.Math.Wrap(e,0,this.holes.length);const s=this.holes[this.currentHoleIndex];return this.sprite.setPosition(s.x,s.y),this.isActive&&this.hide(),!0}moveIndex(e){this.holes.length&&this.moveToHole(this.currentHoleIndex+e)}popUp(){if(!this.isActive){this.moveToHole(this.currentHoleIndex),this.isActive=!0,this.health=1,this._wasHit=!1,this.sprite.setVisible(!0),this.sprite.setInteractive({useHandCursor:!0}),this._pointerRegistered||(this.sprite.on("pointerdown",this._onHitCallback),this._pointerRegistered=!0);try{this.scene.events.emit("topoPopped",{id:this.id,holeIndex:this.currentHoleIndex,x:this.sprite.x,y:this.sprite.y,timestamp:this.scene.time?this.scene.time.now:Date.now()})}catch(e){console.warn("Emit topoPopped failed",e)}this.scene.time.delayedCall(this.popUpDuration,()=>{this.hide()})}}hide(){this.isActive=!1,this.sprite.setVisible(!1),this.sprite.disableInteractive()}hit(){return!!this.isActive&&(this.health-=1,this.sprite.setTint(16711680),this.scene.time.delayedCall(100,()=>{this.sprite.clearTint()}),this.health<=0&&(this.hide(),!0))}reset(){this.health=1,this.isActive=!1,this.sprite.setVisible(!1),this.sprite.clearTint()}}class n{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class r extends e.Scene{constructor(){super("GameScene")}init(){this.timeLeft=60,this.isGameOver=!1,this.puntosPlayer1=0,this.puntosPlayer2=0,this.powerupAmount=20,this.powerupMaxStored=3,this.powerupStoredP1=0,this.powerupStoredP2=0,this.powerup=null,this.powerupHoleIndex=-1,this.powerupDuration=5e3,this.powerupSpawnMin=4e3,this.powerupSpawnMax=12e3,this.topoTimer=null,this.gameTimer=null,this.processor=new n}preload(){this.load.image("fondo","assets/fondo_game.png"),this.load.image("Martillo","assets/mazo.png"),this.load.image("bojack","assets/pin.png"),this.load.image("reloj","assets/reloj.png"),this.load.image("agujero","assets/agujero.png"),this.load.audio("Musica_nivel","assets/Sonidos para_red/Hydrogen.mp3"),this.load.audio("Castor","assets/Sonidos para_red/Castor.mp3"),this.load.audio("Golpe","assets/Sonidos para_red/Golpe.mp3"),this.load.audio("Fin_partida","assets/Sonidos para_red/Miami.mp3"),this.load.audio("Sonido_martillo","assets/Sonidos para_red/Martillo_juez.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.add.rectangle(500,300,1e3,600,1710638),this.add.image(0,0,"fondo").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.add.image(200,480,"agujero").setScale(.5),this.add.image(320,320,"agujero").setScale(.5),this.add.image(440,480,"agujero").setScale(.5),this.add.image(560,320,"agujero").setScale(.5),this.add.image(680,480,"agujero").setScale(.5),this.add.image(800,320,"agujero").setScale(.5),this.musicaNivel=this.sound.add("Musica_nivel"),this.musicaNivel.play({loop:!0,volume:.5}),this.input.mouse.disableContextMenu(),this.game.canvas.style.cursor="none",this.martillo=new i(this,"Martillo",this.input.activePointer.x,this.input.activePointer.y),this.scorePlayer1=this.add.text(80,50,"Pom: 0",{fontSize:"32px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.scorePlayer2=this.add.text(850,50,"Pin: 0",{fontSize:"32px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.timerText=this.add.text(this.scale.width-20,this.scale.height-20,this.formatTime(this.timeLeft),{fontSize:"40px",fontStyle:"bold",color:"#ffffffff",fontFamily:"Arial"}).setOrigin(1,1),this.powerupTextP1=this.add.text(80,80,`P1 Powerups: ${this.powerupStoredP1}/${this.powerupMaxStored}`,{fontSize:"16px",color:"#6a7cb4ff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(0,0),this.powerupTextP2=this.add.text(this.scale.width+20,80,`P2 Powerups: ${this.powerupStoredP2}/${this.powerupMaxStored}`,{fontSize:"16px",color:"#9e4b4bff",fontStyle:"bold",fontFamily:"Arial"}).setOrigin(1.5,0),this.keys=this.input.keyboard.addKeys({one:e.Input.Keyboard.KeyCodes.ONE,two:e.Input.Keyboard.KeyCodes.TWO,three:e.Input.Keyboard.KeyCodes.THREE,four:e.Input.Keyboard.KeyCodes.FOUR,five:e.Input.Keyboard.KeyCodes.FIVE,six:e.Input.Keyboard.KeyCodes.SIX,esc:e.Input.Keyboard.KeyCodes.ESC,space:e.Input.Keyboard.KeyCodes.SPACE}),this.events.on("resume",this.onResume,this),this.createTopos(),this.scheduleNextPowerup(),this.events.off("topoPopped"),this.events.on("topoPopped",(e={})=>{this.isGameOver||this.powerup&&this.powerupHoleIndex===e.holeIndex&&this.pickupPowerupByPlayer(2)}),this.input.on("pointerdown",e=>this.handlePointerDown(e)),this.gameTimer=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{this.isGameOver||(this.timeLeft--,this.timerText.setText(this.formatTime(this.timeLeft)),this.timeLeft<=0&&this.endRound())}}),this.updateScoreUI(),this.updatePowerupUI()}handlePointerDown(e){if(this.isGameOver)return;const t=0===e.button||e.event&&0===e.event.button,s=2===e.button||e.event&&2===e.event.button;if(this.powerup&&this.powerup.sprite){const i=this.powerup.sprite.getBounds();if(i&&i.contains(e.x,e.y)){if(t)return void this.pickupPowerupByPlayer(1);if(s)return void(this.topo&&this.powerupHoleIndex===this.topo.currentHoleIndex&&this.pickupPowerupByPlayer(2))}}if(s)this.usePowerupByPlayer(1);else if(t){if(this.martillo&&this.martillo.hit(),!this.topo||!this.topo.sprite)return;const t=this.topo.sprite.getBounds();if(t&&t.contains(e.x,e.y)&&this.topo.isActive)return this.puntosPlayer1+=1,this.updateScoreUI(),this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),void this.cameras.main.shake(200,.01);this.puntosPlayer2+=1,this.updateScoreUI(),this.sound.play("Sonido_martillo")}}createTopos(){this.topoHoles=[{x:200,y:480},{x:320,y:320},{x:440,y:480},{x:560,y:320},{x:680,y:480},{x:800,y:320}],this.topo=new o(this,0,this.topoHoles[0].x,this.topoHoles[0].y),this.topo.setHoles(this.topoHoles),this.topo.sprite.setInteractive(),this.topo.sprite.on("pointerdown",()=>{this.isGameOver||this.topo.isActive&&(this.martillo&&this.martillo.hit(),this.puntosPlayer1+=1,this.updateScoreUI(),this.topo.hide(),this.sound.play("Golpe"),this.sound.play("Castor"),this.cameras.main.shake(200,.01))}),this.topoTimer=this.time.addEvent({delay:1500,loop:!0,callback:()=>{this.isGameOver||this.topo.isActive||this.topo.popUp()}})}scheduleNextPowerup(){if(this.isGameOver)return;if(this.powerup)return;if(this.powerupMaxStored<=0)return;const t=e.Math.Between(this.powerupSpawnMin,this.powerupSpawnMax);this.time.delayedCall(t,()=>{this.isGameOver||this.spawnPowerupAtRandomHole()})}spawnPowerupAtRandomHole(){if(!this.topoHoles||!this.topoHoles.length)return;if(this.powerup)return;const t=e.Math.Between(0,this.topoHoles.length-1),s=this.topoHoles[t];this.powerup=this.add.image(s.x,s.y-10,"reloj").setScale(.15).setDepth(8),this.powerupHoleIndex=t,this.powerup.setInteractive({useHandCursor:!0}),this.powerup.on("pointerdown",e=>{this.isGameOver||(0===e.button||e.event&&0===e.event.button)&&(this.pickupPowerupByPlayer(1),this.sound.play("Boton"))}),this.tweens.add({targets:this.powerup,y:s.y-16,duration:600,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.time.delayedCall(this.powerupDuration,()=>{this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1,this.scheduleNextPowerup())})}pickupPowerupByPlayer(e){if(!this.powerup)return!1;if(this.isGameOver)return!1;if(1===e){if(this.powerupStoredP1>=this.powerupMaxStored)return!1;this.powerupStoredP1+=1}else{if(this.powerupStoredP2>=this.powerupMaxStored)return!1;this.powerupStoredP2+=1}return this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),this.powerup&&(this.powerup.destroy(),this.powerup=null,this.powerupHoleIndex=-1),this.scheduleNextPowerup(),!0}usePowerupByPlayer(e){if(this.isGameOver)return!1;if(1===e){if(this.powerupStoredP1<=0)return!1;this.powerupStoredP1-=1,this.powerupMaxStored>0&&(this.powerupMaxStored-=1)}else{if(this.powerupStoredP2<=0)return!1;this.powerupStoredP2-=1,this.powerupMaxStored>0&&(this.powerupMaxStored-=1)}return this.timeLeft+=this.powerupAmount,this.timerText.setText(this.formatTime(this.timeLeft)),this.cameras.main.flash(150,100,255,100),this.sound.get("Boton")&&this.sound.play("Boton"),this.updatePowerupUI(),!0}updateScoreUI(){this.scorePlayer1&&this.scorePlayer1.setText(`Pom: ${this.puntosPlayer1}`),this.scorePlayer2&&this.scorePlayer2.setText(`Pin: ${this.puntosPlayer2}`)}updatePowerupUI(){this.powerupTextP1&&this.powerupTextP1.setText(`P1 Powerups: ${this.powerupStoredP1}/${this.powerupMaxStored}`),this.powerupTextP2&&this.powerupTextP2.setText(`P2 Powerups: ${this.powerupStoredP2}/${this.powerupMaxStored}`)}formatTime(e){return`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}update(){this.isGameOver||(this.topo&&(e.Input.Keyboard.JustDown(this.keys.one)&&this.topo.moveToHole(0),e.Input.Keyboard.JustDown(this.keys.two)&&this.topo.moveToHole(1),e.Input.Keyboard.JustDown(this.keys.three)&&this.topo.moveToHole(2),e.Input.Keyboard.JustDown(this.keys.four)&&this.topo.moveToHole(3),e.Input.Keyboard.JustDown(this.keys.five)&&this.topo.moveToHole(4),e.Input.Keyboard.JustDown(this.keys.six)&&this.topo.moveToHole(5)),e.Input.Keyboard.JustDown(this.keys.esc)&&(this.isGameOver||(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())),e.Input.Keyboard.JustDown(this.keys.space)&&this.usePowerupByPlayer(2))}endRound(){this.isGameOver=!0,this.sound.stopAll(),this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto"),this.input.off("pointerdown"),this.martillo&&this.martillo.setVisible&&this.martillo.setVisible(!1),this.topoTimer&&this.topoTimer.remove(!1),this.gameTimer&&this.gameTimer.remove(!1),this.topo&&this.topo.sprite&&(this.topo.sprite.disableInteractive(),this.topo.hide());const t=this.scale.width/2,s=this.scale.height/2,i=this.add.rectangle(t,s,760,420,725536,.88).setOrigin(.5).setDepth(200);i.setStrokeStyle(4,2060267),i.scale=.85,this.tweens.add({targets:i,scale:1,duration:220,ease:"Back.Out"}),i.disableInteractive();let o="Empate";this.puntosPlayer1>this.puntosPlayer2?o="ðŸ†   Gana Jugador 1 (Pom)":this.puntosPlayer2>this.puntosPlayer1&&(o="ðŸ†   Gana Jugador 2 (Pin)"),this.add.text(t,s-130,o,{fontSize:"42px",fontStyle:"bold",color:"#ffffff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.rectangle(t,s-90,420,3,2060267).setOrigin(.5).setDepth(250),this.add.text(t,s-20,`P1 (Pom): ${this.puntosPlayer1}`,{fontSize:"26px",color:"#6c8bff",fontFamily:"Arial"}).setOrigin(.5).setDepth(250),this.add.text(t,s+20,`P2 (Pin): ${this.puntosPlayer2}`,{fontSize:"26px",color:"#ff6b6b",fontFamily:"Arial"}).setOrigin(.5).setDepth(250);const n=240,r=(t,s,i,o,r,a)=>{const h=this.add.rectangle(0,0,n,62,o).setOrigin(.5).setStrokeStyle(2,665408).setDepth(305),l=this.add.text(0,0,i,{fontSize:"22px",fontStyle:"bold",color:"#00131d",fontFamily:"Arial"}).setOrigin(.5).setDepth(306),c=this.add.rectangle(0,0,n,62,0,0).setOrigin(.5).setDepth(307).setInteractive(new e.Geom.Rectangle(-120,-31,n,62),e.Geom.Rectangle.Contains),d=this.add.container(t,s,[h,l,c]);return d.setSize(n,62),d.setInteractive(),d.setDepth(300),c.on("pointerover",()=>{h.setFillStyle(r),l.setColor("#ffffff"),this.tweens.killTweensOf(h),this.tweens.add({targets:h,scaleX:1.06,scaleY:1.06,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="pointer"}),c.on("pointerout",()=>{h.setFillStyle(o),l.setColor("#00131d"),this.tweens.killTweensOf(h),this.tweens.add({targets:h,scaleX:1,scaleY:1,duration:120,ease:"Power2"}),this.game.canvas.style.cursor="auto"}),c.on("pointerdown",()=>{this.sound.get("Boton")&&this.sound.play("Boton",{volume:.5}),a()}),d},a=s+120;r(t-150,a,"Repetir",8970751,5222655,()=>this.scene.restart()),r(t+150,a,"MenÃº Principal",16767912,16758138,()=>this.scene.start("MenuScene"))}onResume(){this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="none"),this.input.on("pointerdown",e=>this.handlePointerDown(e))}}class a extends e.Scene{constructor(){super("PauseScene")}create(e={}){const t=this.scale.width,s=this.scale.height,i=t/2,o=s/2;this._prevCursor=this.game&&this.game.canvas&&this.game.canvas.style?this.game.canvas.style.cursor:"",this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor="auto");const n=this.add.rectangle(i,o,t,s,0,.6).setOrigin(.5);n.setInteractive(),n.setDepth(0);const r=this.add.rectangle(i,o,540,460,1118746).setStrokeStyle(3,52326).setOrigin(.5);r.setDepth(1),r.scale=.9,this.tweens.add({targets:r,scale:1,duration:180,ease:"Back.Out"}),this.add.text(i,o-180,"PAUSADO",{fontSize:"40px",fontStyle:"bold",color:"#00cc66",fontFamily:"Arial"}).setOrigin(.5).setDepth(2),this.add.rectangle(i,o-140,340,3,52326).setOrigin(.5).setDepth(2);const a=this.createButton(i,o-40,"REANUDAR",52326,6750130),h=this.createButton(i,o+40,"MENÃš PRINCIPAL",16739179,16751258),l=this.createButton(i,o+120,"SALIR",16777215,13421772);a.setDepth(10),h.setDepth(10),l.setDepth(10),a.on("pointerdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),e.originalScene&&this.scene.resume(e.originalScene),this.scene.stop()}),h.on("pointerdown",()=>{e.originalScene&&this.scene.stop(e.originalScene),this.scene.start("MenuScene"),this.sound.stopAll()}),l.on("pointerdown",()=>{this.game.destroy(!0)}),this._escHandler=()=>a.emit("pointerdown"),this.input.keyboard.on("keydown-ESC",this._escHandler),this.events.once("shutdown",()=>{this.game&&this.game.canvas&&this.game.canvas.style&&(this.game.canvas.style.cursor=this._prevCursor||"auto"),this._escHandler&&(this.input.keyboard.off("keydown-ESC",this._escHandler),this._escHandler=null)})}createButton(e,t,s,i,o){const n=`#${i.toString(16).padStart(6,"0")}`,r=`#${o.toString(16).padStart(6,"0")}`,a=this.add.rectangle(0,0,360,64,2040640).setStrokeStyle(2,i).setOrigin(.5),h=this.add.text(0,0,s,{fontSize:"22px",fontStyle:"bold",color:n,fontFamily:"Arial"}).setOrigin(.5),l=this.add.container(e,t,[a,h]);return l.setSize(360,64),l.setInteractive({useHandCursor:!0}),l.on("pointerover",()=>{a.setFillStyle(3093592),a.setStrokeStyle(3,o),h.setColor(r),h.setScale(1.05)}),l.on("pointerout",()=>{a.setFillStyle(2040640),a.setStrokeStyle(2,i),h.setColor(n),h.setScale(1)}),l.on("pointerdown",()=>{this.tweens.add({targets:l,scaleX:.98,scaleY:.98,duration:80,yoyo:!0})}),l}}class h extends e.Scene{constructor(){super("CreditScene")}preload(){this.load.image("Creditos","assets/FondoCreditos.png"),this.load.audio("Musica_menu","assets/Sonidos para_red/Its Safe Now.mp3"),this.load.audio("Boton","assets/Sonidos para_red/Boton.mp3")}create(){this.add.image(0,0,"Creditos").setOrigin(0,0).setDisplaySize(this.scale.width,this.scale.height),this.sound.add("Musica_menu").play({loop:!0,volume:.5}),this.add.text(400,50,"CrÃ©ditos",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.credits=this.add.text(400,260,"\nDesarrolladores:\n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\n- Jaime Alonso del Real\n- David MartÃ­nez GarcÃ­a\nArte: \n- David MartÃ­nez GarcÃ­a\nSonidos y MÃºsica: \n- Jaime Alonso del Real\nTesteo: \n- Cristian Boabes\n- Nasreddin El Khiyat Imusatin\nGracias por jugar\n        ",{fontSize:"24px",color:"#ffffff",align:"center",wordWrap:{width:700}}).setOrigin(.5),this.tweens.add({targets:this.credits,y:this.credits.y-8,duration:1e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,delay:200}),this.localBtn=this.add.text(400,500,"Volver",{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("MenuScene")})}update(){}}class l extends e.Scene{constructor(){super("SettingsScene")}create(e){const t=this.scale.width/2,s=this.scale.height/2;this.add.rectangle(t,s,this.scale.width,this.scale.height,0,.6),this.add.rectangle(t,s,520,420,725536).setStrokeStyle(3,2060267),this.add.text(t,s-170,"AJUSTES",{fontSize:"36px",fontStyle:"bold",color:"#ffffff"}).setOrigin(.5),this.add.text(t-180,s-90,"Volumen",{fontSize:"22px",color:"#ffffff"}).setOrigin(0,.5),this.createVolumeSlider(t-120,s-50,240),this.add.text(t,s+20,"CONTROLES\n\nðŸ–± Click izquierdo: Golpear\nðŸ–± Click derecho: Powerup P1\nâ£ Espacio: Powerup P2\n1-6: Mover topo\nESC: Pausa",{fontSize:"18px",color:"#dce3ff",align:"center"}).setOrigin(.5,0),this.localBtn=this.add.text(500,500,"Volver",{fontSize:"24px",color:"#e18fa1ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.localBtn.setColor("#ffffffff")).on("pointerout",()=>this.localBtn.setColor("#e18fa1ff")).on("pointerdown",()=>{this.sound.add("Boton").play(),this.sound.stopAll(),this.scene.start("MenuScene")})}createVolumeSlider(t,s,i){this.add.rectangle(t+i/2,s,i,6,4478378).setOrigin(.5);const o=this.add.circle(t+i*this.sound.volume,s,10,16777215).setInteractive({draggable:!0});this.input.setDraggable(o),this.input.on("drag",(s,n,r)=>{if(n!==o)return;r=e.Math.Clamp(r,t,t+i),n.x=r;const a=(r-t)/i;this.sound.volume=a})}createButton(e,t,s,i){const o=this.add.rectangle(e,t,200,50,8970751).setInteractive();this.add.text(e,t,s,{fontSize:"22px",fontStyle:"bold",color:"#00131d"}).setOrigin(.5),o.on("pointerover",()=>o.setFillStyle(5222655)),o.on("pointerout",()=>o.setFillStyle(8970751)),o.on("pointerdown",i)}}class c extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener),this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener)}}class d extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Connecting to server...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancel",{fontSize:"24px",color:"#ff6666",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000")}),s.on("pointerout",()=>{s.setColor("#ff6666")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,initialBall:e.ball});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class p extends e.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.initialBall=e.initialBall,this.ball=null,this.isPaused=!1,this.gameEnded=!1,this.localPaddle=null,this.remotePaddle=null,this.localScore=0,this.remoteScore=0}create(){this.add.rectangle(400,300,800,600,1710638);for(let e=0;e<12;e++)this.add.rectangle(400,50*e+25,10,30,4473924);this.scoreLeft=this.add.text(100,50,"0",{fontSize:"48px",color:"#00ff00"}),this.scoreRight=this.add.text(700,50,"0",{fontSize:"48px",color:"#00ff00"});const e="player1"===this.playerRole?"You are Player 1 (Left)":"You are Player 2 (Right)";this.add.text(400,20,e,{fontSize:"16px",color:"#ffff00"}).setOrigin(.5),this.createBounds(),this.createBall(),this.setUpPlayers(),this.physics.add.collider(this.ball,this.localPaddle.sprite),this.physics.add.collider(this.ball,this.remotePaddle.sprite),this.physics.add.overlap(this.ball,this.leftGoal,this.scoreLeftGoal,null,this),this.physics.add.overlap(this.ball,this.rightGoal,this.scoreRightGoal,null,this),this.setupWebSocketListeners(),this.cursors=this.input.keyboard.createCursorKeys(),this.ball.setVelocity(this.initialBall.vx,this.initialBall.vy)}setUpPlayers(){"player1"===this.playerRole?(this.localPaddle=new Paddle(this,"player1",50,300),this.remotePaddle=new Paddle(this,"player2",750,300)):(this.localPaddle=new Paddle(this,"player2",750,300),this.remotePaddle=new Paddle(this,"player1",50,300))}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"paddleUpdate":this.remotePaddle.sprite.y=e.y;break;case"scoreUpdate":this.localScore="player1"===this.playerRole?e.player1Score:e.player2Score,this.remoteScore="player1"===this.playerRole?e.player2Score:e.player1Score,this.scoreLeft.setText(e.player1Score.toString()),this.scoreRight.setText(e.player2Score.toString()),this.ball.setVelocity(0,0),this.ball.setPosition(400,300);break;case"ballRelaunch":this.ball.setPosition(e.ball.x,e.ball.y),this.ball.setVelocity(e.ball.vx,e.ball.vy);break;case"gameOver":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}scoreLeftGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"left"})}scoreRightGoal(){this.gameEnded||this.sendMessage({type:"goal",side:"right"})}endGame(e,t,s){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause();const i="player1"===e&&"player1"===this.playerRole||"player2"===e&&"player2"===this.playerRole,o=i?"You Win!":"You Lose!",n=i?"#00ff00":"#ff0000";this.add.text(400,200,o,{fontSize:"64px",color:n}).setOrigin(.5),this.add.text(400,280,`Final Score: ${t} - ${s}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),this.createMenuButton()}handleDisconnection(){this.gameEnded=!0,this.ball.setVelocity(0,0),this.localPaddle.sprite.setVelocity(0,0),this.remotePaddle.sprite.setVelocity(0,0),this.physics.pause(),this.add.text(400,250,"Opponent Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball-multi",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball-multi"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.leftGoal=this.physics.add.sprite(0,300,null),this.leftGoal.setDisplaySize(10,600),this.leftGoal.body.setSize(10,600),this.leftGoal.setImmovable(!0),this.leftGoal.setVisible(!1),this.rightGoal=this.physics.add.sprite(800,300,null),this.rightGoal.setDisplaySize(10,600),this.rightGoal.body.setSize(10,600),this.rightGoal.setImmovable(!0),this.rightGoal.setVisible(!1)}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){if(this.gameEnded)return;let e=null;e=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":"stop","up"===e?this.localPaddle.sprite.setVelocityY(-300):"down"===e?this.localPaddle.sprite.setVelocityY(300):this.localPaddle.sprite.setVelocityY(0),this.sendMessage({type:"paddleMove",y:this.localPaddle.sprite.y})}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}const u={type:e.AUTO,width:1e3,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,r,a,h,l,c,d,p],backgroundColor:"#1a1a2e"};new e.Game(u)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxPQUFPaEMsR0FFbkMsQ0FFQSxRQUFBUCxHQUNReEYsS0FBS3NVLElBQU10VSxLQUFLc1UsR0FBRzBCLGFBQWVmLFVBQVVnQixNQUM1Q2pXLEtBQUtzVSxHQUFHNEIsT0FFaEIsRUNyUkosTUFBTWdELEVBQVMsQ0FDWDlELEtBQU0sT0FDTmxSLE1BQU8sSUFDUEMsT0FBUSxJQUNSZ1YsT0FBUSxpQkFDUm5SLFFBQVMsQ0FDTG9SLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUV2VCxFQUFHLEdBQ2R3VCxPQUFPLElBR2Z6VSxNQUFPLENBQUM3QixFQUFXcUgsRUFBV3NILEVBQVlnQixFQUFhSSxFQUFlUyxFQUFxQlUsRUFBWWdDLEdBQ3ZHMUIsZ0JBQWlCLFdBR1IsSUFBSSxPQUFZeUUsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWNlL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvZW50aXRpZXMvUG9tLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QaW4uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9TZXR0aW5nc1NjZW5lLmpzIiwid2VicGFjazovL3ByYWN0aWNlLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY2UvLi9zcmMvY2xpZW50L3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljZS8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxuICogTWFuZWphIGVsIHBvbGxpbmcgYWwgZW5kcG9pbnQgL2FwaS9jb25uZWN0ZWQgeSBkZXRlY3RhIHDDqXJkaWRhcyBkZSBjb25leGnDs25cbiAqL1xuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMubGFzdENoZWNrVGltZSA9IDA7XG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xuICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcblxuICAgIC8vIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cbiAgICovXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1tDb25uZWN0aW9uTWFuYWdlcl0gQ2hlY2tpbmcgY29ubmVjdGlvbi4uLicpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbQ29ubmVjdGlvbk1hbmFnZXJdIFJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDb25uZWN0aW9uTWFuYWdlcl0gQ29ubmVjdGVkIHVzZXJzOicsIGRhdGEuY29ubmVjdGVkKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiB0cnVlLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcblxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ29ubmVjdGlvbk1hbmFnZXJdIFJlc3BvbnNlIG5vdCBPSywgc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDb25uZWN0aW9uTWFuYWdlcl0gRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcbiAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cbiAgICovXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBxdWUgc2UgbGxhbWFyw6EgY3VhbmRvIGNhbWJpZSBlbCBlc3RhZG9cbiAgICovXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXG4gICAqL1xuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmaWNhciBhIHRvZG9zIGxvcyBsaXN0ZW5lcnNcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxuICAgKi9cbiAgbm90aWZ5TGlzdGVuZXJzKGRhdGEpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBnZXRTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXG4gICAgICBsYXN0Q2hlY2tUaW1lOiB0aGlzLmxhc3RDaGVja1RpbWVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cbiAgICovXG4gIHN0YXJ0UG9sbGluZygpIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICByZXR1cm47IC8vIFlhIGVzdMOhIGNvcnJpZW5kb1xuICAgIH1cblxuICAgIC8vIENvbXByb2JhciBpbm1lZGlhdGFtZW50ZVxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XG5cbiAgICAvLyBMdWVnbyBjb21wcm9iYXIgY2FkYSBYIHNlZ3VuZG9zXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcbiAgICB9LCB0aGlzLmNoZWNrSW50ZXJ2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xuICAgKi9cbiAgc3RvcFBvbGxpbmcoKSB7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuXHJcbiAgICAgICAgLy8gSU3DgUdFTkVTXHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RpdHVsbycsICdhc3NldHMvQm9jZXRvcy9JbmljaW8ucG5nJyk7IC8vIGZvbmRvKHRpdHVsbykgXHJcblxyXG4gICAgICAgIC8vIFNPTklET1NcclxuICB0aGlzLmxvYWQuYXVkaW8oJ011c2ljYV9tZW51JywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0l0cyBTYWZlIE5vdy5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnQm90b24nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQm90b24ubXAzJyk7ICBcclxufVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy8gU09OSURPUyAtIERldGVuZXIgY3VhbHF1aWVyIG3DunNpY2EgYW50ZXJpb3IgeSByZXByb2R1Y2lyIGxhIGRlbCBtZW7DulxyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIHRoaXMubXVzaWNhTWVudSA9IHRoaXMuc291bmQuYWRkKCdNdXNpY2FfbWVudScpO1xyXG4gICAgICAgIHRoaXMubXVzaWNhTWVudS5wbGF5KHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ1RpdHVsbycpLnNldE9yaWdpbigwLCAwKTsgIC8vZm9uZG8odGl0dWxvKVxyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMzgwLCAyMDAsICdNT0xFJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzcycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM4OTIzMjcnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bydcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg2MDAsIDIwMCwgJ0hPTEUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzI1Mzc1NCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdyb2JvdG8nXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDMyMCwgJ0xvY2FsIDIgSnVnYWRvcmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bycsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBsb2NhbEJ0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9jYWxCdG4uc2V0Q29sb3IoJyM4OTIzMjcnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnQm90b24nKS5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgIGNvbnN0IGNyZWRpdEJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0MjAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjODkyMzI3JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGNyZWRpdEJ0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY3JlZGl0QnRuLnNldENvbG9yKCcjODkyMzI3JykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0U2NlbmUnKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICBjb25zdCBzZXR0aW5nc0J0biA9IHRoaXMuYWRkLnRleHQoNTAwLCA0NzAsICdBanVzdGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ3JvYm90bycsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzg5MjMyNycsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBzZXR0aW5nc0J0bi5zZXRDb2xvcignIzAwZmZmN2ZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gc2V0dGluZ3NCdG4uc2V0Q29sb3IoJyM4OTIzMjcnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnQm90b24nKS5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZXR0aW5nc1NjZW5lJyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKmNvbnN0IG9ubGluZUJ0biA9IHRoaXMuYWRkLnRleHQoNTAwLCAzOTAsICdNdWx0aWp1Z2Fkb3Igb25saW5lIChubyBkaXNwb25pYmxlKScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmY2NjY2JyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTsqL1xyXG5cclxuXHJcbiAgICAgICAgLy9PTkxJTkVcclxuXHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDM3MCwgJ011bHRpanVnYWRvciBlbiBMw61uZWEnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICczMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAncm9ib3RvJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM4OTIzMjcnLFxyXG4gICAgICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gb25saW5lQnRuLnNldENvbG9yKCcjMDBmZmY3ZmYnKSlcclxuICAgICAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG9ubGluZUJ0bi5zZXRDb2xvcignIzg5MjMyNycpKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEluZGljYWRvciBkZSBjb25leGnDs24gYWwgc2Vydmlkb3JcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDUwMCwgNTMwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU29sbyBhY3R1YWxpemFyIHNpIGVsIHRleHRvIGV4aXN0ZSAobGEgZXNjZW5hIGVzdMOhIGNyZWFkYSlcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIERldGVuZXIgbGEgbcO6c2ljYSBkZWwgbWVuw7pcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm11c2ljYU1lbnUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm11c2ljYU1lbnUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiIsImV4cG9ydCBjbGFzcyBQb20gZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2Uge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCAnTWFydGlsbG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuXHJcbiAgICAgdGhpcy5zZXRPcmlnaW4oMC41LCAwLjM1KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY2FsZSgxLjApO1xyXG4gICAgICAgIHRoaXMuc2V0RGVwdGgoNSk7XHJcblxyXG4gICAgICAgIHNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gRXN0YWRvXHJcbiAgICAgICAgdGhpcy5pc0hpdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmhpdE9mZnNldCA9IDQ1O1xyXG5cclxuICAgICAgICAvLyBFbCBtYXJ0aWxsbyBzaWd1ZSBhbCByYXTDs25cclxuICAgICAgICBzY2VuZS5pbnB1dC5vbigncG9pbnRlcm1vdmUnLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNIaXR0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnggPSBwb2ludGVyLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSBwb2ludGVyLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgIGhpdCgpIHtcclxuICAgIGlmICh0aGlzLmlzSGl0dGluZykgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuaXNIaXR0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCBzdGFydFggPSB0aGlzLng7XHJcbiAgICBjb25zdCBzdGFydFkgPSB0aGlzLnk7XHJcbiAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5hbmdsZTtcclxuXHJcbiAgICAvLyBEaXJlY2Npw7NuIGRlbCBnb2xwZSBzZWfDum4gZWwgw6FuZ3VsbyBkZWwgbWF6b1xyXG4gICAgY29uc3QgcmFkaWFucyA9IFBoYXNlci5NYXRoLkRlZ1RvUmFkKHN0YXJ0QW5nbGUgKyA5MCk7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuaGl0T2Zmc2V0O1xyXG5cclxuICAgIGNvbnN0IGR4ID0gTWF0aC5jb3MocmFkaWFucykgKiBkaXN0YW5jZTtcclxuICAgIGNvbnN0IGR5ID0gTWF0aC5zaW4ocmFkaWFucykgKiBkaXN0YW5jZTtcclxuXHJcbiAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgIHRhcmdldHM6IHRoaXMsXHJcbiAgICAgICAgeDogc3RhcnRYICsgZHgsXHJcbiAgICAgICAgeTogc3RhcnRZICsgZHksXHJcbiAgICAgICAgYW5nbGU6IHN0YXJ0QW5nbGUgKyAxOCxcclxuICAgICAgICBkdXJhdGlvbjogODAsXHJcbiAgICAgICAgZWFzZTogJ1Bvd2VyMi5JbicsXHJcbiAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcyxcclxuICAgICAgICAgICAgICAgIHg6IHN0YXJ0WCxcclxuICAgICAgICAgICAgICAgIHk6IHN0YXJ0WSxcclxuICAgICAgICAgICAgICAgIGFuZ2xlOiBzdGFydEFuZ2xlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDE0MCxcclxuICAgICAgICAgICAgICAgIGVhc2U6ICdCYWNrLk91dCcsXHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0hpdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxufVxyXG4iLCIvLyAuLi5leGlzdGluZyBjb2RlLi4uXHJcbmV4cG9ydCBjbGFzcyBQaW4ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucG9wVXBEdXJhdGlvbiA9IDEwMDA7IC8vIG1zIHF1ZSBhcGFyZWNlIGVsIHRvcG9cclxuICAgICAgICB0aGlzLmhlYWx0aCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuaG9sZXMgPSBbXTsgICAgICAgICAgICAvLyBwb3NpY2lvbmVzIHBvc2libGVzXHJcbiAgICAgICAgdGhpcy5jdXJyZW50SG9sZUluZGV4ID0gMDsgIC8vIMOtbmRpY2UgYWN0dWFsXHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgY29vbGRvd24gZW50cmUgbW92aW1pZW50b3NcclxuICAgICAgICB0aGlzLm1vdmVDb29sZG93biA9IDcwMDsgLy8gbXMgYSBlc3BlcmFyIGVudHJlIG1vdmVzIChhanVzdGEgYXF1w60pXHJcbiAgICAgICAgdGhpcy5fbGFzdE1vdmVUaW1lID0gMDtcclxuXHJcbiAgICAgICAgLy8gVXNhciBzcHJpdGUgZGUgYm9qYWNrXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnYm9qYWNrJyk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCgyKTtcclxuXHJcbiAgICAgICAgLy8gUHJlcGFyYXIgY2FsbGJhY2sgcGVybyBOTyBkZWphciBlbCBzcHJpdGUgaW50ZXJhY3Rpdm8gbWllbnRyYXMgZXN0w6kgb2N1bHRvXHJcbiAgICAgICAgdGhpcy5fb25IaXRDYWxsYmFjayA9ICgpID0+IHRoaXMuaGl0KCk7XHJcbiAgICAgICAgdGhpcy5fcG9pbnRlclJlZ2lzdGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5kaXNhYmxlSW50ZXJhY3RpdmUoKTsgLy8gYXNlZ3VyYXIgaW5pY2lvIG5vIGludGVyYWN0aXZvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXN0YWJsZWNlciBsb3MgYWd1amVyb3MgKGFycmF5IGRlIHt4LHl9KVxyXG4gICAgc2V0SG9sZXMoaG9sZXMgPSBbXSkge1xyXG4gICAgICAgIHRoaXMuaG9sZXMgPSBob2xlcztcclxuICAgICAgICBpZiAodGhpcy5ob2xlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SG9sZUluZGV4ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVG9Ib2xlKHRoaXMuY3VycmVudEhvbGVJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIGFsIHRvcG8gYWwgYWd1amVybyDDrW5kaWNlIChjb24gd3JhcClcclxuICAgIG1vdmVUb0hvbGUoaW5kZXgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaG9sZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vdyA9ICh0aGlzLnNjZW5lICYmIHRoaXMuc2NlbmUudGltZSAmJiB0aGlzLnNjZW5lLnRpbWUubm93KSA/IHRoaXMuc2NlbmUudGltZS5ub3cgOiBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLl9sYXN0TW92ZVRpbWUgPCB0aGlzLm1vdmVDb29sZG93bikge1xyXG4gICAgICAgICAgICAvLyBkZW1hc2lhZGEgcmFwaWRleiwgaWdub3JhciBtb3ZpbWllbnRvXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGFzdE1vdmVUaW1lID0gbm93O1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRIb2xlSW5kZXggPSBQaGFzZXIuTWF0aC5XcmFwKGluZGV4LCAwLCB0aGlzLmhvbGVzLmxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5ob2xlc1t0aGlzLmN1cnJlbnRIb2xlSW5kZXhdO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHBvcy54LCBwb3MueSk7XHJcblxyXG4gICAgICAgIC8vIFNpIGVsIHRvcG8gZXN0YWJhIHZpc2libGUgYWwgbW92ZXJzZSwgb2N1bHRhcmxvIHBhcmEgcGVuYWxpemFyIGNhbWJpbyByw6FwaWRvXHJcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlciByZWxhdGl2byAoLTEgLyArMSlcclxuICAgIG1vdmVJbmRleChkZWx0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5ob2xlcy5sZW5ndGgpIHJldHVybjtcclxuICAgICAgICB0aGlzLm1vdmVUb0hvbGUodGhpcy5jdXJyZW50SG9sZUluZGV4ICsgZGVsdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVsIHRvcG8gc2FsZSBkZWwgYWd1amVyb1xyXG4gICAgcG9wVXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBc2VndXJhcnNlIGRlIGVzdGFyIGVuIGVsIGFndWplcm8gY29ycmVjdG8gYWwgc2FsaXJcclxuICAgICAgICB0aGlzLm1vdmVUb0hvbGUodGhpcy5jdXJyZW50SG9sZUluZGV4KTtcclxuXHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5oZWFsdGggPSAxO1xyXG4gICAgICAgIHRoaXMuX3dhc0hpdCA9IGZhbHNlOyAvLyByZXNldGVhciBjdWFuZG8gYXBhcmVjZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIEFjdGl2YXIgaW50ZXJhY2Npw7NuIHNvbG8gY3VhbmRvIGVzIHZpc2libGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9wb2ludGVyUmVnaXN0ZXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5vbigncG9pbnRlcmRvd24nLCB0aGlzLl9vbkhpdENhbGxiYWNrKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnRlclJlZ2lzdGVyZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRW1pdGlyIGV2ZW50byBkZSBcInNhbGlkYVwiIHBhcmEgcXVlIGxhIGVzY2VuYSBwdWVkYSByZWFjY2lvbmFyIChlai4gcmVjb2dlciBwb3dlcnVwKVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ3RvcG9Qb3BwZWQnLCB7XHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgICAgIGhvbGVJbmRleDogdGhpcy5jdXJyZW50SG9sZUluZGV4LFxyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5zcHJpdGUueCxcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMuc3ByaXRlLnksXHJcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6ICh0aGlzLnNjZW5lLnRpbWUpID8gdGhpcy5zY2VuZS50aW1lLm5vdyA6IERhdGUubm93KClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBkZWZlbnNpdm86IG5vIHJvbXBlciBzaSBzY2VuZS5ldmVudHMgbm8gZXhpc3RlXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRW1pdCB0b3BvUG9wcGVkIGZhaWxlZCcsIGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRWwgdG9wbyBzZSBlc2NvbmRlIGRlc3B1w6lzIGRlIGNpZXJ0byB0aWVtcG9cclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwodGhpcy5wb3BVcER1cmF0aW9uLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGhpZGUoKSBzZSBlbmNhcmdhcsOhIGRlIGVtaXRpciBldmVudG8gZGUgXCJtaXNzXCIgc2kgY29ycmVzcG9uZGVcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWwgdG9wbyBzZSBlc2NvbmRlIGVuIGVsIGFndWplcm9cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIC8vIERlc2FjdGl2YXIgaW50ZXJhY2Npw7NuIGN1YW5kbyBlc3TDoSBvY3VsdG9cclxuICAgICAgICB0aGlzLnNwcml0ZS5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDdWFuZG8gc2UgZ29scGVhIGFsIHRvcG8gLSByZXRvcm5hIHRydWUgc2kgZnVlIGdvbHBlYWRvXHJcbiAgICBoaXQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaGVhbHRoIC09IDE7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmMDAwMCk7IC8vIFBhcnBhZGVhIHJvam9cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEluZGljYXIgcXVlIGZ1ZSBnb2xwZWFkb1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXRlYXIgZWwgdG9wb1xyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5oZWFsdGggPSAxO1xyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIC8vIFNlbnQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICB9XHJcbn0iLCIvLyBzcmMvc2NlbmVzL0dhbWVTY2VuZS5qc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBvbSB9IGZyb20gJy4uL2VudGl0aWVzL1BvbSc7XHJcbmltcG9ydCB7IFBpbiB9IGZyb20gJy4uL2VudGl0aWVzL1Bpbic7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgUGF1c2VHYW1lQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL1B1YXNlR2FtZUNvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgLy8gR2FtZSBzdGF0ZVxyXG4gICAgdGhpcy50aW1lTGVmdCA9IDYwOyAvLyBzZWd1bmRvc1xyXG4gICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XHJcblxyXG4gICAgLy8gU2NvcmVzIChPcGNpw7NuIEE6IEp1Z2Fkb3IgMSA9IFBvbSwgSnVnYWRvciAyID0gUGluKVxyXG4gICAgdGhpcy5wdW50b3NQbGF5ZXIxID0gMDsgLy8gUG9tXHJcbiAgICB0aGlzLnB1bnRvc1BsYXllcjIgPSAwOyAvLyBQaW5cclxuXHJcbiAgICAvLyBQb3dlcnVwIGNvbmZpZyAmIHN0YXRlXHJcbiAgICB0aGlzLnBvd2VydXBBbW91bnQgPSAyMDtcclxuICAgIHRoaXMucG93ZXJ1cE1heFN0b3JlZCA9IDM7XHJcbiAgICB0aGlzLnBvd2VydXBTdG9yZWRQMSA9IDA7XHJcbiAgICB0aGlzLnBvd2VydXBTdG9yZWRQMiA9IDA7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwID0gbnVsbDtcclxuICAgIHRoaXMucG93ZXJ1cEhvbGVJbmRleCA9IC0xO1xyXG4gICAgdGhpcy5wb3dlcnVwRHVyYXRpb24gPSA1MDAwO1xyXG4gICAgdGhpcy5wb3dlcnVwU3Bhd25NaW4gPSA0MDAwO1xyXG4gICAgdGhpcy5wb3dlcnVwU3Bhd25NYXggPSAxMjAwMDtcclxuXHJcbiAgICAvLyB0aW1lcnMgLyByZWZlcmVuY2VzXHJcbiAgICB0aGlzLnRvcG9UaW1lciA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVUaW1lciA9IG51bGw7XHJcblxyXG4gICAgLy9Db21tYW5kXHJcbiAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgfVxyXG5cclxuICBwcmVsb2FkKCkge1xyXG4gICAgLy8gSU3DgUdFTkVTXHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9mb25kb19nYW1lLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdNYXJ0aWxsbycsICdhc3NldHMvbWF6by5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnYm9qYWNrJywgJ2Fzc2V0cy9waW4ucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlbG9qJywgJ2Fzc2V0cy9yZWxvai5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnYWd1amVybycsICdhc3NldHMvYWd1amVyby5wbmcnKTtcclxuXHJcbiAgICAvLyBTT05JRE9TXHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ011c2ljYV9uaXZlbCcsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9IeWRyb2dlbi5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnQ2FzdG9yJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL0Nhc3Rvci5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnR29scGUnLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvR29scGUubXAzJyk7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0Zpbl9wYXJ0aWRhJywgJ2Fzc2V0cy9Tb25pZG9zIHBhcmFfcmVkL01pYW1pLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9fbWFydGlsbG8nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvTWFydGlsbG9fanVlei5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnQm90b24nLCAnYXNzZXRzL1Nvbmlkb3MgcGFyYV9yZWQvQm90b24ubXAzJyk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGUoKSB7XHJcbiAgICAvLyBCYWNrZ3JvdW5kICYgVUkgY29udGFpbmVyXHJcbiAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCAzMDAsIDEwMDAsIDYwMCwgMHgxYTFhMmUpO1xyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICBiZy5zZXREaXNwbGF5U2l6ZSh0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCk7XHJcblxyXG4gICAgdGhpcy5hZGQuaW1hZ2UoMjAwLCA0ODAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuICAgIHRoaXMuYWRkLmltYWdlKDMyMCwgMzIwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcbiAgICB0aGlzLmFkZC5pbWFnZSg0NDAsIDQ4MCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoNTYwLCAzMjAsICdhZ3VqZXJvJykuc2V0U2NhbGUoMC41KTtcclxuICAgIHRoaXMuYWRkLmltYWdlKDY4MCwgNDgwLCAnYWd1amVybycpLnNldFNjYWxlKDAuNSk7XHJcbiAgICB0aGlzLmFkZC5pbWFnZSg4MDAsIDMyMCwgJ2FndWplcm8nKS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgIC8vIFNvbmlkbyBkZSBmb25kb1xyXG4gICB0aGlzLm11c2ljYU5pdmVsID0gdGhpcy5zb3VuZC5hZGQoJ011c2ljYV9uaXZlbCcpO1xyXG50aGlzLm11c2ljYU5pdmVsLnBsYXkoeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNSB9KTtcclxuXHJcblxyXG4gICAgLy8gQ3Vyc29yOiBvY3VsdGFtb3MgcG9yIGRlZmVjdG87IGxhIGVudGlkYWQgUG9tIHB1ZWRlIG1vc3RyYXIgc3UgcHJvcGlvIHNwcml0ZVxyXG4gICAgdGhpcy5pbnB1dC5tb3VzZS5kaXNhYmxlQ29udGV4dE1lbnUoKTtcclxuICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xyXG5cclxuICAgIC8vIE1hcnRpbGxvIHF1ZSBzaWd1ZSBhbCByYXTDs24gKFBvbSlcclxuICB0aGlzLm1hcnRpbGxvID0gbmV3IFBvbShcclxuICB0aGlzLFxyXG4gICdNYXJ0aWxsbycsXHJcbiAgdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLngsXHJcbiAgdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLnlcclxuKTtcclxuXHJcblxyXG4gICAgLy8gU2NvcmVzIChjb25zaXN0ZW50ZXMgY29uIE9wY2nDs24gQSlcclxuICAgIHRoaXMuc2NvcmVQbGF5ZXIxID0gdGhpcy5hZGQudGV4dCg4MCwgNTAsICdQb206IDAnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzZhN2NiNGZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLCAwKTtcclxuXHJcbiAgICB0aGlzLnNjb3JlUGxheWVyMiA9IHRoaXMuYWRkLnRleHQoODUwLCA1MCwgJ1BpbjogMCcsIHtcclxuICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgY29sb3I6ICcjOWU0YjRiZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAsIDApO1xyXG5cclxuICAgIC8vIFRpbWVyIGFiYWpvIGEgbGEgZGVyZWNoYVxyXG4gICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KFxyXG4gICAgICB0aGlzLnNjYWxlLndpZHRoIC0gMjAsXHJcbiAgICAgIHRoaXMuc2NhbGUuaGVpZ2h0IC0gMjAsXHJcbiAgICAgIHRoaXMuZm9ybWF0VGltZSh0aGlzLnRpbWVMZWZ0KSxcclxuICAgICAgeyBmb250U2l6ZTogJzQwcHgnLGZvbnRTdHlsZTogJ2JvbGQnLCBjb2xvcjogJyNmZmZmZmZmZicsIGZvbnRGYW1pbHk6ICdBcmlhbCcgfVxyXG4gICAgKS5zZXRPcmlnaW4oMSwgMSk7XHJcblxyXG4gICAgLy8gUG93ZXJ1cCBVSVxyXG4gICAgdGhpcy5wb3dlcnVwVGV4dFAxID0gdGhpcy5hZGQudGV4dCg4MCwgODAsIGBQMSBQb3dlcnVwczogJHt0aGlzLnBvd2VydXBTdG9yZWRQMX0vJHt0aGlzLnBvd2VydXBNYXhTdG9yZWR9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBjb2xvcjogJyM2YTdjYjRmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnXHJcbiAgICB9KS5zZXRPcmlnaW4oMCwgMCk7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwVGV4dFAyID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoICsgMjAsIDgwLCBgUDIgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDJ9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgY29sb3I6ICcjOWU0YjRiZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDEuNSwgMCk7XHJcblxyXG4gICAgLy8gVGVjbGFzOiBzb2xvIHNlIGNyZWFuIHVuYSB2ZXpcclxuICAgIHRoaXMua2V5cyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgIG9uZTogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLk9ORSxcclxuICAgICAgdHdvOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVFdPLFxyXG4gICAgICB0aHJlZTogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlRIUkVFLFxyXG4gICAgICBmb3VyOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRk9VUixcclxuICAgICAgZml2ZTogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkZJVkUsXHJcbiAgICAgIHNpeDogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlNJWCxcclxuICAgICAgZXNjOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDLFxyXG4gICAgICBzcGFjZTogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlNQQUNFXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZXN1bWUgaGFuZGxlciAoY3VhbmRvIHZ1ZWx2ZXMgZGVzZGUgcGF1c2EpXHJcbiAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgdGhpcy5vblJlc3VtZSwgdGhpcyk7XHJcblxyXG4gICAgLy8gQ3JlYXIgdG9wbyAoUGluKVxyXG4gICAgdGhpcy5jcmVhdGVUb3BvcygpO1xyXG5cclxuICAgIC8vIFN0YXJ0IHBvd2VydXAgc3Bhd25zXHJcbiAgICB0aGlzLnNjaGVkdWxlTmV4dFBvd2VydXAoKTtcclxuXHJcbiAgICAvLyBFdmVudG8gdG9wbyBwb3BwZWQ6IHJlY29nZSBlbCBwb3dlcnVwIGF1dG9tw6F0aWNhbWVudGUgcGFyYSBQMiBzaSBjb2luY2lkZVxyXG4gICAgdGhpcy5ldmVudHMub2ZmKCd0b3BvUG9wcGVkJyk7IC8vIGFzZWd1cmFtb3MgcXVlIG5vIGhheWEgZHVwbGljYWRvc1xyXG4gICAgdGhpcy5ldmVudHMub24oJ3RvcG9Qb3BwZWQnLCAoZGF0YSA9IHt9KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cCAmJiB0aGlzLnBvd2VydXBIb2xlSW5kZXggPT09IGRhdGEuaG9sZUluZGV4KSB7XHJcbiAgICAgICAgLy8gU2kgZWwgdG9wbyBhcGFyZWNlIGV4YWN0YW1lbnRlIGVuIGVsIHBvd2VydXAgLT4gc2UgcmVjb2dlIHBhcmEgUDIgKFBpbilcclxuICAgICAgICB0aGlzLnBpY2t1cFBvd2VydXBCeVBsYXllcigyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSW5wdXQgcG9pbnRlcjogbWFuZWphZG9yIMO6bmljb1xyXG4gICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4gdGhpcy5oYW5kbGVQb2ludGVyRG93bihwb2ludGVyKSk7XHJcblxyXG4gICAgLy8gVGltZXIgY3VlbnRhIGF0csOhc1xyXG4gICAgdGhpcy5nYW1lVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICBkZWxheTogMTAwMCxcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy50aW1lTGVmdC0tO1xyXG4gICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQodGhpcy5mb3JtYXRUaW1lKHRoaXMudGltZUxlZnQpKTtcclxuICAgICAgICBpZiAodGhpcy50aW1lTGVmdCA8PSAwKSB7XHJcbiAgICAgICAgICB0aGlzLmVuZFJvdW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBc2VndXJhbW9zIHF1ZSBsb3MgdGV4dG9zIHkgVUkgZXN0w6luIHNpbmNyb25pemFkb3NcclxuICAgIHRoaXMudXBkYXRlU2NvcmVVSSgpO1xyXG4gICAgdGhpcy51cGRhdGVQb3dlcnVwVUkoKTtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBIZWxwZXI6IHBvaW50ZXIgaGFuZGxlclxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBoYW5kbGVQb2ludGVyRG93bihwb2ludGVyKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaXNMZWZ0ID0gcG9pbnRlci5idXR0b24gPT09IDAgfHwgKHBvaW50ZXIuZXZlbnQgJiYgcG9pbnRlci5ldmVudC5idXR0b24gPT09IDApO1xyXG4gICAgY29uc3QgaXNSaWdodCA9IHBvaW50ZXIuYnV0dG9uID09PSAyIHx8IChwb2ludGVyLmV2ZW50ICYmIHBvaW50ZXIuZXZlbnQuYnV0dG9uID09PSAyKTtcclxuXHJcbiAgICAvLyBTaSBoYXkgcG93ZXJ1cCB5IHNlIGNsaWNrZWEgc29icmUgw6lsXHJcbiAgICBpZiAodGhpcy5wb3dlcnVwICYmIHRoaXMucG93ZXJ1cC5zcHJpdGUpIHtcclxuICAgICAgY29uc3QgcEJvdW5kcyA9IHRoaXMucG93ZXJ1cC5zcHJpdGUuZ2V0Qm91bmRzKCk7XHJcbiAgICAgIGlmIChwQm91bmRzICYmIHBCb3VuZHMuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpKSB7XHJcbiAgICAgICAgaWYgKGlzTGVmdCkge1xyXG4gICAgICAgICAgdGhpcy5waWNrdXBQb3dlcnVwQnlQbGF5ZXIoMSk7IC8vIFBvbSByZWNvZ2UgY29uIExNQlxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNSaWdodCkge1xyXG4gICAgICAgICAgLy8gU2kgZWwgdG9wbyBlc3TDoSBlbiBlbCBtaXNtbyBhZ3VqZXJvLCBQMiBwdWVkZSByZWNvZ2VyIGNvbiBSTUJcclxuICAgICAgICAgIGlmICh0aGlzLnRvcG8gJiYgdGhpcy5wb3dlcnVwSG9sZUluZGV4ID09PSB0aGlzLnRvcG8uY3VycmVudEhvbGVJbmRleCkge1xyXG4gICAgICAgICAgICB0aGlzLnBpY2t1cFBvd2VydXBCeVBsYXllcigyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTaSBzZSBoYWNlIFJNQiBlbiBvdHJvIHNpdGlvOiB1c2FyIHBvd2VydXAgUDFcclxuICAgIGlmIChpc1JpZ2h0KSB7XHJcbiAgICAgIHRoaXMudXNlUG93ZXJ1cEJ5UGxheWVyKDEpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2kgTE1COiBpbnRlbnRhciBnb2xwZWFyIHRvcG8gKHNpIGVzdMOhIGFjdGl2bykg4oCUIHNpIGZhbGxhcywgcHVudG8gcGFyYSBqdWdhZG9yIDIgKFBpbilcclxuICAgIGlmIChpc0xlZnQpIHtcclxuXHJcbiAgLy8gYW5pbWFjacOzbiBkZWwgbWFydGlsbG8gU0lFTVBSRSBxdWUgc2UgZ29scGVhXHJcbiAgaWYgKHRoaXMubWFydGlsbG8pIHtcclxuICAgIHRoaXMubWFydGlsbG8uaGl0KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoIXRoaXMudG9wbyB8fCAhdGhpcy50b3BvLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBib3VuZHMgPSB0aGlzLnRvcG8uc3ByaXRlLmdldEJvdW5kcygpO1xyXG4gIGNvbnN0IGNsaWNrZWRUb3BvID0gYm91bmRzICYmIGJvdW5kcy5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XHJcblxyXG4gIGlmIChjbGlja2VkVG9wbyAmJiB0aGlzLnRvcG8uaXNBY3RpdmUpIHtcclxuICAgIC8vIEdvbHBlIGV4aXRvc29cclxuICAgIHRoaXMucHVudG9zUGxheWVyMSArPSAxO1xyXG4gICAgdGhpcy51cGRhdGVTY29yZVVJKCk7XHJcbiAgICB0aGlzLnRvcG8uaGlkZSgpO1xyXG4gICAgdGhpcy5zb3VuZC5wbGF5KCdHb2xwZScpO1xyXG4gICAgdGhpcy5zb3VuZC5wbGF5KCdDYXN0b3InKTtcclxuICAgIHRoaXMuY2FtZXJhcy5tYWluLnNoYWtlKDIwMCwgMC4wMSk7XHJcbiAgICByZXR1cm47XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEZhbGxvXHJcbiAgICB0aGlzLnB1bnRvc1BsYXllcjIgKz0gMTtcclxuICAgIHRoaXMudXBkYXRlU2NvcmVVSSgpO1xyXG4gICAgdGhpcy5zb3VuZC5wbGF5KCdTb25pZG9fbWFydGlsbG8nKTtcclxuICB9XHJcbn1cclxuICB9XHJcblxyXG4gIFxyXG4gIGNyZWF0ZVRvcG9zKCkge1xyXG4gICAgdGhpcy50b3BvSG9sZXMgPSBbXHJcbiAgICAgIHsgeDogMjAwLCB5OiA0ODAgfSxcclxuICAgICAgeyB4OiAzMjAsIHk6IDMyMCB9LFxyXG4gICAgICB7IHg6IDQ0MCwgeTogNDgwIH0sXHJcbiAgICAgIHsgeDogNTYwLCB5OiAzMjAgfSxcclxuICAgICAgeyB4OiA2ODAsIHk6IDQ4MCB9LFxyXG4gICAgICB7IHg6IDgwMCwgeTogMzIwIH1cclxuICAgIF07XHJcblxyXG4gICAgdGhpcy50b3BvID0gbmV3IFBpbih0aGlzLCAwLCB0aGlzLnRvcG9Ib2xlc1swXS54LCB0aGlzLnRvcG9Ib2xlc1swXS55KTtcclxuICAgIHRoaXMudG9wby5zZXRIb2xlcyh0aGlzLnRvcG9Ib2xlcyk7XHJcblxyXG4gICAgLy8gRWwgUGluICh0b3BvKSBkZWJlIG1hbmVqYXIgc3UgcHJvcGlvIHBvaW50ZXJkb3duOyBsbyBjb25lY3RhbW9zIGFxdcOtIGRlIGZvcm1hIHNlZ3VyYTpcclxuICAgIHRoaXMudG9wby5zcHJpdGUuc2V0SW50ZXJhY3RpdmUoKTtcclxuICAgIHRoaXMudG9wby5zcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIGlmICh0aGlzLnRvcG8uaXNBY3RpdmUpIHtcclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBtYXJ0aWxsb1xyXG4gICAgICAgIGlmICh0aGlzLm1hcnRpbGxvKSB7XHJcbiAgICAgICAgICB0aGlzLm1hcnRpbGxvLmhpdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR29scGUgZXhpdG9zbyAtPiBwdW50byBwYXJhIGp1Z2Fkb3IgMSAoUG9tKVxyXG4gICAgICAgIHRoaXMucHVudG9zUGxheWVyMSArPSAxO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmVVSSgpO1xyXG5cclxuICAgICAgICAvLyBPY3VsdGEgdG9wbywgcmVwcm9kdWNlIHNvbmlkb3MgeSBlZmVjdG9cclxuICAgICAgICB0aGlzLnRvcG8uaGlkZSgpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnR29scGUnKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0Nhc3RvcicpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zaGFrZSgyMDAsIDAuMDEpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUaW1lciBkZSBhcGFyaWNpw7NuIGRlbCB0b3BvIChwb3BVcCBjYWRhIFggbXMgc2kgZXN0w6EgZXNjb25kaWRvKVxyXG4gICAgdGhpcy50b3BvVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICBkZWxheTogMTUwMCxcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvcG8uaXNBY3RpdmUpIHtcclxuICAgICAgICAgIHRoaXMudG9wby5wb3BVcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBcclxuICAvLyBQb3dlcnVwc1xyXG5cclxuICBzY2hlZHVsZU5leHRQb3dlcnVwKCkge1xyXG4gICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cE1heFN0b3JlZCA8PSAwKSByZXR1cm47IC8vIE5vIHByb2dyYW1hciBzaSBtw6F4aW1vIGVzIDBcclxuXHJcbiAgICBjb25zdCBkZWxheSA9IFBoYXNlci5NYXRoLkJldHdlZW4odGhpcy5wb3dlcnVwU3Bhd25NaW4sIHRoaXMucG93ZXJ1cFNwYXduTWF4KTtcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChkZWxheSwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgIHRoaXMuc3Bhd25Qb3dlcnVwQXRSYW5kb21Ib2xlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNwYXduUG93ZXJ1cEF0UmFuZG9tSG9sZSgpIHtcclxuICAgIGlmICghdGhpcy50b3BvSG9sZXMgfHwgIXRoaXMudG9wb0hvbGVzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMucG93ZXJ1cCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGluZGV4ID0gUGhhc2VyLk1hdGguQmV0d2VlbigwLCB0aGlzLnRvcG9Ib2xlcy5sZW5ndGggLSAxKTtcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMudG9wb0hvbGVzW2luZGV4XTtcclxuXHJcbiAgICBjb25zdCBzcHJpdGVLZXkgPSAncmVsb2onO1xyXG4gICAgdGhpcy5wb3dlcnVwID0gdGhpcy5hZGQuaW1hZ2UocG9zLngsIHBvcy55IC0gMTAsIHNwcml0ZUtleSkuc2V0U2NhbGUoMC4xNSkuc2V0RGVwdGgoOCk7XHJcblxyXG4gICAgdGhpcy5wb3dlcnVwSG9sZUluZGV4ID0gaW5kZXg7XHJcbiAgICB0aGlzLnBvd2VydXAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIEV2ZW50byBjbGljayBlbiBwb3dlcnVwOiBKdWdhZG9yIDEgKExNQikgcmVjb2dlXHJcbiAgICB0aGlzLnBvd2VydXAub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICBjb25zdCBpc0xlZnQgPSBwb2ludGVyLmJ1dHRvbiA9PT0gMCB8fCAocG9pbnRlci5ldmVudCAmJiBwb2ludGVyLmV2ZW50LmJ1dHRvbiA9PT0gMCk7XHJcbiAgICAgIGlmIChpc0xlZnQpIHtcclxuICAgICAgICB0aGlzLnBpY2t1cFBvd2VydXBCeVBsYXllcigxKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGZsb3RhY2nDs24gc3V0aWxcclxuICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMucG93ZXJ1cCxcclxuICAgICAgeTogcG9zLnkgLSAxNixcclxuICAgICAgZHVyYXRpb246IDYwMCxcclxuICAgICAgeW95bzogdHJ1ZSxcclxuICAgICAgcmVwZWF0OiAtMSxcclxuICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0J1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZXhwaXJhY2nDs24gZGVsIHBvd2VydXBcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCh0aGlzLnBvd2VydXBEdXJhdGlvbiwgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMucG93ZXJ1cCkgcmV0dXJuO1xyXG4gICAgICB0aGlzLnBvd2VydXAuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLnBvd2VydXAgPSBudWxsO1xyXG4gICAgICB0aGlzLnBvd2VydXBIb2xlSW5kZXggPSAtMTtcclxuICAgICAgdGhpcy5zY2hlZHVsZU5leHRQb3dlcnVwKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBpY2t1cFBvd2VydXBCeVBsYXllcihwbGF5ZXJJZCkge1xyXG4gICAgaWYgKCF0aGlzLnBvd2VydXApIHJldHVybiBmYWxzZTtcclxuICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBpZiAocGxheWVySWQgPT09IDEpIHtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAxID49IHRoaXMucG93ZXJ1cE1heFN0b3JlZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB0aGlzLnBvd2VydXBTdG9yZWRQMSArPSAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMucG93ZXJ1cFN0b3JlZFAyID49IHRoaXMucG93ZXJ1cE1heFN0b3JlZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB0aGlzLnBvd2VydXBTdG9yZWRQMiArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNvbmlkbyBhbCByZWNvZ2VyIHBvd2VydXBcclxuICAgIGlmICh0aGlzLnNvdW5kLmdldCgnQm90b24nKSkgdGhpcy5zb3VuZC5wbGF5KCdCb3RvbicpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBVSVxyXG4gICAgdGhpcy51cGRhdGVQb3dlcnVwVUkoKTtcclxuXHJcbiAgICAvLyBEZXN0cm95IHBvd2VydXAgYW5kIHNjaGVkdWxlIG5leHQgc3Bhd25cclxuICAgIGlmICh0aGlzLnBvd2VydXApIHtcclxuICAgICAgdGhpcy5wb3dlcnVwLmRlc3Ryb3koKTtcclxuICAgICAgdGhpcy5wb3dlcnVwID0gbnVsbDtcclxuICAgICAgdGhpcy5wb3dlcnVwSG9sZUluZGV4ID0gLTE7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNjaGVkdWxlTmV4dFBvd2VydXAoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgdXNlUG93ZXJ1cEJ5UGxheWVyKHBsYXllcklkKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHBsYXllcklkID09PSAxKSB7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBTdG9yZWRQMSA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHRoaXMucG93ZXJ1cFN0b3JlZFAxIC09IDE7XHJcbiAgICAgIC8vIFJlZHVjaXIgbcOheGltbyBkaXNwb25pYmxlXHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBNYXhTdG9yZWQgPiAwKSB0aGlzLnBvd2VydXBNYXhTdG9yZWQgLT0gMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBTdG9yZWRQMiA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHRoaXMucG93ZXJ1cFN0b3JlZFAyIC09IDE7XHJcbiAgICAgIC8vIFJlZHVjaXIgbcOheGltbyBkaXNwb25pYmxlXHJcbiAgICAgIGlmICh0aGlzLnBvd2VydXBNYXhTdG9yZWQgPiAwKSB0aGlzLnBvd2VydXBNYXhTdG9yZWQgLT0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcHBseSBlZmZlY3Q6IGF1bWVudGFyIHRpZW1wb1xyXG4gICAgdGhpcy50aW1lTGVmdCArPSB0aGlzLnBvd2VydXBBbW91bnQ7XHJcbiAgICB0aGlzLnRpbWVyVGV4dC5zZXRUZXh0KHRoaXMuZm9ybWF0VGltZSh0aGlzLnRpbWVMZWZ0KSk7XHJcblxyXG4gICAgLy8gZmVlZGJhY2sgdmlzdWFsIHkgc29ub3JvXHJcbiAgICB0aGlzLmNhbWVyYXMubWFpbi5mbGFzaCgxNTAsIDEwMCwgMjU1LCAxMDApO1xyXG4gICAgaWYgKHRoaXMuc291bmQuZ2V0KCdCb3RvbicpKSB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJyk7XHJcblxyXG4gICAgLy8gYWN0dWFsaXphciBVSVxyXG4gICAgdGhpcy51cGRhdGVQb3dlcnVwVUkoKTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBVSSB1cGRhdGUgaGVscGVyc1xyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICB1cGRhdGVTY29yZVVJKCkge1xyXG4gICAgLy8gQ29uc2lzdGVuY2lhIGNvbiBPcGNpw7NuIEFcclxuICAgIGlmICh0aGlzLnNjb3JlUGxheWVyMSkgdGhpcy5zY29yZVBsYXllcjEuc2V0VGV4dChgUG9tOiAke3RoaXMucHVudG9zUGxheWVyMX1gKTtcclxuICAgIGlmICh0aGlzLnNjb3JlUGxheWVyMikgdGhpcy5zY29yZVBsYXllcjIuc2V0VGV4dChgUGluOiAke3RoaXMucHVudG9zUGxheWVyMn1gKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvd2VydXBVSSgpIHtcclxuICAgIGlmICh0aGlzLnBvd2VydXBUZXh0UDEpIHRoaXMucG93ZXJ1cFRleHRQMS5zZXRUZXh0KGBQMSBQb3dlcnVwczogJHt0aGlzLnBvd2VydXBTdG9yZWRQMX0vJHt0aGlzLnBvd2VydXBNYXhTdG9yZWR9YCk7XHJcbiAgICBpZiAodGhpcy5wb3dlcnVwVGV4dFAyKSB0aGlzLnBvd2VydXBUZXh0UDIuc2V0VGV4dChgUDIgUG93ZXJ1cHM6ICR7dGhpcy5wb3dlcnVwU3RvcmVkUDJ9LyR7dGhpcy5wb3dlcnVwTWF4U3RvcmVkfWApO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEZvcm1hdCB0aW1lIGhlbHBlclxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBmb3JtYXRUaW1lKHNlY29uZHMpIHtcclxuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgcyA9IChzZWNvbmRzICUgNjApLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIHJldHVybiBgJHttfToke3N9YDtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBVcGRhdGUgbG9vcFxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICB1cGRhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcblxyXG4gICAgLy8gTWFuZWpvIHRlY2xhcyAxLTU6IG1vdmVyIHRvcG8gKHNvbG8gc2kgdG9wbyBlc3TDoSBkaXNwb25pYmxlKVxyXG4gICAgaWYgKHRoaXMudG9wbykge1xyXG4gICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMua2V5cy5vbmUpKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSgwKTtcclxuICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmtleXMudHdvKSkgdGhpcy50b3BvLm1vdmVUb0hvbGUoMSk7XHJcbiAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLnRocmVlKSkgdGhpcy50b3BvLm1vdmVUb0hvbGUoMik7XHJcbiAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLmZvdXIpKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSgzKTtcclxuICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmtleXMuZml2ZSkpIHRoaXMudG9wby5tb3ZlVG9Ib2xlKDQpO1xyXG4gICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMua2V5cy5zaXgpKSB0aGlzLnRvcG8ubW92ZVRvSG9sZSg1KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFU0MgcGFyYSBwYXVzYXJcclxuICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLmVzYykpIHtcclxuICAgICAgaWYgKCF0aGlzLmlzR2FtZU92ZXIpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU1BBQ0UgcGFyYSB1c2FyIHBvd2VydXAgUDJcclxuICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLnNwYWNlKSkge1xyXG4gICAgICB0aGlzLnVzZVBvd2VydXBCeVBsYXllcigyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBFbmQgcm91bmQgKHBhbnRhbGxhIGZpbmFsKVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZW5kUm91bmQoKSB7XHJcbiAgdGhpcy5pc0dhbWVPdmVyID0gdHJ1ZTtcclxuICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAvL3RoaXMuc291bmQucGxheSgnRmluX3BhcnRpZGEnLCB7IHZvbHVtZTogMC41IH0pO1xyXG5cclxuICAvLyBNb3N0cmFyIGN1cnNvclxyXG4gIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICB9XHJcblxyXG4gIC8vIERlc2FjdGl2YXIgaW5wdXQgZ2VuZXJhbFxyXG4gIHRoaXMuaW5wdXQub2ZmKCdwb2ludGVyZG93bicpO1xyXG5cclxuICAvLyBPY3VsdGFyIG1hcnRpbGxvXHJcbiAgaWYgKHRoaXMubWFydGlsbG8gJiYgdGhpcy5tYXJ0aWxsby5zZXRWaXNpYmxlKSB7XHJcbiAgICB0aGlzLm1hcnRpbGxvLnNldFZpc2libGUoZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZW5lciB0aW1lcnNcclxuICBpZiAodGhpcy50b3BvVGltZXIpIHRoaXMudG9wb1RpbWVyLnJlbW92ZShmYWxzZSk7XHJcbiAgaWYgKHRoaXMuZ2FtZVRpbWVyKSB0aGlzLmdhbWVUaW1lci5yZW1vdmUoZmFsc2UpO1xyXG5cclxuICBpZiAodGhpcy50b3BvICYmIHRoaXMudG9wby5zcHJpdGUpIHtcclxuICAgIHRoaXMudG9wby5zcHJpdGUuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICB0aGlzLnRvcG8uaGlkZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29vcmRlbmFkYXNcclxuICBjb25zdCBjeCA9IHRoaXMuc2NhbGUud2lkdGggLyAyO1xyXG4gIGNvbnN0IGN5ID0gdGhpcy5zY2FsZS5oZWlnaHQgLyAyO1xyXG5cclxuICAvLyBQYW5lbFxyXG4gIGNvbnN0IHBhbmVsID0gdGhpcy5hZGQucmVjdGFuZ2xlKGN4LCBjeSwgNzYwLCA0MjAsIDB4MGIxMjIwLCAwLjg4KVxyXG4gICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAuc2V0RGVwdGgoMjAwKTtcclxuICBwYW5lbC5zZXRTdHJva2VTdHlsZSg0LCAweDFmNmZlYik7XHJcbiAgcGFuZWwuc2NhbGUgPSAwLjg1O1xyXG5cclxuICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgdGFyZ2V0czogcGFuZWwsXHJcbiAgICBzY2FsZTogMSxcclxuICAgIGR1cmF0aW9uOiAyMjAsXHJcbiAgICBlYXNlOiAnQmFjay5PdXQnXHJcbiAgfSk7XHJcblxyXG4gIC8vIElNUE9SVEFOVEU6IGVsIHBhbmVsIE5PIGRlYmUgc2VyIGludGVyYWN0aXZvXHJcbiAgcGFuZWwuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcblxyXG4gIC8vIFdpbm5lciB0ZXh0XHJcbiAgbGV0IHdpbm5lclRleHQgPSAnRW1wYXRlJztcclxuICBpZiAodGhpcy5wdW50b3NQbGF5ZXIxID4gdGhpcy5wdW50b3NQbGF5ZXIyKSB3aW5uZXJUZXh0ID0gJ/Cfj4YgICBHYW5hIEp1Z2Fkb3IgMSAoUG9tKSc7XHJcbiAgZWxzZSBpZiAodGhpcy5wdW50b3NQbGF5ZXIyID4gdGhpcy5wdW50b3NQbGF5ZXIxKSB3aW5uZXJUZXh0ID0gJ/Cfj4YgICBHYW5hIEp1Z2Fkb3IgMiAoUGluKSc7XHJcblxyXG4gIHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMTMwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDI1MCk7XHJcblxyXG4gIHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3kgLSA5MCwgNDIwLCAzLCAweDFmNmZlYilcclxuICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgLnNldERlcHRoKDI1MCk7XHJcblxyXG4gIC8vIFN0YXRzXHJcbiAgdGhpcy5hZGQudGV4dChjeCwgY3kgLSAyMCwgYFAxIChQb20pOiAke3RoaXMucHVudG9zUGxheWVyMX1gLCB7XHJcbiAgICBmb250U2l6ZTogJzI2cHgnLFxyXG4gICAgY29sb3I6ICcjNmM4YmZmJyxcclxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyNTApO1xyXG5cclxuICB0aGlzLmFkZC50ZXh0KGN4LCBjeSArIDIwLCBgUDIgKFBpbik6ICR7dGhpcy5wdW50b3NQbGF5ZXIyfWAsIHtcclxuICAgIGZvbnRTaXplOiAnMjZweCcsXHJcbiAgICBjb2xvcjogJyNmZjZiNmInLFxyXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDI1MCk7XHJcblxyXG4gXHJcblxyXG4gIGNvbnN0IGJ0blcgPSAyNDA7XHJcbiAgY29uc3QgYnRuSCA9IDYyO1xyXG5cclxuICBjb25zdCBjcmVhdGVCdG4gPSAoeCwgeSwgdGV4dCwgYmFzZUNvbG9yLCBob3ZlckNvbG9yLCBjYWxsYmFjaykgPT4ge1xyXG4gICAgLy8gZm9uZG8gdmlzaWJsZVxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgYnRuVywgYnRuSCwgYmFzZUNvbG9yKVxyXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgLnNldFN0cm9rZVN0eWxlKDIsIDB4MGEyNzQwKVxyXG4gICAgICAuc2V0RGVwdGgoMzA1KTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6ICcjMDAxMzFkJyxcclxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMzA2KTtcclxuXHJcbiAgICAvLyBab25hIGludGVyYWN0aXZhIHRyYW5zcGFyZW50ZSBFWEFDVEFNRU5URSBkZWwgbWlzbW8gdGFtYcOxbyBxdWUgZWwgYmdcclxuICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBidG5XLCBidG5ILCAweDAwMDAwMCwgMClcclxuICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgIC5zZXREZXB0aCgzMDcpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZShuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC1idG5XLzIsIC1idG5ILzIsIGJ0blcsIGJ0bkgpLCBQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMpO1xyXG5cclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5LCBbYmcsIGxhYmVsLCBoaXRdKTtcclxuICAgIGNvbnRhaW5lci5zZXRTaXplKGJ0blcsIGJ0bkgpO1xyXG4gICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICBjb250YWluZXIuc2V0RGVwdGgoMzAwKTtcclxuXHJcbiAgICAvLyBIb3ZlciB1c2FuZG8gZWwgaGl0Ym94IChjb2luY2lkZSBzaWVtcHJlIGNvbiBsYSBhcGFyaWVuY2lhKVxyXG4gICAgaGl0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICBiZy5zZXRGaWxsU3R5bGUoaG92ZXJDb2xvcik7XHJcbiAgICAgICAgbGFiZWwuc2V0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMua2lsbFR3ZWVuc09mKGJnKTtcclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgdGFyZ2V0czogYmcsXHJcbiAgICAgICAgICBzY2FsZVg6IDEuMDYsXHJcbiAgICAgICAgICBzY2FsZVk6IDEuMDYsXHJcbiAgICAgICAgICBkdXJhdGlvbjogMTIwLFxyXG4gICAgICAgICAgZWFzZTogJ1Bvd2VyMidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgIGJnLnNldEZpbGxTdHlsZShiYXNlQ29sb3IpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKCcjMDAxMzFkJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmtpbGxUd2VlbnNPZihiZyk7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgIHRhcmdldHM6IGJnLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgZHVyYXRpb246IDEyMCxcclxuICAgICAgICAgIGVhc2U6ICdQb3dlcjInXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmQuZ2V0KCdCb3RvbicpKSB0aGlzLnNvdW5kLnBsYXkoJ0JvdG9uJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYnRuWSA9IGN5ICsgMTIwO1xyXG5cclxuICBjcmVhdGVCdG4oXHJcbiAgICBjeCAtIDE1MCwgXHJcbiAgICBidG5ZLFxyXG4gICAgXCJSZXBldGlyXCIsXHJcbiAgICAweDg4ZTFmZiwgICAgLy8gYmFzZVxyXG4gICAgMHg0ZmIwZmYsICAgIC8vIGhvdmVyXHJcbiAgICAoKSA9PiB0aGlzLnNjZW5lLnJlc3RhcnQoKSxcclxuICAgIFxyXG4gICk7XHJcblxyXG4gIGNyZWF0ZUJ0bihcclxuICAgIGN4ICsgMTUwLFxyXG4gICAgYnRuWSxcclxuICAgIFwiTWVuw7ogUHJpbmNpcGFsXCIsXHJcbiAgICAweGZmZGJhOCwgICAvLyBiYXNlXHJcbiAgICAweGZmYjU3YSwgICAvLyBob3ZlclxyXG4gICAgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJylcclxuICApO1xyXG59XHJcblxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gUmVzdW1lIGhhbmRsZXIgXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIG9uUmVzdW1lKCkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuY2FudmFzICYmIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUpIHtcclxuICAgICAgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICAvLyByZWFjdGl2YXIgaW5wdXQgcG9pbnRlclxyXG4gICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcikgPT4gdGhpcy5oYW5kbGVQb2ludGVyRG93bihwb2ludGVyKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKGRhdGEgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuICAgICAgICBjb25zdCBjeCA9IHcgLyAyO1xyXG4gICAgICAgIGNvbnN0IGN5ID0gaCAvIDI7XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZXZDdXJzb3IgPSAodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5jYW52YXMgJiYgdGhpcy5nYW1lLmNhbnZhcy5zdHlsZSkgPyB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA6ICcnO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb3V0ZXJCbG9ja2VyID0gdGhpcy5hZGQucmVjdGFuZ2xlKGN4LCBjeSwgdywgaCwgMHgwMDAwMDAsIDAuNikuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgb3V0ZXJCbG9ja2VyLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgb3V0ZXJCbG9ja2VyLnNldERlcHRoKDApO1xyXG5cclxuICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3ksIDU0MCwgNDYwLCAweDExMTIxYSkuc2V0U3Ryb2tlU3R5bGUoMywgMHgwMGNjNjYpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHBhbmVsLnNldERlcHRoKDEpO1xyXG5cclxuICAgICAgICBwYW5lbC5zY2FsZSA9IDAuOTtcclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBwYW5lbCwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxODAsIGVhc2U6ICdCYWNrLk91dCcgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY3gsIGN5IC0gMTgwLCAnUEFVU0FETycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwY2M2NicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKGN4LCBjeSAtIDE0MCwgMzQwLCAzLCAweDAwY2M2Nikuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMik7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKGN4LCBjeSAtIDQwLCAnUkVBTlVEQVInLCAweDAwY2M2NiwgMHg2NmZmYjIpO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihjeCwgY3kgKyA0MCwgJ01FTsOaIFBSSU5DSVBBTCcsIDB4ZmY2YjZiLCAweGZmOWE5YSk7XHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKGN4LCBjeSArIDEyMCwgJ1NBTElSJywgMHhmZmZmZmYsIDB4Y2NjY2NjKTtcclxuXHJcbiAgICAgICAgcmVzdW1lQnRuLnNldERlcHRoKDEwKTtcclxuICAgICAgICBtZW51QnRuLnNldERlcHRoKDEwKTtcclxuICAgICAgICBleGl0QnRuLnNldERlcHRoKDEwKTtcclxuXHJcbiAgICAgICAgcmVzdW1lQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuY2FudmFzICYmIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gdGhpcy5fcHJldkN1cnNvciB8fCAnYXV0byc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLm9yaWdpbmFsU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEub3JpZ2luYWxTY2VuZSkgdGhpcy5zY2VuZS5zdG9wKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kZXN0cm95KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9lc2NIYW5kbGVyID0gKCkgPT4gcmVzdW1lQnRuLmVtaXQoJ3BvaW50ZXJkb3duJyk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1FU0MnLCB0aGlzLl9lc2NIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZSgnc2h1dGRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmNhbnZhcyAmJiB0aGlzLmdhbWUuY2FudmFzLnN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9IHRoaXMuX3ByZXZDdXJzb3IgfHwgJ2F1dG8nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lc2NIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9mZigna2V5ZG93bi1FU0MnLCB0aGlzLl9lc2NIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VzY0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQnV0dG9uKHgsIHksIHRleHQsIG5vcm1hbEhleCwgaG92ZXJIZXgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gMzYwO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gNjQ7XHJcbiAgICBjb25zdCBub3JtYWxDb2xvciA9IGAjJHtub3JtYWxIZXgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyl9YDtcclxuICAgIGNvbnN0IGhvdmVyQ29sb3IgPSBgIyR7aG92ZXJIZXgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyl9YDtcclxuXHJcbiAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDFmMjM0MClcclxuICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoMiwgbm9ybWFsSGV4KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgdGV4dCwge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgY29sb3I6IG5vcm1hbENvbG9yLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIGNvbnN0IGJ0biA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5LCBbYmcsIGxhYmVsXSk7XHJcblxyXG4gICAgLy8gRXN0YWJsZWNlIGVsIHRhbWHDsW8gZGVsIGJvdMOzblxyXG4gICAgYnRuLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgLy8gSElUQk9YIFBFUkZFQ1RPIHNpbiBvZmZzZXRzIHJhcm9zXHJcbiAgICBidG4uc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MmYzNDU4KTtcclxuICAgICAgICBiZy5zZXRTdHJva2VTdHlsZSgzLCBob3ZlckhleCk7XHJcbiAgICAgICAgbGFiZWwuc2V0Q29sb3IoaG92ZXJDb2xvcik7XHJcbiAgICAgICAgbGFiZWwuc2V0U2NhbGUoMS4wNSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MWYyMzQwKTtcclxuICAgICAgICBiZy5zZXRTdHJva2VTdHlsZSgyLCBub3JtYWxIZXgpO1xyXG4gICAgICAgIGxhYmVsLnNldENvbG9yKG5vcm1hbENvbG9yKTtcclxuICAgICAgICBsYWJlbC5zZXRTY2FsZSgxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogYnRuLCBzY2FsZVg6IDAuOTgsIHNjYWxlWTogMC45OCwgZHVyYXRpb246IDgwLCB5b3lvOiB0cnVlIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGJ0bjtcclxufVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG4gICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zJywgJ2Fzc2V0cy9Gb25kb0NyZWRpdG9zLnBuZycpOyAvLyBmb25kbyh0aXR1bG8pIFxyXG4gICAgICAgIC8vIFNPTE8gU09OSURPUyAob3BjaW9uYWwpXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNdXNpY2FfbWVudScsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9JdHMgU2FmZSBOb3cubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdCb3RvbicsICdhc3NldHMvU29uaWRvcyBwYXJhX3JlZC9Cb3Rvbi5tcDMnKTsgIFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnQ3JlZGl0b3MnKS5zZXRPcmlnaW4oMCwgMCk7ICAvL2ZvbmRvKHRpdHVsbylcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZSh0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCk7XHJcblxyXG5cclxuICAgICAgICAvLyBTT05JRE9TXHJcbiAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ011c2ljYV9tZW51JykucGxheSh7IGxvb3A6IHRydWUsIHZvbHVtZTogMC41IH0pO1xyXG5cclxuICAgICAgICAvLyBUw41UVUxPXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDUwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRFWFRPIERFIENSw4lESVRPU1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNUZXh0ID0gYFxyXG5EZXNhcnJvbGxhZG9yZXM6XHJcbi0gQ3Jpc3RpYW4gQm9hYmVzXHJcbi0gTmFzcmVkZGluIEVsIEtoaXlhdCBJbXVzYXRpblxyXG4tIEphaW1lIEFsb25zbyBkZWwgUmVhbFxyXG4tIERhdmlkIE1hcnTDrW5leiBHYXJjw61hXHJcbkFydGU6IFxyXG4tIERhdmlkIE1hcnTDrW5leiBHYXJjw61hXHJcblNvbmlkb3MgeSBNw7pzaWNhOiBcclxuLSBKYWltZSBBbG9uc28gZGVsIFJlYWxcclxuVGVzdGVvOiBcclxuLSBDcmlzdGlhbiBCb2FiZXNcclxuLSBOYXNyZWRkaW4gRWwgS2hpeWF0IEltdXNhdGluXHJcbkdyYWNpYXMgcG9yIGp1Z2FyXHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVkaXRzID0gdGhpcy5hZGQudGV4dCg0MDAsIDI2MCwgY3JlZGl0c1RleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogNzAwIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVHdlZW46IHBlcXVlw7FvIG1vdmltaWVudG8gZGUgJ2Zsb3RhY2nDs24nIChib2JiaW5nKVxyXG4gICAgICAgIC8vIG11ZXZlIGxvcyBjcsOpZGl0b3MgdW5vcyBwb2NvcyBww614ZWxlcyBhcnJpYmEvYWJham8gZW4gYnVjbGVcclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNyZWRpdHMsXHJcbiAgICAgICAgICAgIHk6IHRoaXMuY3JlZGl0cy55IC0gOCxcclxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCcsXHJcbiAgICAgICAgICAgIHlveW86IHRydWUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTEsXHJcbiAgICAgICAgICAgIC8vIGxpZ2VyYSB2YXJpYWNpw7NuIGRlIGluaWNpbyBwYXJhIG5vIHNpbmNyb25pemFyIGV4YWN0YW1lbnRlIHNpIGhheSBvdHJvcyBvYmpldG9zXHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJPVMOTTiBQQVJBIFZPTFZFUlxyXG4gICAgICAgIHRoaXMubG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTAwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNlMThmYTFmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLmxvY2FsQnRuLnNldENvbG9yKCcjZmZmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB0aGlzLmxvY2FsQnRuLnNldENvbG9yKCcjZTE4ZmExZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnQm90b24nKS5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vIEVsIG1vdmltaWVudG8gZGUgbG9zIGNyw6lkaXRvcyBsbyBnZXN0aW9uYSBlbCB0d2VlbiBjcmVhZG8gZW4gY3JlYXRlKClcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignU2V0dGluZ3NTY2VuZScpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKGRhdGEpIHtcclxuICAgIGNvbnN0IGN4ID0gdGhpcy5zY2FsZS53aWR0aCAvIDI7XHJcbiAgICBjb25zdCBjeSA9IHRoaXMuc2NhbGUuaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAvLyBGb25kbyBvc2N1cm9cclxuICAgIHRoaXMuYWRkLnJlY3RhbmdsZShjeCwgY3ksIHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0LCAweDAwMDAwMCwgMC42KTtcclxuXHJcbiAgICAvLyBQYW5lbFxyXG4gICAgY29uc3QgcGFuZWwgPSB0aGlzLmFkZC5yZWN0YW5nbGUoY3gsIGN5LCA1MjAsIDQyMCwgMHgwYjEyMjApXHJcbiAgICAgIC5zZXRTdHJva2VTdHlsZSgzLCAweDFmNmZlYik7XHJcblxyXG4gICAgdGhpcy5hZGQudGV4dChjeCwgY3kgLSAxNzAsICdBSlVTVEVTJywge1xyXG4gICAgICBmb250U2l6ZTogJzM2cHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gLS0tIFZPTFVNRU4gLS0tXHJcbiAgICB0aGlzLmFkZC50ZXh0KGN4IC0gMTgwLCBjeSAtIDkwLCAnVm9sdW1lbicsIHtcclxuICAgICAgZm9udFNpemU6ICcyMnB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVWb2x1bWVTbGlkZXIoY3ggLSAxMjAsIGN5IC0gNTAsIDI0MCk7XHJcblxyXG4gICAgLy8gLS0tIENPTlRST0xFUyAtLS1cclxuICAgIHRoaXMuYWRkLnRleHQoY3gsIGN5ICsgMjAsXHJcbiAgICAgICdDT05UUk9MRVNcXG5cXG4nICtcclxuICAgICAgJ/CflrEgQ2xpY2sgaXpxdWllcmRvOiBHb2xwZWFyXFxuJyArXHJcbiAgICAgICfwn5axIENsaWNrIGRlcmVjaG86IFBvd2VydXAgUDFcXG4nICtcclxuICAgICAgJ+KQoyBFc3BhY2lvOiBQb3dlcnVwIFAyXFxuJyArXHJcbiAgICAgICcxLTY6IE1vdmVyIHRvcG9cXG4nICtcclxuICAgICAgJ0VTQzogUGF1c2EnLFxyXG4gICAgICB7XHJcbiAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICBjb2xvcjogJyNkY2UzZmYnLFxyXG4gICAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgICB9XHJcbiAgICApLnNldE9yaWdpbigwLjUsIDApO1xyXG5cclxuICAgICAvLyBCT1TDk04gUEFSQSBWT0xWRVJcclxuICAgICAgICB0aGlzLmxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDUwMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZTE4ZmExZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2ZmZmZmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5sb2NhbEJ0bi5zZXRDb2xvcignI2UxOGZhMWZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ0JvdG9uJykucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBTbGlkZXIgZGUgdm9sdW1lblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGNyZWF0ZVZvbHVtZVNsaWRlcih4LCB5LCB3aWR0aCkge1xyXG4gICAgY29uc3QgYmFyID0gdGhpcy5hZGQucmVjdGFuZ2xlKHggKyB3aWR0aCAvIDIsIHksIHdpZHRoLCA2LCAweDQ0NTVhYSlcclxuICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZSA9IHRoaXMuYWRkLmNpcmNsZShcclxuICAgICAgeCArIHdpZHRoICogdGhpcy5zb3VuZC52b2x1bWUsXHJcbiAgICAgIHksXHJcbiAgICAgIDEwLFxyXG4gICAgICAweGZmZmZmZlxyXG4gICAgKS5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuXHJcbiAgICB0aGlzLmlucHV0LnNldERyYWdnYWJsZShoYW5kbGUpO1xyXG5cclxuICAgIHRoaXMuaW5wdXQub24oJ2RyYWcnLCAocG9pbnRlciwgb2JqLCBkcmFnWCkgPT4ge1xyXG4gICAgICBpZiAob2JqICE9PSBoYW5kbGUpIHJldHVybjtcclxuXHJcbiAgICAgIGRyYWdYID0gUGhhc2VyLk1hdGguQ2xhbXAoZHJhZ1gsIHgsIHggKyB3aWR0aCk7XHJcbiAgICAgIG9iai54ID0gZHJhZ1g7XHJcblxyXG4gICAgICBjb25zdCB2b2x1bWUgPSAoZHJhZ1ggLSB4KSAvIHdpZHRoO1xyXG4gICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IHZvbHVtZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gQm90w7NuIHNpbXBsZSByZXV0aWxpemFibGVcclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBjcmVhdGVCdXR0b24oeCwgeSwgdGV4dCwgY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKHgsIHksIDIwMCwgNTAsIDB4ODhlMWZmKVxyXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoeCwgeSwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgY29sb3I6ICcjMDAxMzFkJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgYmcub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmcuc2V0RmlsbFN0eWxlKDB4NGZiMGZmKSk7XHJcbiAgICBiZy5vbigncG9pbnRlcm91dCcsICgpID0+IGJnLnNldEZpbGxTdHlsZSgweDg4ZTFmZikpO1xyXG4gICAgYmcub24oJ3BvaW50ZXJkb3duJywgY2FsbGJhY2spO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcblxuLyoqXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gbnVsbDtcbiAgICB9XG5cbiAgICBpbml0KGRhdGEpIHtcbiAgICAgICAgLy8gR3VhcmRhciBsYSBlc2NlbmEgcXVlIGVzdGFiYSBhY3RpdmEgY3VhbmRvIHNlIHBlcmRpw7MgbGEgY29uZXhpw7NuXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZSA9IGRhdGEucHJldmlvdXNTY2VuZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjgpO1xuXG4gICAgICAgIC8vIFTDrXR1bG9cbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIwMCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBNZW5zYWplXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnSW50ZW50b3M6IDAnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBJbmRpY2Fkb3IgcGFycGFkZWFudGVcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogMjAwMCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvdHMgPSAnLicucmVwZWF0KHRoaXMuZG90Q291bnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XG5cbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XG4gICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcbiAgICB9XG5cbiAgICBvblJlY29ubmVjdGVkKCkge1xuICAgICAgICAvLyBMaW1waWFyIGludGVydmFsXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xuXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoUNvbmV4acOzbiByZXN0YWJsZWNpZGEhJyk7XG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xuXG4gICAgICAgIC8vIFZvbHZlciBhIGxhIGVzY2VuYSBhbnRlcmlvclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c1NjZW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogTG9iYnkgU2NlbmUgLSBXYWl0aW5nIGZvciBtdWx0aXBsYXllciBtYXRjaG1ha2luZ1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2JieVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoeyBrZXk6ICdMb2JieVNjZW5lJyB9KTtcbiAgICB0aGlzLndzID0gbnVsbDtcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcblxuICAgIC8vIFRpdGxlXG4gICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCwgJ09ubGluZSBNdWx0aXBsYXllcicsIHtcbiAgICAgIGZvbnRTaXplOiAnNDhweCcsXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAvLyBTdGF0dXMgdGV4dFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25uZWN0aW5nIHRvIHNlcnZlci4uLicsIHtcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICBjb2xvcjogJyNmZmZmMDAnXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAvLyBQbGF5ZXIgY291bnQgdGV4dFxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICBjb2xvcjogJyMwMGZmMDAnXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAvLyBDYW5jZWwgYnV0dG9uXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAtIDEwMCwgJ0NhbmNlbCcsIHtcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICBjb2xvcjogJyNmZjY2NjYnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzMzMzMzMycsXG4gICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcblxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjAwMDAnKTtcbiAgICB9KTtcblxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRDb2xvcignI2ZmNjY2NicpO1xuICAgIH0pO1xuXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xuICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XG4gICAgfSk7XG5cbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xuICB9XG5cbiAgY29ubmVjdFRvU2VydmVyKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7XG5cbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcblxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnV2FpdGluZyBmb3Igb3Bwb25lbnQuLi4nKTtcblxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gZXJyb3IhJyk7XG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBsb3N0IScpO1xuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRmFpbGVkIHRvIGNvbm5lY3QhJyk7XG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxuICAgICAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBQbGF5ZXJzIGluIHF1ZXVlOiAke2RhdGEucG9zaXRpb259LzJgKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIScsIGRhdGEpO1xuICAgICAgICAvLyBTdG9yZSBnYW1lIGRhdGEgYW5kIHRyYW5zaXRpb24gdG8gbXVsdGlwbGF5ZXIgZ2FtZSBzY2VuZVxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllckdhbWVTY2VuZScsIHtcbiAgICAgICAgICB3czogdGhpcy53cyxcbiAgICAgICAgICBwbGF5ZXJSb2xlOiBkYXRhLnJvbGUsXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcbiAgICAgICAgICBpbml0aWFsQmFsbDogZGF0YS5iYWxsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XG4gICAgfVxuICB9XG5cbiAgbGVhdmVRdWV1ZSgpIHtcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xuICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNodXRkb3duKCkge1xuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBQb20gfSBmcm9tICcuLi9lbnRpdGllcy9Qb20nO1xuaW1wb3J0IHsgUGluIH0gZnJvbSAnLi4vZW50aXRpZXMvUGluJztcblxuLyoqXG4gKiBNdWx0aXBsYXllciBHYW1lIFNjZW5lIC0gT25saW5lIHBvbmcgZ2FtZVxuICogQmFsbCBwaHlzaWNzIHJ1biBvbiBib3RoIGNsaWVudHMgKGRldGVybWluaXN0aWMpXG4gKiBTZXJ2ZXIgb25seSB0cmFja3Mgc2NvcmVzIGFuZCByZWxheXMgcGFkZGxlIHBvc2l0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllckdhbWVTY2VuZScpO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLndzID0gZGF0YS53cztcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlOyAvLyAncGxheWVyMScgb3IgJ3BsYXllcjInXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbEJhbGwgPSBkYXRhLmluaXRpYWxCYWxsO1xuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9jYWxQYWRkbGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9jYWxTY29yZSA9IDA7XG4gICAgICAgIHRoaXMucmVtb3RlU2NvcmUgPSAwO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgxYTFhMmUpO1xuXG4gICAgICAgIC8vIENlbnRlciBkaXNjb250aW51ZWQgbGluZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIGkgKiA1MCArIDI1LCAxMCwgMzAsIDB4NDQ0NDQ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjb3JlIHRleHRzXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCgxMDAsIDUwLCAnMCcsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2NvcmVSaWdodCA9IHRoaXMuYWRkLnRleHQoNzAwLCA1MCwgJzAnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSb2xlIGluZGljYXRvclxuICAgICAgICBjb25zdCByb2xlVGV4dCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ1lvdSBhcmUgUGxheWVyIDEgKExlZnQpJyA6ICdZb3UgYXJlIFBsYXllciAyIChSaWdodCknO1xuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAsIHJvbGVUZXh0LCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJvdW5kcygpO1xuICAgICAgICB0aGlzLmNyZWF0ZUJhbGwoKTtcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcblxuICAgICAgICAvLyBBZGQgY29sbGlkZXJzXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5iYWxsLCB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5iYWxsLCB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5iYWxsLCB0aGlzLmxlZnRHb2FsLCB0aGlzLnNjb3JlTGVmdEdvYWwsIG51bGwsIHRoaXMpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5iYWxsLCB0aGlzLnJpZ2h0R29hbCwgdGhpcy5zY29yZVJpZ2h0R29hbCwgbnVsbCwgdGhpcyk7XG5cbiAgICAgICAgLy8gU2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldExpc3RlbmVycygpO1xuXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCAtIGJvdGggcGxheWVycyB1c2UgYXJyb3cga2V5c1xuICAgICAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcblxuICAgICAgICAvLyBMYXVuY2ggYmFsbCB3aXRoIHNlcnZlci1wcm92aWRlZCBpbml0aWFsIHN0YXRlXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSh0aGlzLmluaXRpYWxCYWxsLnZ4LCB0aGlzLmluaXRpYWxCYWxsLnZ5KTtcbiAgICB9XG5cbiAgICBzZXRVcFBsYXllcnMoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBwYWRkbGVzIGJhc2VkIG9uIHBsYXllciByb2xlXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xuICAgICAgICAgICAgdGhpcy5sb2NhbFBhZGRsZSA9IG5ldyBQYWRkbGUodGhpcywgJ3BsYXllcjEnLCA1MCwgMzAwKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGFkZGxlID0gbmV3IFBhZGRsZSh0aGlzLCAncGxheWVyMicsIDc1MCwgMzAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWRkbGUgPSBuZXcgUGFkZGxlKHRoaXMsICdwbGF5ZXIyJywgNzUwLCAzMDApO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWRkbGUgPSBuZXcgUGFkZGxlKHRoaXMsICdwbGF5ZXIxJywgNTAsIDMwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncGFkZGxlVXBkYXRlJzpcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgb3Bwb25lbnQncyBwYWRkbGUgcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUueSA9IGRhdGEueTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnc2NvcmVVcGRhdGUnOlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzY29yZXMgZnJvbSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/IGRhdGEucGxheWVyMVNjb3JlIDogZGF0YS5wbGF5ZXIyU2NvcmU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVTY29yZSA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gZGF0YS5wbGF5ZXIyU2NvcmUgOiBkYXRhLnBsYXllcjFTY29yZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQoZGF0YS5wbGF5ZXIxU2NvcmUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVJpZ2h0LnNldFRleHQoZGF0YS5wbGF5ZXIyU2NvcmUudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGJhbGwsIHNlcnZlciB3aWxsIHJlbGF1bmNoIGl0XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zZXRQb3NpdGlvbig0MDAsIDMwMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JhbGxSZWxhdW5jaCc6XG4gICAgICAgICAgICAgICAgLy8gU2VydmVyIGlzIHJlbGF1bmNoaW5nIHRoZSBiYWxsIHdpdGggbmV3IHZlbG9jaXR5XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFBvc2l0aW9uKGRhdGEuYmFsbC54LCBkYXRhLmJhbGwueSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KGRhdGEuYmFsbC52eCwgZGF0YS5iYWxsLnZ5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxuICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lciwgZGF0YS5wbGF5ZXIxU2NvcmUsIGRhdGEucGxheWVyMlNjb3JlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjb3JlTGVmdEdvYWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJhbGwgaGl0IExFRlQgZ29hbCAoeD0wKSwgc28gbm90aWZ5IHNlcnZlclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogJ2dvYWwnLCBzaWRlOiAnbGVmdCcgfSk7XG4gICAgfVxuXG4gICAgc2NvcmVSaWdodEdvYWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJhbGwgaGl0IFJJR0hUIGdvYWwgKHg9ODAwKSwgc28gbm90aWZ5IHNlcnZlclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogJ2dvYWwnLCBzaWRlOiAncmlnaHQnIH0pO1xuICAgIH1cblxuICAgIGVuZEdhbWUod2lubmVyLCBwbGF5ZXIxU2NvcmUsIHBsYXllcjJTY29yZSkge1xuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcbiAgICAgICAgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XG4gICAgICAgIHRoaXMucmVtb3RlUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XG5cbiAgICAgICAgY29uc3QgaXNXaW5uZXIgPSAod2lubmVyID09PSAncGxheWVyMScgJiYgdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAod2lubmVyID09PSAncGxheWVyMicgJiYgdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMicpO1xuXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPSBpc1dpbm5lciA/ICdZb3UgV2luIScgOiAnWW91IExvc2UhJztcbiAgICAgICAgY29uc3QgY29sb3IgPSBpc1dpbm5lciA/ICcjMDBmZjAwJyA6ICcjZmYwMDAwJztcblxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAwLCB3aW5uZXJUZXh0LCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyODAsIGBGaW5hbCBTY29yZTogJHtwbGF5ZXIxU2NvcmV9IC0gJHtwbGF5ZXIyU2NvcmV9YCwge1xuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XG4gICAgICAgIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xuICAgICAgICB0aGlzLnJlbW90ZVBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xuXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdPcHBvbmVudCBEaXNjb25uZWN0ZWQnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgJ1JldHVybiB0byBNYWluIE1lbnUnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhbGwoKSB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgZ3JhcGhpY3MuZmlsbFN0eWxlKDB4ZmZmZmZmKTtcbiAgICAgICAgZ3JhcGhpY3MuZmlsbENpcmNsZSg4LCA4LCA4KTtcbiAgICAgICAgZ3JhcGhpY3MuZ2VuZXJhdGVUZXh0dXJlKCdiYWxsLW11bHRpJywgMTYsIDE2KTtcbiAgICAgICAgZ3JhcGhpY3MuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuYmFsbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgMzAwLCAnYmFsbC1tdWx0aScpO1xuICAgICAgICB0aGlzLmJhbGwuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xuICAgICAgICB0aGlzLmJhbGwuc2V0Qm91bmNlKDEpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJvdW5kcygpIHtcbiAgICAgICAgdGhpcy5sZWZ0R29hbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDAsIDMwMCwgbnVsbCk7XG4gICAgICAgIHRoaXMubGVmdEdvYWwuc2V0RGlzcGxheVNpemUoMTAsIDYwMCk7XG4gICAgICAgIHRoaXMubGVmdEdvYWwuYm9keS5zZXRTaXplKDEwLCA2MDApO1xuICAgICAgICB0aGlzLmxlZnRHb2FsLnNldEltbW92YWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5sZWZ0R29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJpZ2h0R29hbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDgwMCwgMzAwLCBudWxsKTtcbiAgICAgICAgdGhpcy5yaWdodEdvYWwuc2V0RGlzcGxheVNpemUoMTAsIDYwMCk7XG4gICAgICAgIHRoaXMucmlnaHRHb2FsLmJvZHkuc2V0U2l6ZSgxMCwgNjAwKTtcbiAgICAgICAgdGhpcy5yaWdodEdvYWwuc2V0SW1tb3ZhYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnJpZ2h0R29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEhhbmRsZSBsb2NhbCBwYWRkbGUgaW5wdXQgLSBib3RoIHBsYXllcnMgdXNlIGFycm93IGtleXNcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMudXAuaXNEb3duKSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSBsb2NhbCBwYWRkbGVcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAzMDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWRkbGUuc3ByaXRlLnNldFZlbG9jaXR5WSgtc3BlZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFkZGxlLnNwcml0ZS5zZXRWZWxvY2l0eVkoc3BlZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUuc2V0VmVsb2NpdHlZKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VuZCBwYWRkbGUgcG9zaXRpb24gdG8gc2VydmVyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogJ3BhZGRsZU1vdmUnLFxuICAgICAgICAgICAgeTogdGhpcy5sb2NhbFBhZGRsZS5zcHJpdGUueVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBTZXR0aW5nc1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvU2V0dGluZ3NTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzJztcclxuaW1wb3J0IExvYmJ5U2NlbmUgZnJvbSAnLi9zY2VuZXMvTG9iYnlTY2VuZS5qcyc7XHJcbmltcG9ydCB7IE11bHRpcGxheWVyR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTXVsdGlwbGF5ZXJHYW1lU2NlbmUuanMnO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogMTAwMCxcclxuICAgIGhlaWdodDogNjAwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHk6IDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbTWVudVNjZW5lLCBHYW1lU2NlbmUsIFBhdXNlU2NlbmUsIENyZWRpdFNjZW5lLCBTZXR0aW5nc1NjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBMb2JieVNjZW5lLCBNdWx0aXBsYXllckdhbWVTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWExYTJlJyxcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpOyJdLCJuYW1lcyI6WyJQaGFzZXIiLCJjb25uZWN0aW9uTWFuYWdlciIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNvbm5lY3RlZENvdW50IiwiaXNDb25uZWN0ZWQiLCJsYXN0Q2hlY2tUaW1lIiwiY2hlY2tJbnRlcnZhbCIsImxpc3RlbmVycyIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiaW50ZXJ2YWxJZCIsInN0YXJ0UG9sbGluZyIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjaGVja0Nvbm5lY3Rpb24iLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXR1cyIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwicHVzaCIsInJlbW92ZUxpc3RlbmVyIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwiZ2V0U3RhdHVzIiwic2V0SW50ZXJ2YWwiLCJzdG9wUG9sbGluZyIsImNsZWFySW50ZXJ2YWwiLCJNZW51U2NlbmUiLCJzdXBlciIsInByZWxvYWQiLCJsb2FkIiwiaW1hZ2UiLCJhdWRpbyIsImNyZWF0ZSIsInNvdW5kIiwic3RvcEFsbCIsIm11c2ljYU1lbnUiLCJhZGQiLCJwbGF5IiwibG9vcCIsInZvbHVtZSIsInNldE9yaWdpbiIsInNldERpc3BsYXlTaXplIiwic2NhbGUiLCJ3aWR0aCIsImhlaWdodCIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiZm9udFN0eWxlIiwiZm9udEZhbWlseSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRDb2xvciIsInNjZW5lIiwic3RhcnQiLCJjcmVkaXRCdG4iLCJzZXR0aW5nc0J0biIsIm9ubGluZUJ0biIsImNvbm5lY3Rpb25UZXh0IiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsInNldFRleHQiLCJzaHV0ZG93biIsInN0b3AiLCJQb20iLCJHYW1lT2JqZWN0cyIsIkltYWdlIiwiaWQiLCJ4IiwieSIsInNldFNjYWxlIiwic2V0RGVwdGgiLCJleGlzdGluZyIsImlzSGl0dGluZyIsImhpdE9mZnNldCIsImlucHV0IiwicG9pbnRlciIsImhpdCIsInN0YXJ0WCIsInN0YXJ0WSIsInN0YXJ0QW5nbGUiLCJhbmdsZSIsInJhZGlhbnMiLCJEZWdUb1JhZCIsImRpc3RhbmNlIiwiZHgiLCJjb3MiLCJkeSIsInNpbiIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsImVhc2UiLCJvbkNvbXBsZXRlIiwiUGluIiwicG9wVXBEdXJhdGlvbiIsImhlYWx0aCIsImhvbGVzIiwiY3VycmVudEhvbGVJbmRleCIsIm1vdmVDb29sZG93biIsIl9sYXN0TW92ZVRpbWUiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0SW1tb3ZhYmxlIiwiYWxsb3dHcmF2aXR5Iiwic2V0VmlzaWJsZSIsIl9vbkhpdENhbGxiYWNrIiwiX3BvaW50ZXJSZWdpc3RlcmVkIiwiZGlzYWJsZUludGVyYWN0aXZlIiwic2V0SG9sZXMiLCJsZW5ndGgiLCJtb3ZlVG9Ib2xlIiwidGltZSIsIldyYXAiLCJwb3MiLCJzZXRQb3NpdGlvbiIsImhpZGUiLCJtb3ZlSW5kZXgiLCJkZWx0YSIsInBvcFVwIiwiX3dhc0hpdCIsImV2ZW50cyIsImVtaXQiLCJob2xlSW5kZXgiLCJ0aW1lc3RhbXAiLCJlIiwid2FybiIsImRlbGF5ZWRDYWxsIiwic2V0VGludCIsImNsZWFyVGludCIsInJlc2V0IiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiR2FtZVNjZW5lIiwiaW5pdCIsInRpbWVMZWZ0IiwiaXNHYW1lT3ZlciIsInB1bnRvc1BsYXllcjEiLCJwdW50b3NQbGF5ZXIyIiwicG93ZXJ1cEFtb3VudCIsInBvd2VydXBNYXhTdG9yZWQiLCJwb3dlcnVwU3RvcmVkUDEiLCJwb3dlcnVwU3RvcmVkUDIiLCJwb3dlcnVwIiwicG93ZXJ1cEhvbGVJbmRleCIsInBvd2VydXBEdXJhdGlvbiIsInBvd2VydXBTcGF3bk1pbiIsInBvd2VydXBTcGF3bk1heCIsInRvcG9UaW1lciIsImdhbWVUaW1lciIsInByb2Nlc3NvciIsInJlY3RhbmdsZSIsIm11c2ljYU5pdmVsIiwibW91c2UiLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJnYW1lIiwiY2FudmFzIiwic3R5bGUiLCJjdXJzb3IiLCJtYXJ0aWxsbyIsImFjdGl2ZVBvaW50ZXIiLCJzY29yZVBsYXllcjEiLCJzY29yZVBsYXllcjIiLCJ0aW1lclRleHQiLCJmb3JtYXRUaW1lIiwicG93ZXJ1cFRleHRQMSIsInBvd2VydXBUZXh0UDIiLCJrZXlzIiwia2V5Ym9hcmQiLCJhZGRLZXlzIiwib25lIiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIk9ORSIsInR3byIsIlRXTyIsInRocmVlIiwiVEhSRUUiLCJmb3VyIiwiRk9VUiIsImZpdmUiLCJGSVZFIiwic2l4IiwiU0lYIiwiZXNjIiwiRVNDIiwic3BhY2UiLCJTUEFDRSIsIm9uUmVzdW1lIiwiY3JlYXRlVG9wb3MiLCJzY2hlZHVsZU5leHRQb3dlcnVwIiwib2ZmIiwicGlja3VwUG93ZXJ1cEJ5UGxheWVyIiwiaGFuZGxlUG9pbnRlckRvd24iLCJhZGRFdmVudCIsImRlbGF5IiwiZW5kUm91bmQiLCJ1cGRhdGVTY29yZVVJIiwidXBkYXRlUG93ZXJ1cFVJIiwiaXNMZWZ0IiwiYnV0dG9uIiwiZXZlbnQiLCJpc1JpZ2h0IiwicEJvdW5kcyIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwidG9wbyIsInVzZVBvd2VydXBCeVBsYXllciIsImJvdW5kcyIsImNhbWVyYXMiLCJtYWluIiwic2hha2UiLCJ0b3BvSG9sZXMiLCJCZXR3ZWVuIiwic3Bhd25Qb3dlcnVwQXRSYW5kb21Ib2xlIiwieW95byIsInJlcGVhdCIsImRlc3Ryb3kiLCJwbGF5ZXJJZCIsImdldCIsImZsYXNoIiwic2Vjb25kcyIsImZsb29yIiwicGFkU3RhcnQiLCJ1cGRhdGUiLCJKdXN0RG93biIsImxhdW5jaCIsIm9yaWdpbmFsU2NlbmUiLCJwYXVzZSIsInJlbW92ZSIsImN4IiwiY3kiLCJwYW5lbCIsInNldFN0cm9rZVN0eWxlIiwid2lubmVyVGV4dCIsImJ0blciLCJjcmVhdGVCdG4iLCJiYXNlQ29sb3IiLCJob3ZlckNvbG9yIiwiYmciLCJsYWJlbCIsIlJlY3RhbmdsZSIsIkNvbnRhaW5zIiwiY29udGFpbmVyIiwic2V0U2l6ZSIsInNldEZpbGxTdHlsZSIsImtpbGxUd2VlbnNPZiIsInNjYWxlWCIsInNjYWxlWSIsImJ0blkiLCJyZXN0YXJ0IiwiUGF1c2VTY2VuZSIsInciLCJoIiwiX3ByZXZDdXJzb3IiLCJvdXRlckJsb2NrZXIiLCJyZXN1bWVCdG4iLCJjcmVhdGVCdXR0b24iLCJtZW51QnRuIiwiZXhpdEJ0biIsInJlc3VtZSIsIl9lc2NIYW5kbGVyIiwib25jZSIsIm5vcm1hbEhleCIsImhvdmVySGV4Iiwibm9ybWFsQ29sb3IiLCJidG4iLCJDcmVkaXRTY2VuZSIsImNyZWRpdHMiLCJhbGlnbiIsIndvcmRXcmFwIiwiU2V0dGluZ3NTY2VuZSIsImNyZWF0ZVZvbHVtZVNsaWRlciIsImhhbmRsZSIsImNpcmNsZSIsImRyYWdnYWJsZSIsInNldERyYWdnYWJsZSIsIm9iaiIsImRyYWdYIiwiQ2xhbXAiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tJbnRlcnZhbCIsInByZXZpb3VzU2NlbmUiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsIkxvYmJ5U2NlbmUiLCJTY2VuZSIsImtleSIsIndzIiwicGxheWVyQ291bnRUZXh0IiwiY2FuY2VsQnV0dG9uIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImxlYXZlUXVldWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJ3c1VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsIldlYlNvY2tldCIsIm9ub3BlbiIsInNlbmQiLCJ0eXBlIiwib25tZXNzYWdlIiwicGFyc2UiLCJoYW5kbGVTZXJ2ZXJNZXNzYWdlIiwib25lcnJvciIsIm9uY2xvc2UiLCJwb3NpdGlvbiIsInBsYXllclJvbGUiLCJyb2xlIiwicm9vbUlkIiwiaW5pdGlhbEJhbGwiLCJiYWxsIiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJjbG9zZSIsIk11bHRpcGxheWVyR2FtZVNjZW5lIiwiaXNQYXVzZWQiLCJnYW1lRW5kZWQiLCJsb2NhbFBhZGRsZSIsInJlbW90ZVBhZGRsZSIsImxvY2FsU2NvcmUiLCJyZW1vdGVTY29yZSIsImkiLCJzY29yZUxlZnQiLCJzY29yZVJpZ2h0Iiwicm9sZVRleHQiLCJjcmVhdGVCb3VuZHMiLCJjcmVhdGVCYWxsIiwic2V0VXBQbGF5ZXJzIiwiY29sbGlkZXIiLCJvdmVybGFwIiwibGVmdEdvYWwiLCJzY29yZUxlZnRHb2FsIiwicmlnaHRHb2FsIiwic2NvcmVSaWdodEdvYWwiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImN1cnNvcnMiLCJjcmVhdGVDdXJzb3JLZXlzIiwic2V0VmVsb2NpdHkiLCJ2eCIsInZ5IiwiUGFkZGxlIiwicGxheWVyMVNjb3JlIiwicGxheWVyMlNjb3JlIiwiZW5kR2FtZSIsIndpbm5lciIsInNlbmRNZXNzYWdlIiwic2lkZSIsImlzV2lubmVyIiwiY3JlYXRlTWVudUJ1dHRvbiIsImdyYXBoaWNzIiwiZmlsbFN0eWxlIiwiZmlsbENpcmNsZSIsImdlbmVyYXRlVGV4dHVyZSIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsInNldEJvdW5jZSIsIm1lc3NhZ2UiLCJkaXJlY3Rpb24iLCJ1cCIsImlzRG93biIsImRvd24iLCJzZXRWZWxvY2l0eVkiLCJjb25maWciLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIl0sInNvdXJjZVJvb3QiOiIifQ==